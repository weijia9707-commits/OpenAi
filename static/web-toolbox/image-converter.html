<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Format Converter - Online Batch Image Converter | Web Toolbox</title>

    <!-- SEO Meta Tags -->
    <meta name="description" content="Free online image format converter. Convert between PNG, JPEG, WebP, GIF, BMP, ICO formats. Batch conversion, quality adjustment, local processing for privacy.">
    <meta name="keywords" content="image format converter,image converter,PNG to JPG,JPG to PNG,WebP converter,batch image converter,online image converter,free image converter">
    <meta name="author" content="heyuan110">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://www.heyuan110.com/web-toolbox/image-converter.html">

    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.heyuan110.com/web-toolbox/image-converter.html">
    <meta property="og:title" content="Image Format Converter - Online Batch Image Converter">
    <meta property="og:description" content="Free online image format converter. Convert between PNG, JPEG, WebP, GIF, BMP formats.">
    <meta property="og:image" content="https://www.heyuan110.com/web-toolbox/screenshots/image-converter.png">
    <meta property="og:locale" content="en_US">
    <meta property="og:site_name" content="Web Toolbox">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Image Format Converter - Online Batch Image Converter">
    <meta name="twitter:description" content="Free online image format converter. Convert between multiple formats.">
    <meta name="twitter:image" content="https://www.heyuan110.com/web-toolbox/screenshots/image-converter.png">

    <!-- JSON-LD -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Image Format Converter",
        "url": "https://www.heyuan110.com/web-toolbox/image-converter.html",
        "description": "Online image format converter supporting multiple image format conversions",
        "applicationCategory": "MultimediaApplication",
        "operatingSystem": "Web Browser",
        "offers": {"@type": "Offer", "price": "0", "priceCurrency": "USD"},
        "author": {"@type": "Person", "name": "heyuan110"}
    }
    </script>

    <!-- FAQ JSON-LD -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [
            {
                "@type": "Question",
                "name": "What formats are supported?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Supports conversion between JPG, PNG, WebP, GIF, BMP, ICO formats."
                }
            },
            {
                "@type": "Question",
                "name": "What are the advantages of WebP format?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "WebP is a format developed by Google. At the same quality, the file size is about 30% smaller than JPG, making it ideal for web use."
                }
            },
            {
                "@type": "Question",
                "name": "Will conversion cause quality loss?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "JPG/WebP are lossy formats with slight quality loss, while PNG/BMP are lossless formats with no quality loss."
                }
            },
            {
                "@type": "Question",
                "name": "Can I convert animated GIFs to other formats?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Yes, but only the first frame is retained when converting to static formats."
                }
            },
            {
                "@type": "Question",
                "name": "Will images be uploaded to the server?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "No, all conversions are done locally in your browser. Images are never uploaded to any server, protecting your privacy."
                }
            }
        ]
    }
    </script>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
            color: #e4e4e7;
            line-height: 1.6;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 30px 20px;
        }

        /* ËøîÂõûÊåâÈíÆ */
        .back-home {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            color: #a1a1aa;
            text-decoration: none;
            font-size: 0.9rem;
            padding: 8px 16px;
            border-radius: 8px;
            transition: all 0.2s ease;
            margin-bottom: 20px;
        }

        .back-home:hover {
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
        }

        /* Ê†áÈ¢ò */
        header {
            text-align: center;
            margin-bottom: 30px;
            position: relative;
        }

        h1 {
            font-size: 2rem;
            font-weight: 700;
            background: linear-gradient(120deg, #00d4ff, #7c3aed, #f472b6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }

        .subtitle {
            color: #a1a1aa;
            font-size: 0.95rem;
        }

        /* ËØ≠Ë®ÄÂàáÊç¢Âô® */
        .lang-switcher { position: absolute; top: 0; right: 0; }
        .lang-dropdown { position: relative; display: inline-block; }
        .lang-current { background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); padding: 8px 16px; border-radius: 8px; cursor: pointer; font-size: 14px; color: #e0e0e0; transition: all 0.3s ease; }
        .lang-current:hover { background: rgba(255,255,255,0.15); }
        .lang-menu { position: absolute; top: 100%; right: 0; margin-top: 4px; background: #1e1e2e; border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; padding: 4px; min-width: 140px; opacity: 0; visibility: hidden; transform: translateY(-10px); transition: all 0.3s ease; z-index: 1000; }
        .lang-dropdown.active .lang-menu { opacity: 1; visibility: visible; transform: translateY(0); }
        .lang-btn { display: block; width: 100%; padding: 10px 16px; background: none; border: none; color: #e0e0e0; font-size: 14px; text-align: left; cursor: pointer; border-radius: 6px; transition: background 0.2s ease; }
        .lang-btn:hover { background: rgba(255,255,255,0.1); }

        /* ‰∏ªÈù¢Êùø */
        .converter-panel {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 25px;
        }

        /* ‰∏ä‰º†Âå∫Âüü */
        .upload-area {
            border: 2px dashed rgba(255, 255, 255, 0.2);
            border-radius: 16px;
            padding: 50px 30px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
            margin-bottom: 25px;
        }

        .upload-area:hover, .upload-area.dragover {
            border-color: #7c3aed;
            background: rgba(124, 58, 237, 0.1);
        }

        .upload-icon {
            font-size: 3rem;
            margin-bottom: 15px;
        }

        .upload-text {
            color: #d4d4d8;
            font-size: 1.1rem;
            margin-bottom: 10px;
        }

        .upload-hint {
            color: #71717a;
            font-size: 0.9rem;
        }

        .upload-btn {
            display: inline-block;
            padding: 12px 30px;
            background: linear-gradient(135deg, #7c3aed, #6366f1);
            color: #fff;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            cursor: pointer;
            margin-top: 15px;
            transition: all 0.2s ease;
        }

        .upload-btn:hover {
            background: linear-gradient(135deg, #8b5cf6, #818cf8);
            transform: translateY(-2px);
        }

        #fileInput {
            display: none;
        }

        /* Ê†ºÂºèÈÄâÊã© */
        .format-section {
            margin-bottom: 25px;
        }

        .section-title {
            color: #d4d4d8;
            font-size: 1rem;
            margin-bottom: 15px;
            font-weight: 500;
        }

        .format-options {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .format-btn {
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 10px;
            color: #d4d4d8;
            font-size: 0.95rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .format-btn:hover {
            background: rgba(124, 58, 237, 0.2);
            border-color: #7c3aed;
        }

        .format-btn.active {
            background: linear-gradient(135deg, #7c3aed, #6366f1);
            border-color: transparent;
            color: #fff;
        }

        /* Ë¥®ÈáèËÆæÁΩÆ */
        .quality-section {
            margin-bottom: 25px;
            display: none;
        }

        .quality-section.show {
            display: block;
        }

        .quality-row {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .quality-slider {
            flex: 1;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            outline: none;
            -webkit-appearance: none;
        }

        .quality-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            background: linear-gradient(135deg, #7c3aed, #6366f1);
            border-radius: 50%;
            cursor: pointer;
        }

        .quality-value {
            min-width: 50px;
            text-align: center;
            color: #e4e4e7;
            font-size: 0.95rem;
        }

        /* Êñá‰ª∂ÂàóË°® */
        .file-list {
            margin-bottom: 25px;
        }

        .file-list-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .file-count {
            color: #a1a1aa;
            font-size: 0.9rem;
        }

        .clear-all-btn {
            padding: 6px 15px;
            background: rgba(239, 68, 68, 0.2);
            border: 1px solid rgba(239, 68, 68, 0.4);
            border-radius: 6px;
            color: #fca5a5;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .clear-all-btn:hover {
            background: rgba(239, 68, 68, 0.3);
        }

        .file-items {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 15px;
            max-height: 400px;
            overflow-y: auto;
            padding-right: 5px;
        }

        .file-item {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 12px;
            padding: 15px;
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .file-preview {
            width: 60px;
            height: 60px;
            border-radius: 8px;
            object-fit: cover;
            background: rgba(255, 255, 255, 0.05);
        }

        .file-info {
            flex: 1;
            min-width: 0;
        }

        .file-name {
            color: #e4e4e7;
            font-size: 0.9rem;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            margin-bottom: 5px;
        }

        .file-meta {
            color: #71717a;
            font-size: 0.8rem;
        }

        .file-status {
            font-size: 0.8rem;
            padding: 4px 10px;
            border-radius: 12px;
        }

        .file-status.pending {
            background: rgba(251, 191, 36, 0.2);
            color: #fbbf24;
        }

        .file-status.converting {
            background: rgba(59, 130, 246, 0.2);
            color: #60a5fa;
        }

        .file-status.done {
            background: rgba(34, 197, 94, 0.2);
            color: #4ade80;
        }

        .file-status.error {
            background: rgba(239, 68, 68, 0.2);
            color: #f87171;
        }

        .file-actions {
            display: flex;
            gap: 8px;
        }

        .file-action-btn {
            width: 32px;
            height: 32px;
            border-radius: 6px;
            border: none;
            cursor: pointer;
            font-size: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
        }

        .download-btn {
            background: rgba(34, 197, 94, 0.2);
            color: #4ade80;
        }

        .download-btn:hover {
            background: rgba(34, 197, 94, 0.4);
        }

        .download-btn:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

        .remove-btn {
            background: rgba(239, 68, 68, 0.2);
            color: #f87171;
        }

        .remove-btn:hover {
            background: rgba(239, 68, 68, 0.4);
        }

        /* Êìç‰ΩúÊåâÈíÆ */
        .action-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
        }

        .action-btn {
            padding: 14px 40px;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .convert-btn {
            background: linear-gradient(135deg, #7c3aed, #6366f1);
            color: #fff;
        }

        .convert-btn:hover:not(:disabled) {
            background: linear-gradient(135deg, #8b5cf6, #818cf8);
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(124, 58, 237, 0.3);
        }

        .convert-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .download-all-btn {
            background: linear-gradient(135deg, #059669, #10b981);
            color: #fff;
        }

        .download-all-btn:hover:not(:disabled) {
            background: linear-gradient(135deg, #10b981, #34d399);
            transform: translateY(-2px);
        }

        .download-all-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* ‰ø°ÊÅØÂå∫Âüü */
        .info-section {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 25px;
            margin-bottom: 20px;
        }

        .info-section h2 {
            font-size: 1.1rem;
            color: #fff;
            margin-bottom: 15px;
        }

        .info-section p {
            color: #a1a1aa;
            font-size: 0.95rem;
            line-height: 1.8;
            margin-bottom: 15px;
        }

        .info-section ul, .info-section ol {
            color: #a1a1aa;
            font-size: 0.9rem;
            padding-left: 20px;
        }

        .info-section li {
            margin-bottom: 8px;
        }

        .warning-box {
            background: rgba(251, 191, 36, 0.1);
            border: 1px solid rgba(251, 191, 36, 0.3);
            border-radius: 10px;
            padding: 15px 20px;
            margin-top: 15px;
            color: #fbbf24;
            font-size: 0.9rem;
        }

        /* Ê†ºÂºèÊîØÊåÅËØ¥Êòé */
        .format-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 10px;
            margin-top: 15px;
        }

        .format-tag {
            background: rgba(124, 58, 237, 0.15);
            border: 1px solid rgba(124, 58, 237, 0.3);
            border-radius: 8px;
            padding: 8px;
            text-align: center;
            color: #a78bfa;
            font-size: 0.85rem;
            font-weight: 500;
        }

        /* ÈöêËóèÊñá‰ª∂ÂàóË°®Êó∂ */
        .file-list.hidden {
            display: none;
        }

        /* ÂäüËÉΩÁâπÁÇπÂå∫Âùó */
        .features-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-bottom: 30px;
        }

        .feature-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            transition: all 0.2s ease;
        }

        .feature-card:hover {
            background: rgba(255, 255, 255, 0.08);
            transform: translateY(-2px);
        }

        .feature-icon {
            font-size: 2rem;
            margin-bottom: 12px;
        }

        .feature-title {
            color: #e4e4e7;
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .feature-desc {
            color: #a1a1aa;
            font-size: 0.85rem;
            line-height: 1.5;
        }

        /* FAQ Âå∫Âùó */
        .faq-section {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 25px;
            margin-bottom: 20px;
        }

        .faq-section h2 {
            font-size: 1.2rem;
            color: #fff;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .faq-item {
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding: 16px 0;
        }

        .faq-item:last-child {
            border-bottom: none;
            padding-bottom: 0;
        }

        .faq-item:first-of-type {
            padding-top: 0;
        }

        .faq-question {
            color: #e4e4e7;
            font-size: 1rem;
            font-weight: 500;
            margin-bottom: 10px;
            display: flex;
            align-items: flex-start;
            gap: 10px;
        }

        .faq-question::before {
            content: "Q";
            background: linear-gradient(135deg, #7c3aed, #6366f1);
            color: #fff;
            font-size: 0.75rem;
            font-weight: 700;
            padding: 2px 8px;
            border-radius: 4px;
            flex-shrink: 0;
        }

        .faq-answer {
            color: #a1a1aa;
            font-size: 0.95rem;
            line-height: 1.7;
            padding-left: 32px;
        }

        /* ÂìçÂ∫îÂºè */
        @media (max-width: 600px) {
            .container {
                padding: 20px 15px;
            }

            h1 {
                font-size: 1.6rem;
            }

            .converter-panel {
                padding: 20px;
            }

            .upload-area {
                padding: 30px 20px;
            }

            .format-btn {
                padding: 8px 15px;
                font-size: 0.85rem;
            }

            .file-items {
                grid-template-columns: 1fr;
            }

            .action-btn {
                padding: 12px 25px;
                font-size: 1rem;
            }

            .action-buttons {
                flex-direction: column;
            }

            .features-section {
                grid-template-columns: repeat(2, 1fr);
                gap: 12px;
            }

            .feature-card {
                padding: 15px;
            }

            .feature-icon {
                font-size: 1.5rem;
            }

            .feature-title {
                font-size: 0.9rem;
            }

            .feature-desc {
                font-size: 0.8rem;
            }

            .lang-switcher {
                position: static;
                text-align: center;
                margin-bottom: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="index.html" class="back-home" data-i18n="backHome">‚Üê Back to Toolbox</a>

        <header>
            <div class="lang-switcher">
                <div class="lang-dropdown" id="langDropdown">
                    <div class="lang-current" id="langCurrent">üåê English</div>
                    <div class="lang-menu">
                        <button class="lang-btn" data-lang="en">üá∫üá∏ English</button>
                        <button class="lang-btn" data-lang="zh-CN">üá®üá≥ ‰∏≠Êñá</button>
                        <button class="lang-btn" data-lang="fr">üá´üá∑ Fran√ßais</button>
                        <button class="lang-btn" data-lang="es">üá™üá∏ Espa√±ol</button>
                    </div>
                </div>
            </div>
            <h1 data-i18n="title">Image Format Converter</h1>
            <p class="subtitle" data-i18n="subtitle">Convert between multiple image formats, local processing for privacy</p>
        </header>

        <!-- ÂäüËÉΩÁâπÁÇπ -->
        <div class="features-section">
            <div class="feature-card">
                <div class="feature-icon">üîÑ</div>
                <div class="feature-title" data-i18n="feature1Title">Multi-format Support</div>
                <div class="feature-desc" data-i18n="feature1Desc">Convert between JPG, PNG, WebP, GIF, BMP, ICO formats</div>
            </div>
            <div class="feature-card">
                <div class="feature-icon">üìö</div>
                <div class="feature-title" data-i18n="feature2Title">Batch Conversion</div>
                <div class="feature-desc" data-i18n="feature2Desc">Upload multiple images at once, batch convert to target format</div>
            </div>
            <div class="feature-card">
                <div class="feature-icon">üéöÔ∏è</div>
                <div class="feature-title" data-i18n="feature3Title">Quality Settings</div>
                <div class="feature-desc" data-i18n="feature3Desc">Adjust output quality, balance image quality and file size</div>
            </div>
            <div class="feature-card">
                <div class="feature-icon">‚ö°</div>
                <div class="feature-title" data-i18n="feature4Title">Instant Download</div>
                <div class="feature-desc" data-i18n="feature4Desc">Download immediately after conversion, no waiting</div>
            </div>
        </div>

        <div class="converter-panel">
            <!-- ‰∏ä‰º†Âå∫Âüü -->
            <div class="upload-area" id="uploadArea">
                <div class="upload-icon">üñºÔ∏è</div>
                <div class="upload-text" data-i18n="uploadText">Drag images here, or click to select files</div>
                <div class="upload-hint" data-i18n="uploadHint">Supports PNG, JPG, JPEG, WebP, GIF, BMP formats</div>
                <button class="upload-btn" id="uploadBtn" data-i18n="uploadBtn">Select Images</button>
                <input type="file" id="fileInput" accept="image/*" multiple>
            </div>

            <!-- ÁõÆÊ†áÊ†ºÂºè -->
            <div class="format-section">
                <div class="section-title" data-i18n="convertTo">Convert to</div>
                <div class="format-options" id="formatOptions">
                    <button class="format-btn active" data-format="png">PNG</button>
                    <button class="format-btn" data-format="jpeg">JPEG</button>
                    <button class="format-btn" data-format="webp">WebP</button>
                    <button class="format-btn" data-format="gif">GIF</button>
                    <button class="format-btn" data-format="bmp">BMP</button>
                    <button class="format-btn" data-format="ico">ICO</button>
                </div>
            </div>

            <!-- Ë¥®ÈáèËÆæÁΩÆ -->
            <div class="quality-section" id="qualitySection">
                <div class="section-title" data-i18n="imageQuality">Image Quality</div>
                <div class="quality-row">
                    <input type="range" class="quality-slider" id="qualitySlider" min="10" max="100" value="90">
                    <span class="quality-value" id="qualityValue">90%</span>
                </div>
            </div>

            <!-- Êñá‰ª∂ÂàóË°® -->
            <div class="file-list hidden" id="fileList">
                <div class="file-list-header">
                    <span class="file-count" id="fileCount" data-i18n="fileCount">0 files selected</span>
                    <button class="clear-all-btn" id="clearAllBtn" data-i18n="clearAll">Clear All</button>
                </div>
                <div class="file-items" id="fileItems"></div>
            </div>

            <!-- Êìç‰ΩúÊåâÈíÆ -->
            <div class="action-buttons">
                <button class="action-btn convert-btn" id="convertBtn" disabled data-i18n="startConvert">Start Convert</button>
                <button class="action-btn download-all-btn" id="downloadAllBtn" disabled data-i18n="downloadAll">Download All</button>
            </div>
        </div>

        <!-- ËØ¥Êòé -->
        <div class="info-section">
            <h2 data-i18n="aboutTitle">About Image Format Converter</h2>
            <p data-i18n="aboutDesc">Convert images between various file formats online. Supports common image format conversions. All conversion operations are done locally in the browser, no need to upload to servers, protecting your privacy.</p>

            <h2 data-i18n="supportedFormats">Supported Formats</h2>
            <div class="format-grid">
                <span class="format-tag">PNG</span>
                <span class="format-tag">JPEG</span>
                <span class="format-tag">WebP</span>
                <span class="format-tag">GIF</span>
                <span class="format-tag">BMP</span>
                <span class="format-tag">ICO</span>
            </div>

            <div class="warning-box" data-i18n="warningBox">
                ‚ö†Ô∏è There may be compatibility issues on mobile device browsers. It is recommended to use a desktop browser for conversion.
            </div>
        </div>

        <div class="info-section">
            <h2 data-i18n="instructionsTitle">Instructions</h2>
            <ol>
                <li><strong data-i18n="step1Title">Select image files</strong>:
                    <ul>
                        <li data-i18n="step1a">Drag files into the dashed box</li>
                        <li data-i18n="step1b">Click the "Select Images" button</li>
                    </ul>
                </li>
                <li><strong data-i18n="step2Title">Select target format</strong>: <span data-i18n="step2Desc">Click the target format button</span></li>
                <li><strong data-i18n="step3Title">Adjust quality (optional)</strong>: <span data-i18n="step3Desc">JPEG and WebP formats support quality adjustment</span></li>
                <li><strong data-i18n="step4Title">Start conversion</strong>: <span data-i18n="step4Desc">Click the "Start Convert" button</span></li>
                <li><strong data-i18n="step5Title">Download results</strong>: <span data-i18n="step5Desc">Download individually or download all as a package</span></li>
            </ol>
        </div>
    </div>

    <!-- JSZip for packaging -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>

    <script>
        // Â§öËØ≠Ë®ÄÁøªËØë
        const translations = {
            'en': {
                backHome: '‚Üê Back to Toolbox',
                title: 'Image Format Converter',
                subtitle: 'Convert between multiple image formats, local processing for privacy',
                feature1Title: 'Multi-format Support',
                feature1Desc: 'Convert between JPG, PNG, WebP, GIF, BMP, ICO formats',
                feature2Title: 'Batch Conversion',
                feature2Desc: 'Upload multiple images at once, batch convert to target format',
                feature3Title: 'Quality Settings',
                feature3Desc: 'Adjust output quality, balance image quality and file size',
                feature4Title: 'Instant Download',
                feature4Desc: 'Download immediately after conversion, no waiting',
                uploadText: 'Drag images here, or click to select files',
                uploadHint: 'Supports PNG, JPG, JPEG, WebP, GIF, BMP formats',
                uploadBtn: 'Select Images',
                convertTo: 'Convert to',
                imageQuality: 'Image Quality',
                fileCount: '{count} files selected',
                clearAll: 'Clear All',
                startConvert: 'Start Convert',
                converting: 'Converting...',
                downloadAll: 'Download All',
                packaging: 'Packaging...',
                aboutTitle: 'About Image Format Converter',
                aboutDesc: 'Convert images between various file formats online. Supports common image format conversions. All conversion operations are done locally in the browser, no need to upload to servers, protecting your privacy.',
                supportedFormats: 'Supported Formats',
                warningBox: '‚ö†Ô∏è There may be compatibility issues on mobile device browsers. It is recommended to use a desktop browser for conversion.',
                instructionsTitle: 'Instructions',
                step1Title: 'Select image files',
                step1a: 'Drag files into the dashed box',
                step1b: 'Click the "Select Images" button',
                step2Title: 'Select target format',
                step2Desc: 'Click the target format button',
                step3Title: 'Adjust quality (optional)',
                step3Desc: 'JPEG and WebP formats support quality adjustment',
                step4Title: 'Start conversion',
                step4Desc: 'Click the "Start Convert" button',
                step5Title: 'Download results',
                step5Desc: 'Download individually or download all as a package',
                faqTitle: 'FAQ',
                faq1Q: 'What formats are supported?',
                faq1A: 'Supports conversion between JPG, PNG, WebP, GIF, BMP, ICO formats, covering the most common image formats in daily use.',
                faq2Q: 'What are the advantages of WebP format?',
                faq2A: 'WebP is a format developed by Google. At the same quality, the file size is about 30% smaller than JPG, making it ideal for web use and significantly improving website loading speed.',
                faq3Q: 'Will conversion cause quality loss?',
                faq3A: 'JPG/WebP are lossy formats with slight quality loss, while PNG/BMP are lossless formats with no quality loss. You can adjust the quality slider to balance image quality and file size.',
                faq4Q: 'Can I convert animated GIFs to other formats?',
                faq4A: 'Yes, but only the first frame is retained when converting to static formats. If you need to preserve the animation effect, it is recommended to keep the GIF format or convert to WebP format that supports animation.',
                faq5Q: 'Will images be uploaded to the server?',
                faq5A: 'No, all conversions are done locally in your browser. Images are never uploaded to any server, completely protecting your privacy.',
                relatedTools: 'üîó Related Tools',
                toolCompressor: 'Image Compressor',
                toolCompressorDesc: 'Batch compress image size',
                toolEditor: 'Image Editor',
                toolEditorDesc: 'Edit and crop images online',
                toolIco: 'ICO Maker',
                toolIcoDesc: 'Generate multi-size ICO icons',
                toolPhoto: 'ID Photo Cropper',
                toolPhotoDesc: 'ID photo size cropping',
                footerText: 'Pure frontend processing, images are not uploaded to the server',
                footerBack: '‚Üê Back to Web Toolbox',
                statusPending: 'Pending',
                statusConverting: 'Converting...',
                statusDone: 'Done',
                statusError: 'Failed',
                langName: 'üåê English'
            },
            'zh-CN': {
                backHome: '‚Üê ËøîÂõûÂ∑•ÂÖ∑ÁÆ±',
                title: 'ÂõæÁâáÊ†ºÂºèËΩ¨Êç¢',
                subtitle: 'ÊîØÊåÅÂ§öÁßçÂõæÁâáÊ†ºÂºè‰∫íËΩ¨ÔºåÊú¨Âú∞Â§ÑÁêÜ‰øùÊä§ÈöêÁßÅ',
                feature1Title: 'Â§öÊ†ºÂºèÊîØÊåÅ',
                feature1Desc: 'ÊîØÊåÅ JPG„ÄÅPNG„ÄÅWebP„ÄÅGIF„ÄÅBMP„ÄÅICO Á≠âÊ†ºÂºè‰∫íËΩ¨',
                feature2Title: 'ÊâπÈáèËΩ¨Êç¢',
                feature2Desc: '‰∏ÄÊ¨°‰∏ä‰º†Â§öÂº†ÂõæÁâáÔºåÊâπÈáèËΩ¨Êç¢‰∏∫ÁõÆÊ†áÊ†ºÂºè',
                feature3Title: 'Ë¥®ÈáèËÆæÁΩÆ',
                feature3Desc: 'ÂèØË∞ÉËäÇËæìÂá∫Ë¥®ÈáèÔºåÂπ≥Ë°°ÁîªË¥®ÂíåÊñá‰ª∂Â§ßÂ∞è',
                feature4Title: 'Âç≥Êó∂‰∏ãËΩΩ',
                feature4Desc: 'ËΩ¨Êç¢ÂÆåÊàêÂêéÁ´ãÂç≥‰∏ãËΩΩÔºåÊó†ÈúÄÁ≠âÂæÖ',
                uploadText: 'ÊãñÊãΩÂõæÁâáÂà∞ËøôÈáåÔºåÊàñÁÇπÂáªÈÄâÊã©Êñá‰ª∂',
                uploadHint: 'ÊîØÊåÅ PNG„ÄÅJPG„ÄÅJPEG„ÄÅWebP„ÄÅGIF„ÄÅBMP Á≠âÊ†ºÂºè',
                uploadBtn: 'ÈÄâÊã©ÂõæÁâá',
                convertTo: 'ËΩ¨Êç¢‰∏∫',
                imageQuality: 'ÂõæÁâáË¥®Èáè',
                fileCount: 'Â∑≤ÈÄâÊã© {count} ‰∏™Êñá‰ª∂',
                clearAll: 'Ê∏ÖÁ©∫ÂÖ®ÈÉ®',
                startConvert: 'ÂºÄÂßãËΩ¨Êç¢',
                converting: 'ËΩ¨Êç¢‰∏≠...',
                downloadAll: 'ÊâìÂåÖ‰∏ãËΩΩ',
                packaging: 'ÊâìÂåÖ‰∏≠...',
                aboutTitle: 'ÂÖ≥‰∫éÂõæÁâáÊ†ºÂºèËΩ¨Êç¢',
                aboutDesc: 'Âú®Á∫øÂ∞ÜÂõæÁâáÂú®ÂêÑ‰∏™Êñá‰ª∂Ê†ºÂºè‰πãÈó¥ËΩ¨Êç¢ÔºåÊîØÊåÅÂ∏∏ËßÅÁöÑÂõæÁâáÊ†ºÂºè‰∫íËΩ¨„ÄÇÊâÄÊúâËΩ¨Êç¢Êìç‰ΩúÂùáÂú®Êú¨Âú∞ÊµèËßàÂô®‰∏≠ÂÆåÊàêÔºåÊó†ÈúÄ‰∏ä‰º†Âà∞ÊúçÂä°Âô®Ôºå‰øùÊä§ÊÇ®ÁöÑÈöêÁßÅÂÆâÂÖ®„ÄÇ',
                supportedFormats: 'ÊîØÊåÅÁöÑÊ†ºÂºè',
                warningBox: '‚ö†Ô∏è ÁßªÂä®ËÆæÂ§áÊµèËßàÂô®‰∏äÂèØËÉΩÂ≠òÂú®ÂÖºÂÆπÊÄßÈóÆÈ¢òÔºåÂª∫ËÆÆ‰ΩøÁî®ÁîµËÑëÊµèËßàÂô®ËøõË°åËΩ¨Êç¢„ÄÇ',
                instructionsTitle: '‰ΩøÁî®ËØ¥Êòé',
                step1Title: 'ÈÄâÊã©ÂõæÁâáÊñá‰ª∂',
                step1a: 'ÊãñÊãΩÊñá‰ª∂Âà∞ËôöÁ∫øÊ°ÜÂÜÖ',
                step1b: 'ÁÇπÂáª"ÈÄâÊã©ÂõæÁâá"ÊåâÈíÆ',
                step2Title: 'ÈÄâÊã©ÁõÆÊ†áÊ†ºÂºè',
                step2Desc: 'ÁÇπÂáªË¶ÅËΩ¨Êç¢ÁöÑÁõÆÊ†áÊ†ºÂºèÊåâÈíÆ',
                step3Title: 'Ë∞ÉËäÇË¥®ÈáèÔºàÂèØÈÄâÔºâ',
                step3Desc: 'JPEG Âíå WebP Ê†ºÂºèÊîØÊåÅË¥®ÈáèË∞ÉËäÇ',
                step4Title: 'ÂºÄÂßãËΩ¨Êç¢',
                step4Desc: 'ÁÇπÂáª"ÂºÄÂßãËΩ¨Êç¢"ÊåâÈíÆ',
                step5Title: '‰∏ãËΩΩÁªìÊûú',
                step5Desc: 'ÂçïÁã¨‰∏ãËΩΩÊàñÊâìÂåÖ‰∏ãËΩΩÂÖ®ÈÉ®',
                faqTitle: 'Â∏∏ËßÅÈóÆÈ¢ò',
                faq1Q: 'ÊîØÊåÅÂì™‰∫õÊ†ºÂºèËΩ¨Êç¢Ôºü',
                faq1A: 'ÊîØÊåÅ JPG„ÄÅPNG„ÄÅWebP„ÄÅGIF„ÄÅBMP„ÄÅICO Á≠âÊ†ºÂºè‰πãÈó¥ÁöÑ‰∫íÁõ∏ËΩ¨Êç¢ÔºåË¶ÜÁõñ‰∫ÜÊó•Â∏∏‰ΩøÁî®‰∏≠ÊúÄÂ∏∏ËßÅÁöÑÂõæÁâáÊ†ºÂºè„ÄÇ',
                faq2Q: 'WebP Ê†ºÂºèÊúâ‰ªÄ‰πà‰ºòÂäøÔºü',
                faq2A: 'WebP ÊòØ Google ÂºÄÂèëÁöÑÊ†ºÂºèÔºåÂêåÁ≠âÁîªË¥®‰∏ã‰ΩìÁßØÊØî JPG Â∞èÁ∫¶30%ÔºåÈùûÂ∏∏ÈÄÇÂêàÁΩëÈ°µ‰ΩøÁî®ÔºåÂèØ‰ª•ÊòæËëóÊèêÂçáÁΩëÁ´ôÂä†ËΩΩÈÄüÂ∫¶„ÄÇ',
                faq3Q: 'ËΩ¨Êç¢‰ºöÊçüÂ§±ÁîªË¥®ÂêóÔºü',
                faq3A: 'JPG/WebP ÊòØÊúâÊçüÊ†ºÂºè‰ºöÊúâËΩªÂæÆÊçüÂ§±ÔºåPNG/BMP ÊòØÊó†ÊçüÊ†ºÂºè‰∏ç‰ºöÊçüÂ§±ÁîªË¥®„ÄÇÊÇ®ÂèØ‰ª•ÈÄöËøáË∞ÉËäÇË¥®ÈáèÊªëÂùóÊù•Âπ≥Ë°°ÁîªË¥®ÂíåÊñá‰ª∂Â§ßÂ∞è„ÄÇ',
                faq4Q: 'ÂèØ‰ª•ÊääÂä®Âõæ GIF ËΩ¨ÊàêÂÖ∂‰ªñÊ†ºÂºèÂêóÔºü',
                faq4A: 'ÂèØ‰ª•Ôºå‰ΩÜËΩ¨‰∏∫ÈùôÊÄÅÊ†ºÂºèÊó∂Âè™‰øùÁïôÁ¨¨‰∏ÄÂ∏ß„ÄÇÂ¶ÇÊûúÈúÄË¶Å‰øùÁïôÂä®ÁîªÊïàÊûúÔºåÂª∫ËÆÆ‰øùÊåÅ GIF Ê†ºÂºèÊàñËΩ¨Êç¢‰∏∫ÊîØÊåÅÂä®ÁîªÁöÑ WebP Ê†ºÂºè„ÄÇ',
                faq5Q: 'ÂõæÁâá‰ºö‰∏ä‰º†Âà∞ÊúçÂä°Âô®ÂêóÔºü',
                faq5A: '‰∏ç‰ºöÔºåÊâÄÊúâËΩ¨Êç¢Âú®Êú¨Âú∞ÊµèËßàÂô®ÂÆåÊàêÔºåÂõæÁâá‰∏ç‰ºö‰∏ä‰º†Âà∞‰ªª‰ΩïÊúçÂä°Âô®ÔºåÂÆåÂÖ®‰øùÊä§ÊÇ®ÁöÑÈöêÁßÅÂÆâÂÖ®„ÄÇ',
                relatedTools: 'üîó Áõ∏ÂÖ≥Â∑•ÂÖ∑Êé®Ëçê',
                toolCompressor: 'ÂõæÁâáÂéãÁº©',
                toolCompressorDesc: 'ÊâπÈáèÂéãÁº©ÂõæÁâá‰ΩìÁßØ',
                toolEditor: 'ÂõæÁâáÁºñËæëÂô®',
                toolEditorDesc: 'Âú®Á∫øÁºñËæëË£ÅÂâ™ÂõæÁâá',
                toolIco: 'ICO ÂõæÊ†áÂà∂‰Ωú',
                toolIcoDesc: 'ÁîüÊàêÂ§öÂ∞∫ÂØ∏ ICO ÂõæÊ†á',
                toolPhoto: 'ËØÅ‰ª∂ÁÖßË£ÅÂâ™',
                toolPhotoDesc: 'ËØÅ‰ª∂ÁÖßÂ∞∫ÂØ∏Ë£ÅÂâ™',
                footerText: 'Á∫ØÂâçÁ´ØÂ§ÑÁêÜÔºåÂõæÁâá‰∏ç‰ºö‰∏ä‰º†Âà∞ÊúçÂä°Âô®',
                footerBack: '‚Üê ËøîÂõû Web Toolbox È¶ñÈ°µ',
                statusPending: 'Á≠âÂæÖ‰∏≠',
                statusConverting: 'ËΩ¨Êç¢‰∏≠...',
                statusDone: 'ÂÆåÊàê',
                statusError: 'Â§±Ë¥•',
                langName: 'üåê ‰∏≠Êñá'
            },
            'fr': {
                backHome: '‚Üê Retour √† la bo√Æte √† outils',
                title: 'Convertisseur de Format d\'Image',
                subtitle: 'Convertir entre plusieurs formats d\'image, traitement local pour la confidentialit√©',
                feature1Title: 'Multi-format',
                feature1Desc: 'Convertir entre les formats JPG, PNG, WebP, GIF, BMP, ICO',
                feature2Title: 'Conversion par Lot',
                feature2Desc: 'T√©l√©charger plusieurs images √† la fois, convertir par lot',
                feature3Title: 'Param√®tres de Qualit√©',
                feature3Desc: 'Ajuster la qualit√© de sortie, √©quilibrer qualit√© et taille',
                feature4Title: 'T√©l√©chargement Instantan√©',
                feature4Desc: 'T√©l√©charger imm√©diatement apr√®s la conversion',
                uploadText: 'Glissez les images ici, ou cliquez pour s√©lectionner',
                uploadHint: 'Supporte les formats PNG, JPG, JPEG, WebP, GIF, BMP',
                uploadBtn: 'S√©lectionner Images',
                convertTo: 'Convertir en',
                imageQuality: 'Qualit√© d\'Image',
                fileCount: '{count} fichiers s√©lectionn√©s',
                clearAll: 'Tout Effacer',
                startConvert: 'D√©marrer',
                converting: 'Conversion...',
                downloadAll: 'Tout T√©l√©charger',
                packaging: 'Emballage...',
                aboutTitle: '√Ä Propos du Convertisseur',
                aboutDesc: 'Convertissez des images entre diff√©rents formats de fichiers en ligne. Toutes les op√©rations de conversion sont effectu√©es localement dans le navigateur, sans t√©l√©chargement sur les serveurs, prot√©geant votre vie priv√©e.',
                supportedFormats: 'Formats Support√©s',
                warningBox: '‚ö†Ô∏è Il peut y avoir des probl√®mes de compatibilit√© sur les navigateurs mobiles. Il est recommand√© d\'utiliser un navigateur de bureau.',
                instructionsTitle: 'Instructions',
                step1Title: 'S√©lectionner les fichiers image',
                step1a: 'Glisser les fichiers dans la zone en pointill√©s',
                step1b: 'Cliquer sur le bouton "S√©lectionner Images"',
                step2Title: 'S√©lectionner le format cible',
                step2Desc: 'Cliquer sur le bouton du format cible',
                step3Title: 'Ajuster la qualit√© (optionnel)',
                step3Desc: 'Les formats JPEG et WebP supportent l\'ajustement de qualit√©',
                step4Title: 'D√©marrer la conversion',
                step4Desc: 'Cliquer sur le bouton "D√©marrer"',
                step5Title: 'T√©l√©charger les r√©sultats',
                step5Desc: 'T√©l√©charger individuellement ou tout en un package',
                faqTitle: 'FAQ',
                faq1Q: 'Quels formats sont support√©s ?',
                faq1A: 'Supporte la conversion entre les formats JPG, PNG, WebP, GIF, BMP, ICO, couvrant les formats d\'image les plus courants.',
                faq2Q: 'Quels sont les avantages du format WebP ?',
                faq2A: 'WebP est un format d√©velopp√© par Google. √Ä qualit√© √©gale, la taille du fichier est environ 30% plus petite que JPG, id√©al pour le web.',
                faq3Q: 'La conversion entra√Æne-t-elle une perte de qualit√© ?',
                faq3A: 'JPG/WebP sont des formats avec perte l√©g√®re, tandis que PNG/BMP sont des formats sans perte. Vous pouvez ajuster le curseur de qualit√©.',
                faq4Q: 'Puis-je convertir des GIF anim√©s ?',
                faq4A: 'Oui, mais seule la premi√®re image est conserv√©e lors de la conversion vers des formats statiques.',
                faq5Q: 'Les images sont-elles t√©l√©charg√©es sur le serveur ?',
                faq5A: 'Non, toutes les conversions sont effectu√©es localement dans votre navigateur. Les images ne sont jamais t√©l√©charg√©es sur aucun serveur.',
                relatedTools: 'üîó Outils Connexes',
                toolCompressor: 'Compresseur d\'Image',
                toolCompressorDesc: 'Compresser les images par lot',
                toolEditor: '√âditeur d\'Image',
                toolEditorDesc: '√âditer et recadrer en ligne',
                toolIco: 'Cr√©ateur ICO',
                toolIcoDesc: 'G√©n√©rer des ic√¥nes ICO multi-tailles',
                toolPhoto: 'Recadrage Photo ID',
                toolPhotoDesc: 'Recadrage de photos d\'identit√©',
                footerText: 'Traitement frontend pur, les images ne sont pas t√©l√©charg√©es sur le serveur',
                footerBack: '‚Üê Retour √† Web Toolbox',
                statusPending: 'En attente',
                statusConverting: 'Conversion...',
                statusDone: 'Termin√©',
                statusError: '√âchec',
                langName: 'üåê Fran√ßais'
            },
            'es': {
                backHome: '‚Üê Volver a Herramientas',
                title: 'Convertidor de Formato de Imagen',
                subtitle: 'Convertir entre m√∫ltiples formatos de imagen, procesamiento local para privacidad',
                feature1Title: 'Multi-formato',
                feature1Desc: 'Convertir entre formatos JPG, PNG, WebP, GIF, BMP, ICO',
                feature2Title: 'Conversi√≥n por Lotes',
                feature2Desc: 'Subir m√∫ltiples im√°genes a la vez, convertir por lotes',
                feature3Title: 'Ajustes de Calidad',
                feature3Desc: 'Ajustar calidad de salida, equilibrar calidad y tama√±o',
                feature4Title: 'Descarga Instant√°nea',
                feature4Desc: 'Descargar inmediatamente despu√©s de la conversi√≥n',
                uploadText: 'Arrastra im√°genes aqu√≠, o haz clic para seleccionar',
                uploadHint: 'Soporta formatos PNG, JPG, JPEG, WebP, GIF, BMP',
                uploadBtn: 'Seleccionar Im√°genes',
                convertTo: 'Convertir a',
                imageQuality: 'Calidad de Imagen',
                fileCount: '{count} archivos seleccionados',
                clearAll: 'Borrar Todo',
                startConvert: 'Iniciar',
                converting: 'Convirtiendo...',
                downloadAll: 'Descargar Todo',
                packaging: 'Empaquetando...',
                aboutTitle: 'Acerca del Convertidor',
                aboutDesc: 'Convierte im√°genes entre varios formatos de archivo en l√≠nea. Todas las operaciones de conversi√≥n se realizan localmente en el navegador, sin necesidad de subir a servidores, protegiendo tu privacidad.',
                supportedFormats: 'Formatos Soportados',
                warningBox: '‚ö†Ô∏è Puede haber problemas de compatibilidad en navegadores m√≥viles. Se recomienda usar un navegador de escritorio.',
                instructionsTitle: 'Instrucciones',
                step1Title: 'Seleccionar archivos de imagen',
                step1a: 'Arrastrar archivos a la zona punteada',
                step1b: 'Hacer clic en el bot√≥n "Seleccionar Im√°genes"',
                step2Title: 'Seleccionar formato destino',
                step2Desc: 'Hacer clic en el bot√≥n del formato destino',
                step3Title: 'Ajustar calidad (opcional)',
                step3Desc: 'Los formatos JPEG y WebP soportan ajuste de calidad',
                step4Title: 'Iniciar conversi√≥n',
                step4Desc: 'Hacer clic en el bot√≥n "Iniciar"',
                step5Title: 'Descargar resultados',
                step5Desc: 'Descargar individualmente o todo como paquete',
                faqTitle: 'Preguntas Frecuentes',
                faq1Q: '¬øQu√© formatos son soportados?',
                faq1A: 'Soporta conversi√≥n entre formatos JPG, PNG, WebP, GIF, BMP, ICO, cubriendo los formatos de imagen m√°s comunes.',
                faq2Q: '¬øCu√°les son las ventajas del formato WebP?',
                faq2A: 'WebP es un formato desarrollado por Google. A igual calidad, el tama√±o del archivo es aproximadamente 30% menor que JPG, ideal para web.',
                faq3Q: '¬øLa conversi√≥n causa p√©rdida de calidad?',
                faq3A: 'JPG/WebP son formatos con p√©rdida leve, mientras que PNG/BMP son formatos sin p√©rdida. Puedes ajustar el control de calidad.',
                faq4Q: '¬øPuedo convertir GIFs animados?',
                faq4A: 'S√≠, pero solo se conserva el primer fotograma al convertir a formatos est√°ticos.',
                faq5Q: '¬øLas im√°genes se suben al servidor?',
                faq5A: 'No, todas las conversiones se realizan localmente en tu navegador. Las im√°genes nunca se suben a ning√∫n servidor.',
                relatedTools: 'üîó Herramientas Relacionadas',
                toolCompressor: 'Compresor de Imagen',
                toolCompressorDesc: 'Comprimir im√°genes por lotes',
                toolEditor: 'Editor de Imagen',
                toolEditorDesc: 'Editar y recortar en l√≠nea',
                toolIco: 'Creador ICO',
                toolIcoDesc: 'Generar iconos ICO multi-tama√±o',
                toolPhoto: 'Recorte de Foto ID',
                toolPhotoDesc: 'Recorte de fotos de identificaci√≥n',
                footerText: 'Procesamiento frontend puro, las im√°genes no se suben al servidor',
                footerBack: '‚Üê Volver a Web Toolbox',
                statusPending: 'Pendiente',
                statusConverting: 'Convirtiendo...',
                statusDone: 'Completado',
                statusError: 'Error',
                langName: 'üåê Espa√±ol'
            }
        };

        // ÂΩìÂâçËØ≠Ë®Ä
        let currentLang = localStorage.getItem('preferred-lang') || 'en';

        // ËØ≠Ë®ÄÂàáÊç¢ÂäüËÉΩ
        const langDropdown = document.getElementById('langDropdown');
        const langCurrent = document.getElementById('langCurrent');
        const langBtns = document.querySelectorAll('.lang-btn');

        langCurrent.addEventListener('click', () => {
            langDropdown.classList.toggle('active');
        });

        document.addEventListener('click', (e) => {
            if (!langDropdown.contains(e.target)) {
                langDropdown.classList.remove('active');
            }
        });

        langBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                const lang = btn.dataset.lang;
                currentLang = lang;
                localStorage.setItem('preferred-lang', lang);
                applyTranslations();
                langDropdown.classList.remove('active');
            });
        });

        // Â∫îÁî®ÁøªËØë
        function applyTranslations() {
            const t = translations[currentLang];
            if (!t) return;

            // Êõ¥Êñ∞ËØ≠Ë®ÄÂàáÊç¢Âô®ÊòæÁ§∫
            langCurrent.textContent = t.langName;

            // Êõ¥Êñ∞ÊâÄÊúâÂ∏¶ data-i18n ÁöÑÂÖÉÁ¥†
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.dataset.i18n;
                if (t[key]) {
                    el.textContent = t[key];
                }
            });

            // Êõ¥Êñ∞Êñá‰ª∂ËÆ°Êï∞
            updateFileList();
        }

        // Áä∂ÊÄÅ
        let files = [];
        let targetFormat = 'png';
        let quality = 0.9;

        // ÂÖÉÁ¥†
        const uploadArea = document.getElementById('uploadArea');
        const uploadBtn = document.getElementById('uploadBtn');
        const fileInput = document.getElementById('fileInput');
        const formatOptions = document.getElementById('formatOptions');
        const qualitySection = document.getElementById('qualitySection');
        const qualitySlider = document.getElementById('qualitySlider');
        const qualityValue = document.getElementById('qualityValue');
        const fileList = document.getElementById('fileList');
        const fileItems = document.getElementById('fileItems');
        const fileCount = document.getElementById('fileCount');
        const clearAllBtn = document.getElementById('clearAllBtn');
        const convertBtn = document.getElementById('convertBtn');
        const downloadAllBtn = document.getElementById('downloadAllBtn');

        // ‰∏ä‰º†‰∫ã‰ª∂
        uploadBtn.addEventListener('click', () => fileInput.click());
        uploadArea.addEventListener('click', (e) => {
            if (e.target === uploadArea || e.target.classList.contains('upload-icon') ||
                e.target.classList.contains('upload-text') || e.target.classList.contains('upload-hint')) {
                fileInput.click();
            }
        });

        fileInput.addEventListener('change', (e) => {
            addFiles(Array.from(e.target.files));
            fileInput.value = '';
        });

        // ÊãñÊãΩ
        uploadArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadArea.classList.add('dragover');
        });

        uploadArea.addEventListener('dragleave', () => {
            uploadArea.classList.remove('dragover');
        });

        uploadArea.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadArea.classList.remove('dragover');
            const droppedFiles = Array.from(e.dataTransfer.files).filter(f => f.type.startsWith('image/'));
            addFiles(droppedFiles);
        });

        // Ê†ºÂºèÈÄâÊã©
        formatOptions.addEventListener('click', (e) => {
            const btn = e.target.closest('.format-btn');
            if (!btn) return;

            document.querySelectorAll('.format-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            targetFormat = btn.dataset.format;

            // ÊòæÁ§∫/ÈöêËóèË¥®ÈáèËÆæÁΩÆ
            if (targetFormat === 'jpeg' || targetFormat === 'webp') {
                qualitySection.classList.add('show');
            } else {
                qualitySection.classList.remove('show');
            }
        });

        // Ë¥®ÈáèÊªëÂùó
        qualitySlider.addEventListener('input', () => {
            quality = qualitySlider.value / 100;
            qualityValue.textContent = qualitySlider.value + '%';
        });

        // Ê∑ªÂä†Êñá‰ª∂
        function addFiles(newFiles) {
            newFiles.forEach(file => {
                const id = Date.now() + Math.random();
                files.push({
                    id,
                    file,
                    name: file.name,
                    size: file.size,
                    status: 'pending',
                    result: null
                });
            });
            updateFileList();
        }

        // Êõ¥Êñ∞Êñá‰ª∂ÂàóË°®
        function updateFileList() {
            const t = translations[currentLang];

            if (files.length === 0) {
                fileList.classList.add('hidden');
                convertBtn.disabled = true;
                downloadAllBtn.disabled = true;
                return;
            }

            fileList.classList.remove('hidden');
            fileCount.textContent = t.fileCount.replace('{count}', files.length);
            convertBtn.disabled = false;

            const doneCount = files.filter(f => f.status === 'done').length;
            downloadAllBtn.disabled = doneCount === 0;

            fileItems.innerHTML = files.map(f => `
                <div class="file-item" data-id="${f.id}">
                    <img class="file-preview" src="${URL.createObjectURL(f.file)}" alt="Preview">
                    <div class="file-info">
                        <div class="file-name">${f.name}</div>
                        <div class="file-meta">${formatSize(f.size)}</div>
                    </div>
                    <span class="file-status ${f.status}">${getStatusText(f.status)}</span>
                    <div class="file-actions">
                        <button class="file-action-btn download-btn" onclick="downloadFile('${f.id}')" ${f.status !== 'done' ? 'disabled' : ''}>‚¨á</button>
                        <button class="file-action-btn remove-btn" onclick="removeFile('${f.id}')">‚úï</button>
                    </div>
                </div>
            `).join('');
        }

        // Ê†ºÂºèÂåñÊñá‰ª∂Â§ßÂ∞è
        function formatSize(bytes) {
            if (bytes < 1024) return bytes + ' B';
            if (bytes < 1024 * 1024) return (bytes / 1024).toFixed(1) + ' KB';
            return (bytes / (1024 * 1024)).toFixed(1) + ' MB';
        }

        // Áä∂ÊÄÅÊñáÊú¨
        function getStatusText(status) {
            const t = translations[currentLang];
            const map = {
                pending: t.statusPending,
                converting: t.statusConverting,
                done: t.statusDone,
                error: t.statusError
            };
            return map[status] || status;
        }

        // ÁßªÈô§Êñá‰ª∂
        window.removeFile = function(id) {
            files = files.filter(f => f.id != id);
            updateFileList();
        };

        // Ê∏ÖÁ©∫ÂÖ®ÈÉ®
        clearAllBtn.addEventListener('click', () => {
            files = [];
            updateFileList();
        });

        // ÂºÄÂßãËΩ¨Êç¢
        convertBtn.addEventListener('click', async () => {
            const t = translations[currentLang];
            convertBtn.disabled = true;
            convertBtn.textContent = t.converting;

            for (let f of files) {
                if (f.status === 'done') continue;

                f.status = 'converting';
                updateFileList();

                try {
                    f.result = await convertImage(f.file, targetFormat, quality);
                    f.status = 'done';
                } catch (err) {
                    console.error(err);
                    f.status = 'error';
                }

                updateFileList();
            }

            convertBtn.disabled = false;
            convertBtn.textContent = t.startConvert;
        });

        // ËΩ¨Êç¢ÂõæÁâá
        function convertImage(file, format, quality) {
            return new Promise((resolve, reject) => {
                const img = new Image();
                img.onload = () => {
                    try {
                        const canvas = document.createElement('canvas');
                        canvas.width = img.width;
                        canvas.height = img.height;
                        const ctx = canvas.getContext('2d');

                        // ÈùûÈÄèÊòéÊ†ºÂºèÈúÄË¶ÅÁôΩËâ≤ËÉåÊôØ
                        if (format === 'jpeg' || format === 'bmp') {
                            ctx.fillStyle = '#ffffff';
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                        }

                        ctx.drawImage(img, 0, 0);

                        let mimeType = 'image/' + format;
                        if (format === 'ico') {
                            // ICO ÁâπÊÆäÂ§ÑÁêÜÔºöÂÖàÁº©ÊîæÂà∞ 256x256ÔºåÁÑ∂ÂêéËæìÂá∫ PNG
                            const icoCanvas = document.createElement('canvas');
                            const size = Math.min(256, img.width, img.height);
                            icoCanvas.width = size;
                            icoCanvas.height = size;
                            const icoCtx = icoCanvas.getContext('2d');
                            icoCtx.drawImage(img, 0, 0, size, size);
                            mimeType = 'image/png';
                            canvas.width = size;
                            canvas.height = size;
                            ctx.drawImage(icoCanvas, 0, 0);
                        }

                        canvas.toBlob(blob => {
                            if (blob) {
                                resolve(blob);
                            } else {
                                reject(new Error('Conversion failed'));
                            }
                        }, mimeType, quality);
                    } catch (err) {
                        reject(err);
                    }
                };
                img.onerror = () => reject(new Error('Image load failed'));
                img.src = URL.createObjectURL(file);
            });
        }

        // ‰∏ãËΩΩÂçï‰∏™Êñá‰ª∂
        window.downloadFile = function(id) {
            const f = files.find(x => x.id == id);
            if (!f || !f.result) return;

            const ext = targetFormat === 'jpeg' ? 'jpg' : targetFormat;
            const baseName = f.name.replace(/\.[^.]+$/, '');
            const link = document.createElement('a');
            link.href = URL.createObjectURL(f.result);
            link.download = baseName + '.' + ext;
            link.click();
        };

        // ÊâìÂåÖ‰∏ãËΩΩ
        downloadAllBtn.addEventListener('click', async () => {
            const t = translations[currentLang];
            const doneFiles = files.filter(f => f.status === 'done' && f.result);
            if (doneFiles.length === 0) return;

            downloadAllBtn.disabled = true;
            downloadAllBtn.textContent = t.packaging;

            try {
                const zip = new JSZip();
                const ext = targetFormat === 'jpeg' ? 'jpg' : targetFormat;

                doneFiles.forEach(f => {
                    const baseName = f.name.replace(/\.[^.]+$/, '');
                    zip.file(baseName + '.' + ext, f.result);
                });

                const content = await zip.generateAsync({ type: 'blob' });
                const link = document.createElement('a');
                link.href = URL.createObjectURL(content);
                link.download = `converted_images_${targetFormat}.zip`;
                link.click();
            } catch (err) {
                console.error(err);
                alert('Packaging failed: ' + err.message);
            }

            downloadAllBtn.disabled = false;
            downloadAllBtn.textContent = t.downloadAll;
        });

        // ÂàùÂßãÂåñÂ∫îÁî®ÁøªËØë
        applyTranslations();
    </script>

    <!-- FAQ ÈóÆÁ≠îÂå∫Âùó -->
    <div class="container">
        <div class="faq-section">
            <h2 data-i18n="faqTitle">FAQ</h2>
            <div class="faq-item">
                <div class="faq-question" data-i18n="faq1Q">What formats are supported?</div>
                <div class="faq-answer" data-i18n="faq1A">Supports conversion between JPG, PNG, WebP, GIF, BMP, ICO formats, covering the most common image formats in daily use.</div>
            </div>
            <div class="faq-item">
                <div class="faq-question" data-i18n="faq2Q">What are the advantages of WebP format?</div>
                <div class="faq-answer" data-i18n="faq2A">WebP is a format developed by Google. At the same quality, the file size is about 30% smaller than JPG, making it ideal for web use and significantly improving website loading speed.</div>
            </div>
            <div class="faq-item">
                <div class="faq-question" data-i18n="faq3Q">Will conversion cause quality loss?</div>
                <div class="faq-answer" data-i18n="faq3A">JPG/WebP are lossy formats with slight quality loss, while PNG/BMP are lossless formats with no quality loss. You can adjust the quality slider to balance image quality and file size.</div>
            </div>
            <div class="faq-item">
                <div class="faq-question" data-i18n="faq4Q">Can I convert animated GIFs to other formats?</div>
                <div class="faq-answer" data-i18n="faq4A">Yes, but only the first frame is retained when converting to static formats. If you need to preserve the animation effect, it is recommended to keep the GIF format or convert to WebP format that supports animation.</div>
            </div>
            <div class="faq-item">
                <div class="faq-question" data-i18n="faq5Q">Will images be uploaded to the server?</div>
                <div class="faq-answer" data-i18n="faq5A">No, all conversions are done locally in your browser. Images are never uploaded to any server, completely protecting your privacy.</div>
            </div>
        </div>
    </div>

    <!-- Áõ∏ÂÖ≥Â∑•ÂÖ∑Êé®Ëçê -->
    <section class="related-tools" style="max-width: 1000px; margin: 40px auto; padding: 0 20px;">
        <h3 style="color: #f0f0f0; font-size: 18px; margin-bottom: 20px; padding-bottom: 10px; border-bottom: 1px solid #333;" data-i18n="relatedTools">üîó Related Tools</h3>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px;">
            <a href="image-compressor.html" style="display: block; padding: 16px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; text-decoration: none; transition: all 0.2s;">
                <div style="font-size: 24px; margin-bottom: 8px;">üì¶</div>
                <div style="color: #f0f0f0; font-weight: 500;" data-i18n="toolCompressor">Image Compressor</div>
                <div style="color: #94a3b8; font-size: 12px; margin-top: 4px;" data-i18n="toolCompressorDesc">Batch compress image size</div>
            </a>
            <a href="image-editor.html" style="display: block; padding: 16px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; text-decoration: none; transition: all 0.2s;">
                <div style="font-size: 24px; margin-bottom: 8px;">üé®</div>
                <div style="color: #f0f0f0; font-weight: 500;" data-i18n="toolEditor">Image Editor</div>
                <div style="color: #94a3b8; font-size: 12px; margin-top: 4px;" data-i18n="toolEditorDesc">Edit and crop images online</div>
            </a>
            <a href="ico-maker.html" style="display: block; padding: 16px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; text-decoration: none; transition: all 0.2s;">
                <div style="font-size: 24px; margin-bottom: 8px;">üéØ</div>
                <div style="color: #f0f0f0; font-weight: 500;" data-i18n="toolIco">ICO Maker</div>
                <div style="color: #94a3b8; font-size: 12px; margin-top: 4px;" data-i18n="toolIcoDesc">Generate multi-size ICO icons</div>
            </a>
            <a href="id-photo-tool.html" style="display: block; padding: 16px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; text-decoration: none; transition: all 0.2s;">
                <div style="font-size: 24px; margin-bottom: 8px;">üì∑</div>
                <div style="color: #f0f0f0; font-weight: 500;" data-i18n="toolPhoto">ID Photo Cropper</div>
                <div style="color: #94a3b8; font-size: 12px; margin-top: 4px;" data-i18n="toolPhotoDesc">ID photo size cropping</div>
            </a>
        </div>
    </section>

    <footer style="text-align: center; padding: 30px 20px; border-top: 1px solid #333; color: #94a3b8; font-size: 14px;">
        <p data-i18n="footerText">Pure frontend processing, images are not uploaded to the server</p>
        <p style="margin-top: 12px;">
            <a href="index.html" style="color: #7c3aed; text-decoration: none;" data-i18n="footerBack">‚Üê Back to Web Toolbox</a>
            <span style="margin: 0 12px;">|</span>
            <a href="https://github.com/heyuan110" target="_blank" rel="noopener" style="color: #7c3aed; text-decoration: none;">GitHub</a>
        </p>
    </footer>

    <!-- È°µÈù¢Âä†ËΩΩÂêéÈáçÊñ∞Â∫îÁî®ÁøªËØëÂà∞Âä®ÊÄÅÂÜÖÂÆπ -->
    <script>
        // Á°Æ‰øùFAQÂíåfooterÁ≠âÂú®ËÑöÊú¨‰πãÂêéÁöÑÂÜÖÂÆπ‰πüË¢´ÁøªËØë
        document.addEventListener('DOMContentLoaded', () => {
            applyTranslations();
        });
    </script>
</body>
</html>
