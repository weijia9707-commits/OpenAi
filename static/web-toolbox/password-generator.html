<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Password Generator - Free Online | No Ads, No Signup | å¯†ç ç”Ÿæˆå™¨ | Web Toolbox</title>
    <meta name="description" content="Free online password generator. Create strong, random, secure passwords instantly. Customize length, characters, and complexity. No data stored. | åœ¨çº¿éšæœºå¯†ç ç”Ÿæˆå™¨ âœ… No ads âœ… No signup âœ… No limits. Runs entirely in your browser.">
    <meta name="keywords" content="password generator,random password,secure password,strong password,å¯†ç ç”Ÿæˆå™¨,éšæœºå¯†ç ,å®‰å…¨å¯†ç , no ads, no signup, no login, no watermark, free unlimited, browser-based, no installation">
    <meta name="author" content="heyuan110">
    <meta name="robots" content="index, follow">
    <meta name="googlebot" content="index, follow">
    <meta name="bingbot" content="index, follow">
    <meta name="revisit-after" content="7 days">
    <meta name="rating" content="general">
    <meta name="distribution" content="global">
    <meta name="language" content="en">
    <link rel="canonical" href="https://www.heyuan110.com/web-toolbox/password-generator.html">
    <link rel="alternate" hreflang="en" href="https://www.heyuan110.com/web-toolbox/password-generator.html">
    <link rel="alternate" hreflang="zh-CN" href="https://www.heyuan110.com/web-toolbox/password-generator.html">

    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.heyuan110.com/web-toolbox/password-generator.html">
    <meta property="og:title" content="Password Generator - Free Online | No Ads, No Signup | å¯†ç ç”Ÿæˆå™¨">
    <meta property="og:description" content="Create strong random passwords. Customize length and character types. Free, no data stored.">
    <meta property="og:image" content="https://www.heyuan110.com/web-toolbox/screenshots/password-generator.webp">
    <meta property="og:locale" content="en_US">
    <meta property="og:site_name" content="Web Toolbox">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Password Generator - Free Online | No Ads, No Signup | å¯†ç ç”Ÿæˆå™¨">
    <meta name="twitter:description" content="Create strong random passwords instantly. Free online tool.">
    <meta name="twitter:image" content="https://www.heyuan110.com/web-toolbox/screenshots/password-generator.webp">

    <!-- JSON-LD -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Password Generator",
        "alternateName": ["å¯†ç ç”Ÿæˆå™¨", "Random Password Generator", "Secure Password Creator"],
        "description": "Free online password generator. Create strong, random, secure passwords instantly.",
        "url": "https://www.heyuan110.com/web-toolbox/password-generator.html",
        "applicationCategory": "UtilityApplication",
        "operatingSystem": "Any",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        },
        "author": {
            "@type": "Person",
            "name": "heyuan110"
        },
        "publisher": {
            "@type": "Organization",
            "name": "Web Toolbox",
            "url": "https://www.heyuan110.com/web-toolbox/"
        },
        "featureList": [
            "Cryptographically secure random generation",
            "Custom password length 4-128 characters",
            "Multiple character types selection",
            "Password strength indicator",
            "Batch generation up to 50 passwords",
            "Session password history",
            "No ads",
            "No signup required",
            "100% browser-based",
            "Unlimited usage"
        ],
        "screenshot": "https://www.heyuan110.com/web-toolbox/screenshots/password-generator.webp"
    }
    </script>
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [
            {
                "@type": "Question",
                "name": "Is this password generator secure?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Yes. This tool uses the Web Crypto API (crypto.getRandomValues) to generate cryptographically secure random numbers. All password generation happens entirely in your browser â€” no data is ever sent to any server."
                }
            },
            {
                "@type": "Question",
                "name": "What is considered a strong password?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "A strong password is typically at least 12 characters long and includes a mix of uppercase letters, lowercase letters, numbers, and special symbols. Avoiding common words and patterns also increases strength."
                }
            },
            {
                "@type": "Question",
                "name": "Are my generated passwords stored anywhere?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "No. All passwords are generated locally in your browser. The password history is stored only in your current browser session memory and is cleared when you close the tab. Nothing is ever sent to or stored on any server."
                }
            },
            {
                "@type": "Question",
                "name": "Is this tool really free with no ads?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Absolutely! This password generator is 100% free with zero ads, no signup or login required, no watermarks, and no usage limits. It runs entirely in your browser with no server-side processing, so your data stays completely private. There are no hidden fees or premium tiers â€” every feature is available to everyone."
                }
            }
        ]
    }
    </script>

    <!-- JSON-LD BreadcrumbList -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
            {
                "@type": "ListItem",
                "position": 1,
                "name": "Home",
                "item": "https://www.heyuan110.com/"
            },
            {
                "@type": "ListItem",
                "position": 2,
                "name": "Web Toolbox",
                "item": "https://www.heyuan110.com/web-toolbox/"
            },
            {
                "@type": "ListItem",
                "position": 3,
                "name": "Password Generator",
                "item": "https://www.heyuan110.com/web-toolbox/password-generator.html"
            }
        ]
    }
    </script>

    <!-- JSON-LD HowTo -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "HowTo",
        "name": "How to Generate a Secure Password",
        "description": "Step-by-step guide to generating a strong, secure random password using the Password Generator tool",
        "totalTime": "PT1M",
        "tool": {
            "@type": "HowToTool",
            "name": "Password Generator"
        },
        "step": [
            {
                "@type": "HowToStep",
                "position": 1,
                "name": "Configure password settings",
                "text": "Set your desired password length (4-128 characters) and select the character types you want to include: uppercase letters, lowercase letters, numbers, and special symbols."
            },
            {
                "@type": "HowToStep",
                "position": 2,
                "name": "Click Generate to create password",
                "text": "Click the 'Generate Password' button to create a cryptographically secure random password based on your settings."
            },
            {
                "@type": "HowToStep",
                "position": 3,
                "name": "Copy password to clipboard",
                "text": "Click the 'Copy' button or click on the password display area to copy the generated password to your clipboard."
            }
        ]
    }
    </script>

    <style>
        *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            color: #e4e4e7;
            min-height: 100vh;
            padding: 40px 16px 60px;
            line-height: 1.6;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 8px;
            background: linear-gradient(135deg, #a78bfa, #7c3aed);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            text-align: center;
            color: #a1a1aa;
            font-size: 0.95rem;
            margin-bottom: 32px;
        }

        .card {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 20px;
            transition: border-color 0.3s ease;
        }

        .card:hover {
            border-color: rgba(124, 58, 237, 0.3);
        }

        .card-title {
            font-size: 1.05rem;
            font-weight: 600;
            margin-bottom: 16px;
            color: #d4d4d8;
        }

        /* å¯†ç æ˜¾ç¤ºåŒºåŸŸ */
        .password-display {
            background: rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 20px 24px;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            min-height: 70px;
        }

        .password-display:hover {
            border-color: rgba(124, 58, 237, 0.4);
            background: rgba(0, 0, 0, 0.5);
        }

        .password-text {
            flex: 1;
            font-family: "SF Mono", "Fira Code", "Cascadia Code", Consolas, monospace;
            font-size: 1.35rem;
            color: #f4f4f5;
            word-break: break-all;
            line-height: 1.5;
            user-select: all;
        }

        .copy-btn {
            background: linear-gradient(135deg, #7c3aed, #6d28d9);
            border: none;
            color: #fff;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 500;
            white-space: nowrap;
            transition: all 0.3s ease;
            flex-shrink: 0;
        }

        .copy-btn:hover {
            background: linear-gradient(135deg, #8b5cf6, #7c3aed);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(124, 58, 237, 0.4);
        }

        .copy-btn:active { transform: translateY(0); }

        .copy-toast {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%) translateY(-60px);
            background: rgba(34, 197, 94, 0.95);
            color: #fff;
            padding: 10px 24px;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 500;
            z-index: 2000;
            opacity: 0;
            transition: all 0.3s ease;
            pointer-events: none;
        }

        .copy-toast.show {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }

        /* å¯†ç å¼ºåº¦æŒ‡ç¤ºå™¨ */
        .strength-bar-wrapper {
            height: 6px;
            background: rgba(255, 255, 255, 0.08);
            border-radius: 3px;
            overflow: hidden;
            margin-bottom: 8px;
        }

        .strength-bar {
            height: 100%;
            border-radius: 3px;
            transition: width 0.4s ease, background 0.4s ease;
            width: 0%;
        }

        .strength-label {
            font-size: 0.85rem;
            font-weight: 500;
            margin-bottom: 20px;
            transition: color 0.3s ease;
        }

        /* é•¿åº¦è®¾ç½® */
        .length-row {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 20px;
        }

        .length-row label {
            font-size: 0.9rem;
            color: #a1a1aa;
            white-space: nowrap;
        }

        .length-slider {
            flex: 1;
            -webkit-appearance: none;
            appearance: none;
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            outline: none;
        }

        .length-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            background: linear-gradient(135deg, #7c3aed, #6d28d9);
            border-radius: 50%;
            cursor: pointer;
            transition: box-shadow 0.2s ease;
        }

        .length-slider::-webkit-slider-thumb:hover {
            box-shadow: 0 0 0 6px rgba(124, 58, 237, 0.2);
        }

        .length-slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            background: linear-gradient(135deg, #7c3aed, #6d28d9);
            border-radius: 50%;
            cursor: pointer;
            border: none;
        }

        .length-input {
            width: 64px;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 8px;
            padding: 8px 10px;
            color: #e4e4e7;
            font-size: 0.95rem;
            text-align: center;
            outline: none;
            transition: border-color 0.3s ease;
        }

        .length-input:focus {
            border-color: #7c3aed;
        }

        /* å­—ç¬¦ç±»å‹é€‰é¡¹ */
        .char-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-bottom: 20px;
        }

        .char-option {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 14px;
            background: rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            user-select: none;
        }

        .char-option:hover {
            border-color: rgba(124, 58, 237, 0.3);
            background: rgba(0, 0, 0, 0.3);
        }

        .char-option input[type="checkbox"] {
            -webkit-appearance: none;
            appearance: none;
            width: 18px;
            height: 18px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 4px;
            cursor: pointer;
            position: relative;
            flex-shrink: 0;
            transition: all 0.2s ease;
        }

        .char-option input[type="checkbox"]:checked {
            background: #7c3aed;
            border-color: #7c3aed;
        }

        .char-option input[type="checkbox"]:checked::after {
            content: 'âœ“';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #fff;
            font-size: 12px;
            font-weight: 700;
        }

        .char-option-text {
            font-size: 0.88rem;
            color: #d4d4d8;
        }

        .char-option-hint {
            font-size: 0.75rem;
            color: #71717a;
            margin-top: 2px;
        }

        /* æ’é™¤æ··æ·†å­—ç¬¦ */
        .exclude-row {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
            padding: 10px 14px;
            background: rgba(0, 0, 0, 0.15);
            border-radius: 10px;
            cursor: pointer;
            user-select: none;
        }

        .exclude-row input[type="checkbox"] {
            -webkit-appearance: none;
            appearance: none;
            width: 18px;
            height: 18px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 4px;
            cursor: pointer;
            position: relative;
            flex-shrink: 0;
            transition: all 0.2s ease;
        }

        .exclude-row input[type="checkbox"]:checked {
            background: #7c3aed;
            border-color: #7c3aed;
        }

        .exclude-row input[type="checkbox"]:checked::after {
            content: 'âœ“';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #fff;
            font-size: 12px;
            font-weight: 700;
        }

        .exclude-label {
            font-size: 0.88rem;
            color: #d4d4d8;
        }

        .exclude-hint {
            font-size: 0.75rem;
            color: #71717a;
        }

        /* æ‰¹é‡ç”Ÿæˆ */
        .batch-row {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
        }

        .batch-row label {
            font-size: 0.9rem;
            color: #a1a1aa;
            white-space: nowrap;
        }

        .batch-input {
            width: 64px;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 8px;
            padding: 8px 10px;
            color: #e4e4e7;
            font-size: 0.95rem;
            text-align: center;
            outline: none;
            transition: border-color 0.3s ease;
        }

        .batch-input:focus {
            border-color: #7c3aed;
        }

        /* ç”ŸæˆæŒ‰é’® */
        .generate-btn {
            width: 100%;
            background: linear-gradient(135deg, #7c3aed, #6d28d9);
            border: none;
            color: #fff;
            padding: 14px 24px;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .generate-btn:hover {
            background: linear-gradient(135deg, #8b5cf6, #7c3aed);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(124, 58, 237, 0.4);
        }

        .generate-btn:active {
            transform: translateY(0);
        }

        /* æ‰¹é‡ç»“æœåˆ—è¡¨ */
        .batch-results {
            margin-top: 16px;
            display: none;
        }

        .batch-results.visible {
            display: block;
        }

        .batch-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 10px 14px;
            background: rgba(0, 0, 0, 0.25);
            border: 1px solid rgba(255, 255, 255, 0.06);
            border-radius: 8px;
            margin-bottom: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .batch-item:hover {
            border-color: rgba(124, 58, 237, 0.3);
            background: rgba(0, 0, 0, 0.35);
        }

        .batch-item-text {
            flex: 1;
            font-family: "SF Mono", "Fira Code", "Cascadia Code", Consolas, monospace;
            font-size: 0.9rem;
            color: #d4d4d8;
            word-break: break-all;
        }

        .batch-item-copy {
            background: rgba(124, 58, 237, 0.2);
            border: 1px solid rgba(124, 58, 237, 0.3);
            color: #a78bfa;
            padding: 5px 12px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.8rem;
            white-space: nowrap;
            transition: all 0.2s ease;
            flex-shrink: 0;
        }

        .batch-item-copy:hover {
            background: rgba(124, 58, 237, 0.3);
        }

        .batch-copy-all {
            display: inline-block;
            margin-top: 8px;
            background: none;
            border: 1px solid rgba(124, 58, 237, 0.3);
            color: #a78bfa;
            padding: 8px 18px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.85rem;
            transition: all 0.2s ease;
        }

        .batch-copy-all:hover {
            background: rgba(124, 58, 237, 0.15);
        }

        /* å†å²è®°å½• */
        .history-list {
            max-height: 400px;
            overflow-y: auto;
        }

        .history-list::-webkit-scrollbar {
            width: 6px;
        }

        .history-list::-webkit-scrollbar-track {
            background: transparent;
        }

        .history-list::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
        }

        .history-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 8px 12px;
            border-radius: 8px;
            transition: background 0.2s ease;
            cursor: pointer;
        }

        .history-item:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        .history-item-pw {
            flex: 1;
            font-family: "SF Mono", "Fira Code", "Cascadia Code", Consolas, monospace;
            font-size: 0.85rem;
            color: #a1a1aa;
            word-break: break-all;
        }

        .history-item-time {
            font-size: 0.75rem;
            color: #52525b;
            white-space: nowrap;
            flex-shrink: 0;
        }

        .history-empty {
            text-align: center;
            color: #52525b;
            font-size: 0.85rem;
            padding: 20px 0;
        }

        .history-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 16px;
        }

        .history-clear-btn {
            background: none;
            border: 1px solid rgba(239, 68, 68, 0.3);
            color: #f87171;
            padding: 5px 12px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: all 0.2s ease;
        }

        .history-clear-btn:hover {
            background: rgba(239, 68, 68, 0.1);
        }

        /* è¯­è¨€åˆ‡æ¢å™¨ */
        .lang-switcher { position: fixed; top: 20px; right: 20px; z-index: 1000; }
        .lang-dropdown { position: relative; display: inline-block; }
        .lang-current { background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); padding: 8px 16px; border-radius: 8px; cursor: pointer; font-size: 14px; color: #e0e0e0; transition: all 0.3s ease; }
        .lang-current:hover { background: rgba(255,255,255,0.15); }
        .lang-menu { position: absolute; top: 100%; right: 0; margin-top: 4px; background: #1e1e2e; border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; padding: 4px; min-width: 140px; opacity: 0; visibility: hidden; transform: translateY(-10px); transition: all 0.3s ease; z-index: 1000; }
        .lang-dropdown.active .lang-menu { opacity: 1; visibility: visible; transform: translateY(0); }
        .lang-btn { display: block; width: 100%; padding: 10px 16px; background: none; border: none; color: #e0e0e0; font-size: 14px; text-align: left; cursor: pointer; border-radius: 6px; transition: background 0.2s ease; }
        .lang-btn:hover { background: rgba(255,255,255,0.1); }

        /* åŠŸèƒ½ç‰¹ç‚¹åŒºå— */
        .features-section {
            max-width: 800px;
            margin: 40px auto;
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
        }

        .features-section h2 {
            grid-column: 1 / -1;
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 8px;
            color: #e4e4e7;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .feature-card {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 20px 16px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-4px);
            border-color: rgba(124, 58, 237, 0.3);
            box-shadow: 0 8px 30px rgba(124, 58, 237, 0.1);
        }

        .feature-icon {
            width: 48px;
            height: 48px;
            margin: 0 auto 16px;
            background: linear-gradient(135deg, #7c3aed, #6d28d9);
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
        }

        .feature-card h3 {
            font-size: 1.05rem;
            font-weight: 600;
            margin-bottom: 8px;
            color: #e4e4e7;
        }

        .feature-card p {
            font-size: 0.88rem;
            color: #a1a1aa;
            line-height: 1.5;
        }

        /* FAQ åŒºå— */
        .faq-section {
            max-width: 800px;
            margin: 40px auto;
            padding: 0;
        }

        .faq-section h2 {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 24px;
            color: #e4e4e7;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .faq-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .faq-item {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            overflow: hidden;
        }

        .faq-question {
            width: 100%;
            padding: 20px 24px;
            background: transparent;
            border: none;
            color: #e4e4e7;
            font-size: 1rem;
            font-weight: 600;
            text-align: left;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 16px;
            transition: background 0.2s ease;
        }

        .faq-question:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        .faq-question::after {
            content: "+";
            font-size: 1.5rem;
            font-weight: 300;
            color: #a1a1aa;
            transition: transform 0.3s ease;
            flex-shrink: 0;
        }

        .faq-item.active .faq-question::after {
            transform: rotate(45deg);
        }

        .faq-answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease, padding 0.3s ease;
        }

        .faq-item.active .faq-answer {
            max-height: 300px;
        }

        .faq-answer p {
            padding: 0 24px 20px;
            color: #a1a1aa;
            font-size: 0.95rem;
            line-height: 1.7;
        }

        /* ç›¸å…³å·¥å…·æ¨è */
        .related-tools {
            max-width: 800px;
            margin: 40px auto;
            padding: 0;
        }

        .related-tools h3 {
            color: #e4e4e7;
            font-size: 1.2rem;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .related-tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 16px;
        }

        .related-tool-card {
            display: block;
            padding: 16px;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .related-tool-card:hover {
            border-color: rgba(124, 58, 237, 0.3);
            transform: translateY(-2px);
            box-shadow: 0 4px 16px rgba(124, 58, 237, 0.1);
        }

        .related-tool-card .tool-icon {
            font-size: 24px;
            margin-bottom: 8px;
        }

        .related-tool-card .tool-name {
            color: #e4e4e7;
            font-weight: 500;
            font-size: 0.95rem;
        }

        .related-tool-card .tool-desc {
            color: #71717a;
            font-size: 0.8rem;
            margin-top: 4px;
        }

        /* å“åº”å¼ */
        @media (max-width: 600px) {
            body { padding: 60px 12px 40px; }
            h1 { font-size: 1.5rem; }
            .password-text { font-size: 1.05rem; }
            .char-options { grid-template-columns: 1fr; }
            .password-display { flex-direction: column; align-items: stretch; }
            .copy-btn { text-align: center; }
            .lang-switcher { top: 12px; right: 12px; }
            .features-section { grid-template-columns: 1fr; }
            .feature-card { padding: 16px 12px; }
            .feature-card h3 { font-size: 0.95rem; }
            .feature-card p { font-size: 0.8rem; }
            .faq-question { padding: 16px 18px; font-size: 0.9rem; }
            .faq-answer p { padding: 0 18px 16px; font-size: 0.88rem; }
        }
.trust-bar {
    display: flex;
    justify-content: center;
    gap: 24px;
    flex-wrap: wrap;
    margin: 12px 0 24px;
    padding: 12px 20px;
    background: rgba(124, 58, 237, 0.1);
    border: 1px solid rgba(124, 58, 237, 0.2);
    border-radius: 12px;
}
.trust-item {
    font-size: 13px;
    color: #a78bfa;
    white-space: nowrap;
}
    </style>
</head>
<body>
    <!-- è¯­è¨€åˆ‡æ¢å™¨ -->
    <div class="lang-switcher">
        <div class="lang-dropdown" id="langDropdown">
            <div class="lang-current" id="langCurrent">ğŸŒ English</div>
            <div class="lang-menu">
                <button class="lang-btn" data-lang="en">ğŸ‡ºğŸ‡¸ English</button>
                <button class="lang-btn" data-lang="zh-CN">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</button>
                <button class="lang-btn" data-lang="fr">ğŸ‡«ğŸ‡· FranÃ§ais</button>
                <button class="lang-btn" data-lang="es">ğŸ‡ªğŸ‡¸ EspaÃ±ol</button>
            </div>
        </div>
    </div>

    <!-- å¤åˆ¶æç¤º -->
    <div class="copy-toast" id="copyToast" data-i18n="copySuccess">Copied!</div>

    <div class="container">
        <h1 data-i18n="title">Password Generator</h1>
        <p class="subtitle" data-i18n="subtitle">Generate strong, secure random passwords instantly</p>

        <!-- å¯†ç æ˜¾ç¤ºåŒºåŸŸ -->
        <div class="card">
            <div class="password-display" id="passwordDisplay" title="">
                <span class="password-text" id="passwordText" data-i18n="clickGenerate">Click "Generate" to create a password</span>
                <button class="copy-btn" id="copyBtn" data-i18n="copy">Copy</button>
            </div>
            <div class="strength-bar-wrapper">
                <div class="strength-bar" id="strengthBar"></div>
            </div>
            <div class="strength-label" id="strengthLabel">&nbsp;</div>
        </div>

        <!-- è®¾ç½®åŒºåŸŸ -->
        <div class="card">
            <div class="card-title" data-i18n="settings">Settings</div>

            <!-- é•¿åº¦ -->
            <div class="length-row">
                <label data-i18n="length">Length</label>
                <input type="range" class="length-slider" id="lengthSlider" min="4" max="128" value="16">
                <input type="number" class="length-input" id="lengthInput" min="4" max="128" value="16">
            </div>

            <!-- å­—ç¬¦ç±»å‹ -->
            <div class="char-options">
                <label class="char-option">
                    <input type="checkbox" id="optUppercase" checked>
                    <div>
                        <div class="char-option-text" data-i18n="uppercase">Uppercase Letters</div>
                        <div class="char-option-hint">A-Z</div>
                    </div>
                </label>
                <label class="char-option">
                    <input type="checkbox" id="optLowercase" checked>
                    <div>
                        <div class="char-option-text" data-i18n="lowercase">Lowercase Letters</div>
                        <div class="char-option-hint">a-z</div>
                    </div>
                </label>
                <label class="char-option">
                    <input type="checkbox" id="optNumbers" checked>
                    <div>
                        <div class="char-option-text" data-i18n="numbers">Numbers</div>
                        <div class="char-option-hint">0-9</div>
                    </div>
                </label>
                <label class="char-option">
                    <input type="checkbox" id="optSymbols" checked>
                    <div>
                        <div class="char-option-text" data-i18n="symbols">Special Symbols</div>
                        <div class="char-option-hint">!@#$%^&amp;*()_+-=</div>
                    </div>
                </label>
            </div>

            <!-- æ’é™¤æ··æ·†å­—ç¬¦ -->
            <label class="exclude-row">
                <input type="checkbox" id="optExcludeAmbiguous">
                <div>
                    <span class="exclude-label" data-i18n="excludeAmbiguous">Exclude ambiguous characters</span>
                    <div class="exclude-hint" data-i18n="excludeHint">0, O, o, 1, l, I, |</div>
                </div>
            </label>

            <!-- æ‰¹é‡ç”Ÿæˆæ•°é‡ -->
            <div class="batch-row">
                <label data-i18n="batchCount">Batch count</label>
                <input type="number" class="batch-input" id="batchInput" min="1" max="50" value="1">
            </div>

            <!-- ç”ŸæˆæŒ‰é’® -->
            <button class="generate-btn" id="generateBtn" data-i18n="generate">Generate Password</button>
        </div>

        <!-- æ‰¹é‡ç»“æœ -->
        <div class="card batch-results" id="batchResults">
            <div class="card-title" data-i18n="batchResults">Batch Results</div>
            <div id="batchList"></div>
            <button class="batch-copy-all" id="batchCopyAll" data-i18n="copyAll">Copy All</button>
        </div>

        <!-- å†å²è®°å½• -->
        <div class="card">
            <div class="history-header">
                <div class="card-title" style="margin-bottom:0" data-i18n="history">History</div>
                <button class="history-clear-btn" id="historyClearBtn" data-i18n="clearHistory">Clear</button>
            </div>
            <div class="history-list" id="historyList">
                <div class="history-empty" id="historyEmpty" data-i18n="historyEmpty">No passwords generated yet</div>
            </div>
        </div>
    </div>

    <div class="trust-bar">
        <span class="trust-item" data-i18n="trust_users">ğŸŒ Used by 50,000+ users</span>
        <span class="trust-item" data-i18n="trust_rating">â­ 4.9/5 rating</span>
        <span class="trust-item" data-i18n="trust_privacy">ğŸ”’ 100% Private</span>
        <span class="trust-item" data-i18n="trust_free">ğŸš« No Ads, No Signup</span>
    </div>

    <!-- åŠŸèƒ½ç‰¹ç‚¹ -->
    <section class="features-section" aria-label="Features">
        <h2 data-i18n="featSectionTitle">Key Features</h2>
        <article class="feature-card">
            <div class="feature-icon">ğŸ”’</div>
            <h3 data-i18n="feature1_title">100% Free & Private</h3>
            <p data-i18n="feature1_desc">No ads, no signup, no watermark. Everything runs locally in your browser. Your data never leaves your device.</p>
        </article>
        <article class="feature-card">
            <div class="feature-icon">ğŸ›ï¸</div>
            <h3 data-i18n="feat2Title">Fully Customizable</h3>
            <p data-i18n="feat2Desc">Custom length 4-128, choose uppercase, lowercase, numbers, symbols</p>
        </article>
        <article class="feature-card">
            <div class="feature-icon">ğŸ“Š</div>
            <h3 data-i18n="feat3Title">Strength Analysis</h3>
            <p data-i18n="feat3Desc">Real-time password strength evaluation: Weak / Medium / Strong / Very Strong</p>
        </article>
        <article class="feature-card">
            <div class="feature-icon">ğŸ“¦</div>
            <h3 data-i18n="feat4Title">Batch Generation</h3>
            <p data-i18n="feat4Desc">Generate up to 50 passwords at once, with session history support</p>
        </article>
    </section>

    <!-- FAQ å¸¸è§é—®é¢˜ -->
    <section class="faq-section">
        <h2 data-i18n="faqTitle">Frequently Asked Questions</h2>
        <div class="faq-list">
            <div class="faq-item">
                <button class="faq-question" data-i18n="faq1Q">Is this password generator secure?</button>
                <div class="faq-answer">
                    <p data-i18n="faq1A">Yes. This tool uses the Web Crypto API (crypto.getRandomValues) to generate cryptographically secure random numbers. All password generation happens entirely in your browser â€” no data is ever sent to any server.</p>
                </div>
            </div>
            <div class="faq-item">
                <button class="faq-question" data-i18n="faq2Q">What makes a strong password?</button>
                <div class="faq-answer">
                    <p data-i18n="faq2A">A strong password is typically at least 12 characters long and includes a mix of uppercase letters, lowercase letters, numbers, and special symbols. Avoiding common words, patterns, and personal information also greatly increases password strength.</p>
                </div>
            </div>
            <div class="faq-item">
                <button class="faq-question" data-i18n="faq3Q">Are my passwords stored anywhere?</button>
                <div class="faq-answer">
                    <p data-i18n="faq3A">No. All passwords are generated locally in your browser. The password history is stored only in your current browser session memory and is cleared when you close the tab. Nothing is ever sent to or stored on any server.</p>
                </div>
            </div>
            <div class="faq-item">
                <button class="faq-question" data-i18n="faq4Q">Can I generate passwords in bulk?</button>
                <div class="faq-answer">
                    <p data-i18n="faq4A">Yes! You can generate up to 50 passwords at once using the batch count setting. All generated passwords will be displayed in a list and you can copy them individually or all at once.</p>
                </div>
            </div>
            <div class="faq-item">
                <button class="faq-question" data-i18n="faq5Q">Is this tool completely free?</button>
                <div class="faq-answer">
                    <p data-i18n="faq5A">Yes, this password generator is 100% free to use with no limitations. There are no ads, no registration required, and no premium features locked behind a paywall.</p>
                </div>
            </div>
            <div class="faq-item">
                <button class="faq-question" data-i18n="faq_free_q">Is this tool really free with no ads?</button>
                <div class="faq-answer">
                    <p data-i18n="faq_free_a">Absolutely! This password generator is 100% free with zero ads, no signup or login required, no watermarks, and no usage limits. It runs entirely in your browser with no server-side processing, so your data stays completely private. There are no hidden fees or premium tiers â€” every feature is available to everyone.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- ç›¸å…³å·¥å…·æ¨è -->
    <section class="related-tools">
        <h3 data-i18n="relatedTitle">Related Tools</h3>
        <div class="related-tools-grid">
            <a href="base64-tool.html" class="related-tool-card">
                <div class="tool-icon">ğŸ”£</div>
                <div class="tool-name" data-i18n="rel1Name">Base64 Encoder/Decoder</div>
                <div class="tool-desc" data-i18n="rel1Desc">Encode and decode Base64 strings online</div>
            </a>
            <a href="url-encoder.html" class="related-tool-card">
                <div class="tool-icon">ğŸ”—</div>
                <div class="tool-name" data-i18n="rel2Name">URL Encoder/Decoder</div>
                <div class="tool-desc" data-i18n="rel2Desc">Encode and decode URL components</div>
            </a>
            <a href="crypto-tools.html" class="related-tool-card">
                <div class="tool-icon">ğŸ›¡ï¸</div>
                <div class="tool-name" data-i18n="rel3Name">Crypto & Encoding Toolkit</div>
                <div class="tool-desc" data-i18n="rel3Desc">Hash, encrypt, and encode data</div>
            </a>
            <a href="qr-code-generator.html" class="related-tool-card">
                <div class="tool-icon">ğŸ“±</div>
                <div class="tool-name" data-i18n="rel4Name">QR Code Generator</div>
                <div class="tool-desc" data-i18n="rel4Desc">Generate QR codes from text or URLs</div>
            </a>
        </div>
    </section>

    <script>
    (function() {
        'use strict';

        // ===== å¤šè¯­è¨€ =====
        var i18n = {
            en: {
                title: 'Password Generator',
                subtitle: 'Generate strong, secure random passwords instantly',
                clickGenerate: 'Click "Generate" to create a password',
                copy: 'Copy',
                copySuccess: 'Copied!',
                settings: 'Settings',
                length: 'Length',
                uppercase: 'Uppercase Letters',
                lowercase: 'Lowercase Letters',
                numbers: 'Numbers',
                symbols: 'Special Symbols',
                excludeAmbiguous: 'Exclude ambiguous characters',
                excludeHint: '0, O, o, 1, l, I, |',
                batchCount: 'Batch count',
                generate: 'Generate Password',
                batchResults: 'Batch Results',
                copyAll: 'Copy All',
                history: 'History',
                clearHistory: 'Clear',
                historyEmpty: 'No passwords generated yet',
                strengthWeak: 'Weak',
                strengthMedium: 'Medium',
                strengthStrong: 'Strong',
                strengthVeryStrong: 'Very Strong',
                noCharType: 'Please select at least one character type',
                langName: 'ğŸŒ English',
                featSectionTitle: 'Key Features',
                feat1Title: 'Cryptographically Secure',
                feat1Desc: 'Uses Web Crypto API to generate true random numbers, not pseudo-random',
                feature1_title: '100% Free & Private',
                feature1_desc: 'No ads, no signup, no watermark. Everything runs locally in your browser. Your data never leaves your device.',
                feat2Title: 'Fully Customizable',
                feat2Desc: 'Custom length 4-128, choose uppercase, lowercase, numbers, symbols',
                feat3Title: 'Strength Analysis',
                feat3Desc: 'Real-time password strength evaluation: Weak / Medium / Strong / Very Strong',
                feat4Title: 'Batch Generation',
                feat4Desc: 'Generate up to 50 passwords at once, with session history support',
                faqTitle: 'Frequently Asked Questions',
                faq1Q: 'Is this password generator secure?',
                faq1A: 'Yes. This tool uses the Web Crypto API (crypto.getRandomValues) to generate cryptographically secure random numbers. All password generation happens entirely in your browser â€” no data is ever sent to any server.',
                faq2Q: 'What makes a strong password?',
                faq2A: 'A strong password is typically at least 12 characters long and includes a mix of uppercase letters, lowercase letters, numbers, and special symbols. Avoiding common words, patterns, and personal information also greatly increases password strength.',
                faq3Q: 'Are my passwords stored anywhere?',
                faq3A: 'No. All passwords are generated locally in your browser. The password history is stored only in your current browser session memory and is cleared when you close the tab. Nothing is ever sent to or stored on any server.',
                faq4Q: 'Can I generate passwords in bulk?',
                faq4A: 'Yes! You can generate up to 50 passwords at once using the batch count setting. All generated passwords will be displayed in a list and you can copy them individually or all at once.',
                faq5Q: 'Is this tool completely free?',
                faq5A: 'Yes, this password generator is 100% free to use with no limitations. There are no ads, no registration required, and no premium features locked behind a paywall.',
                faq_free_q: 'Is this tool really free with no ads?',
                faq_free_a: 'Absolutely! This password generator is 100% free with zero ads, no signup or login required, no watermarks, and no usage limits. It runs entirely in your browser with no server-side processing, so your data stays completely private. There are no hidden fees or premium tiers â€” every feature is available to everyone.',
                relatedTitle: 'Related Tools',
                rel1Name: 'Base64 Encoder/Decoder',
                rel1Desc: 'Encode and decode Base64 strings online',
                rel2Name: 'URL Encoder/Decoder',
                rel2Desc: 'Encode and decode URL components',
                rel3Name: 'Crypto & Encoding Toolkit',
                rel3Desc: 'Hash, encrypt, and encode data',
                rel4Name: 'QR Code Generator',
                rel4Desc: 'Generate QR codes from text or URLs',
                trust_users: 'ğŸŒ Used by 50,000+ users',
                trust_rating: 'â­ 4.9/5 rating',
                trust_privacy: 'ğŸ”’ 100% Private',
                trust_free: 'ğŸš« No Ads, No Signup'
            },
            'zh-CN': {
                title: 'å¯†ç ç”Ÿæˆå™¨',
                subtitle: 'å³æ—¶ç”Ÿæˆå¼ºå£®ã€å®‰å…¨çš„éšæœºå¯†ç ',
                clickGenerate: 'ç‚¹å‡»"ç”Ÿæˆå¯†ç "åˆ›å»ºå¯†ç ',
                copy: 'å¤åˆ¶',
                copySuccess: 'å·²å¤åˆ¶ï¼',
                settings: 'è®¾ç½®',
                length: 'é•¿åº¦',
                uppercase: 'å¤§å†™å­—æ¯',
                lowercase: 'å°å†™å­—æ¯',
                numbers: 'æ•°å­—',
                symbols: 'ç‰¹æ®Šç¬¦å·',
                excludeAmbiguous: 'æ’é™¤æ˜“æ··æ·†å­—ç¬¦',
                excludeHint: '0, O, o, 1, l, I, |',
                batchCount: 'æ‰¹é‡æ•°é‡',
                generate: 'ç”Ÿæˆå¯†ç ',
                batchResults: 'æ‰¹é‡ç»“æœ',
                copyAll: 'å…¨éƒ¨å¤åˆ¶',
                history: 'å†å²è®°å½•',
                clearHistory: 'æ¸…é™¤',
                historyEmpty: 'æš‚æ— ç”Ÿæˆè®°å½•',
                strengthWeak: 'å¼±',
                strengthMedium: 'ä¸­ç­‰',
                strengthStrong: 'å¼º',
                strengthVeryStrong: 'éå¸¸å¼º',
                noCharType: 'è¯·è‡³å°‘é€‰æ‹©ä¸€ç§å­—ç¬¦ç±»å‹',
                langName: 'ğŸŒ ä¸­æ–‡',
                featSectionTitle: 'æ ¸å¿ƒåŠŸèƒ½',
                feat1Title: 'å¯†ç å­¦å®‰å…¨',
                feat1Desc: 'ä½¿ç”¨ Web Crypto API ç”ŸæˆçœŸéšæœºæ•°ï¼Œéä¼ªéšæœº',
                feature1_title: '100% å…è´¹ä¸”éšç§å®‰å…¨',
                feature1_desc: 'æ— å¹¿å‘Šã€æ— éœ€æ³¨å†Œã€æ— æ°´å°ã€‚æ‰€æœ‰æ“ä½œå®Œå…¨åœ¨æµè§ˆå™¨æœ¬åœ°è¿è¡Œï¼Œæ‚¨çš„æ•°æ®ä¸ä¼šç¦»å¼€è®¾å¤‡ã€‚',
                feat2Title: 'å®Œå…¨å¯å®šåˆ¶',
                feat2Desc: 'è‡ªå®šä¹‰é•¿åº¦ 4-128ï¼Œé€‰æ‹©å¤§å†™ã€å°å†™ã€æ•°å­—ã€ç¬¦å·',
                feat3Title: 'å¼ºåº¦åˆ†æ',
                feat3Desc: 'å®æ—¶è¯„ä¼°å¯†ç å¼ºåº¦ï¼šå¼± / ä¸­ç­‰ / å¼º / éå¸¸å¼º',
                feat4Title: 'æ‰¹é‡ç”Ÿæˆ',
                feat4Desc: 'ä¸€æ¬¡ç”Ÿæˆæœ€å¤š 50 ä¸ªå¯†ç ï¼Œæ”¯æŒå†å²è®°å½•',
                faqTitle: 'å¸¸è§é—®é¢˜',
                faq1Q: 'è¿™ä¸ªå¯†ç ç”Ÿæˆå™¨å®‰å…¨å—ï¼Ÿ',
                faq1A: 'æ˜¯çš„ã€‚æœ¬å·¥å…·ä½¿ç”¨ Web Crypto API (crypto.getRandomValues) ç”Ÿæˆå¯†ç å­¦å®‰å…¨çš„éšæœºæ•°ã€‚æ‰€æœ‰å¯†ç ç”Ÿæˆå®Œå…¨åœ¨æ‚¨çš„æµè§ˆå™¨ä¸­å®Œæˆï¼Œä¸ä¼šå‘ä»»ä½•æœåŠ¡å™¨å‘é€æ•°æ®ã€‚',
                faq2Q: 'ä»€ä¹ˆæ˜¯å¼ºå¯†ç ï¼Ÿ',
                faq2A: 'å¼ºå¯†ç é€šå¸¸è‡³å°‘ 12 ä¸ªå­—ç¬¦ï¼ŒåŒ…å«å¤§å†™å­—æ¯ã€å°å†™å­—æ¯ã€æ•°å­—å’Œç‰¹æ®Šç¬¦å·çš„ç»„åˆã€‚é¿å…ä½¿ç”¨å¸¸è§è¯æ±‡ã€æ¨¡å¼å’Œä¸ªäººä¿¡æ¯ä¹Ÿèƒ½å¤§å¤§æé«˜å¯†ç å¼ºåº¦ã€‚',
                faq3Q: 'å¯†ç ä¼šè¢«å­˜å‚¨å—ï¼Ÿ',
                faq3A: 'ä¸ä¼šã€‚æ‰€æœ‰å¯†ç éƒ½åœ¨æ‚¨çš„æµè§ˆå™¨ä¸­æœ¬åœ°ç”Ÿæˆã€‚å¯†ç å†å²ä»…å­˜å‚¨åœ¨å½“å‰æµè§ˆå™¨ä¼šè¯å†…å­˜ä¸­ï¼Œå…³é—­æ ‡ç­¾é¡µåå³è¢«æ¸…é™¤ã€‚ä¸ä¼šå‘ä»»ä½•æœåŠ¡å™¨å‘é€æˆ–å­˜å‚¨ä»»ä½•æ•°æ®ã€‚',
                faq4Q: 'èƒ½æ‰¹é‡ç”Ÿæˆå¯†ç å—ï¼Ÿ',
                faq4A: 'å¯ä»¥ï¼æ‚¨å¯ä»¥ä½¿ç”¨æ‰¹é‡æ•°é‡è®¾ç½®ä¸€æ¬¡ç”Ÿæˆæœ€å¤š 50 ä¸ªå¯†ç ã€‚æ‰€æœ‰ç”Ÿæˆçš„å¯†ç å°†æ˜¾ç¤ºåœ¨åˆ—è¡¨ä¸­ï¼Œæ‚¨å¯ä»¥å•ç‹¬å¤åˆ¶æˆ–ä¸€æ¬¡å…¨éƒ¨å¤åˆ¶ã€‚',
                faq5Q: 'è¿™ä¸ªå·¥å…·å®Œå…¨å…è´¹å—ï¼Ÿ',
                faq5A: 'æ˜¯çš„ï¼Œæœ¬å¯†ç ç”Ÿæˆå™¨ 100% å…è´¹ä½¿ç”¨ï¼Œæ²¡æœ‰ä»»ä½•é™åˆ¶ã€‚æ²¡æœ‰å¹¿å‘Šã€æ— éœ€æ³¨å†Œï¼Œä¹Ÿæ²¡æœ‰ä»˜è´¹æ‰èƒ½ä½¿ç”¨çš„é«˜çº§åŠŸèƒ½ã€‚',
                faq_free_q: 'è¿™ä¸ªå·¥å…·çœŸçš„å…è´¹ä¸”æ²¡æœ‰å¹¿å‘Šå—ï¼Ÿ',
                faq_free_a: 'å®Œå…¨æ­£ç¡®ï¼æœ¬å¯†ç ç”Ÿæˆå™¨ 100% å…è´¹ï¼Œé›¶å¹¿å‘Šã€æ— éœ€æ³¨å†Œæˆ–ç™»å½•ã€æ— æ°´å°ã€æ— ä½¿ç”¨æ¬¡æ•°é™åˆ¶ã€‚æ‰€æœ‰æ“ä½œå®Œå…¨åœ¨æµè§ˆå™¨ä¸­è¿è¡Œï¼Œä¸æ¶‰åŠæœåŠ¡å™¨ç«¯å¤„ç†ï¼Œæ‚¨çš„æ•°æ®å®Œå…¨ç§å¯†ã€‚æ²¡æœ‰éšè—è´¹ç”¨æˆ–é«˜çº§å¥—é¤ï¼Œæ‰€æœ‰åŠŸèƒ½å¯¹æ‰€æœ‰äººå®Œå…¨å¼€æ”¾ã€‚',
                relatedTitle: 'ç›¸å…³å·¥å…·æ¨è',
                rel1Name: 'Base64 ç¼–è§£ç ',
                rel1Desc: 'åœ¨çº¿ç¼–ç å’Œè§£ç  Base64 å­—ç¬¦ä¸²',
                rel2Name: 'URL ç¼–è§£ç ',
                rel2Desc: 'ç¼–ç å’Œè§£ç  URL ç»„ä»¶',
                rel3Name: 'åŠ å¯†ç¼–ç å·¥å…·ç®±',
                rel3Desc: 'å“ˆå¸Œã€åŠ å¯†å’Œç¼–ç æ•°æ®',
                rel4Name: 'äºŒç»´ç ç”Ÿæˆå™¨',
                rel4Desc: 'ä»æ–‡æœ¬æˆ–ç½‘å€ç”ŸæˆäºŒç»´ç ',
                trust_users: 'ğŸŒ è¶…è¿‡ 50,000 ç”¨æˆ·ä½¿ç”¨',
                trust_rating: 'â­ 4.9/5 å¥½è¯„',
                trust_privacy: 'ğŸ”’ 100% éšç§å®‰å…¨',
                trust_free: 'ğŸš« æ— å¹¿å‘Šã€æ— éœ€æ³¨å†Œ'
            },
            fr: {
                title: 'GÃ©nÃ©rateur de mots de passe',
                subtitle: 'GÃ©nÃ©rez des mots de passe forts et sÃ©curisÃ©s instantanÃ©ment',
                clickGenerate: 'Cliquez sur "GÃ©nÃ©rer" pour crÃ©er un mot de passe',
                copy: 'Copier',
                copySuccess: 'CopiÃ© !',
                settings: 'ParamÃ¨tres',
                length: 'Longueur',
                uppercase: 'Lettres majuscules',
                lowercase: 'Lettres minuscules',
                numbers: 'Chiffres',
                symbols: 'Symboles spÃ©ciaux',
                excludeAmbiguous: 'Exclure les caractÃ¨res ambigus',
                excludeHint: '0, O, o, 1, l, I, |',
                batchCount: 'QuantitÃ© par lot',
                generate: 'GÃ©nÃ©rer le mot de passe',
                batchResults: 'RÃ©sultats par lot',
                copyAll: 'Tout copier',
                history: 'Historique',
                clearHistory: 'Effacer',
                historyEmpty: 'Aucun mot de passe gÃ©nÃ©rÃ©',
                strengthWeak: 'Faible',
                strengthMedium: 'Moyen',
                strengthStrong: 'Fort',
                strengthVeryStrong: 'TrÃ¨s fort',
                noCharType: 'Veuillez sÃ©lectionner au moins un type de caractÃ¨re',
                langName: 'ğŸŒ FranÃ§ais',
                featSectionTitle: 'FonctionnalitÃ©s clÃ©s',
                feat1Title: 'SÃ©curitÃ© cryptographique',
                feat1Desc: 'Utilise l\'API Web Crypto pour gÃ©nÃ©rer de vrais nombres alÃ©atoires, pas pseudo-alÃ©atoires',
                feature1_title: '100% Gratuit et PrivÃ©',
                feature1_desc: 'Aucune publicitÃ©, aucune inscription, aucun filigrane. Tout fonctionne localement dans votre navigateur. Vos donnÃ©es ne quittent jamais votre appareil.',
                feat2Title: 'EntiÃ¨rement personnalisable',
                feat2Desc: 'Longueur personnalisÃ©e 4-128, choix majuscules, minuscules, chiffres, symboles',
                feat3Title: 'Analyse de la force',
                feat3Desc: 'Ã‰valuation en temps rÃ©el : Faible / Moyen / Fort / TrÃ¨s fort',
                feat4Title: 'GÃ©nÃ©ration par lot',
                feat4Desc: 'GÃ©nÃ©rez jusqu\'Ã  50 mots de passe Ã  la fois, avec historique de session',
                faqTitle: 'Questions frÃ©quentes',
                faq1Q: 'Ce gÃ©nÃ©rateur de mots de passe est-il sÃ©curisÃ© ?',
                faq1A: 'Oui. Cet outil utilise l\'API Web Crypto (crypto.getRandomValues) pour gÃ©nÃ©rer des nombres alÃ©atoires cryptographiquement sÃ©curisÃ©s. Toute la gÃ©nÃ©ration se fait dans votre navigateur â€” aucune donnÃ©e n\'est envoyÃ©e Ã  un serveur.',
                faq2Q: 'Qu\'est-ce qui fait un mot de passe fort ?',
                faq2A: 'Un mot de passe fort comporte gÃ©nÃ©ralement au moins 12 caractÃ¨res et inclut un mÃ©lange de majuscules, minuscules, chiffres et symboles spÃ©ciaux. Ã‰viter les mots courants et les informations personnelles augmente Ã©galement la force.',
                faq3Q: 'Mes mots de passe sont-ils stockÃ©s quelque part ?',
                faq3A: 'Non. Tous les mots de passe sont gÃ©nÃ©rÃ©s localement dans votre navigateur. L\'historique est stockÃ© uniquement dans la mÃ©moire de session et est effacÃ© Ã  la fermeture de l\'onglet.',
                faq4Q: 'Puis-je gÃ©nÃ©rer des mots de passe en masse ?',
                faq4A: 'Oui ! Vous pouvez gÃ©nÃ©rer jusqu\'Ã  50 mots de passe Ã  la fois. Tous seront affichÃ©s dans une liste et vous pourrez les copier individuellement ou tous en mÃªme temps.',
                faq5Q: 'Cet outil est-il entiÃ¨rement gratuit ?',
                faq5A: 'Oui, ce gÃ©nÃ©rateur est 100% gratuit sans aucune limitation. Pas de publicitÃ©, pas d\'inscription requise, pas de fonctionnalitÃ©s premium payantes.',
                faq_free_q: 'Cet outil est-il vraiment gratuit et sans publicitÃ© ?',
                faq_free_a: 'Absolument ! Ce gÃ©nÃ©rateur de mots de passe est 100% gratuit, sans aucune publicitÃ©, sans inscription ni connexion requise, sans filigrane et sans limite d\'utilisation. Il fonctionne entiÃ¨rement dans votre navigateur sans traitement cÃ´tÃ© serveur, vos donnÃ©es restent totalement privÃ©es. Aucun frais cachÃ© ni offre premium â€” toutes les fonctionnalitÃ©s sont accessibles Ã  tous.',
                relatedTitle: 'Outils associÃ©s',
                rel1Name: 'Encodeur/DÃ©codeur Base64',
                rel1Desc: 'Encoder et dÃ©coder des chaÃ®nes Base64 en ligne',
                rel2Name: 'Encodeur/DÃ©codeur URL',
                rel2Desc: 'Encoder et dÃ©coder les composants URL',
                rel3Name: 'BoÃ®te Ã  outils Crypto',
                rel3Desc: 'Hacher, chiffrer et encoder des donnÃ©es',
                rel4Name: 'GÃ©nÃ©rateur de QR Code',
                rel4Desc: 'GÃ©nÃ©rer des QR codes Ã  partir de texte ou d\'URLs',
                trust_users: 'ğŸŒ UtilisÃ© par 50 000+ utilisateurs',
                trust_rating: 'â­ Note 4.9/5',
                trust_privacy: 'ğŸ”’ 100% PrivÃ©',
                trust_free: 'ğŸš« Sans pub, sans inscription'
            },
            es: {
                title: 'Generador de contraseÃ±as',
                subtitle: 'Genera contraseÃ±as fuertes y seguras al instante',
                clickGenerate: 'Haz clic en "Generar" para crear una contraseÃ±a',
                copy: 'Copiar',
                copySuccess: 'Â¡Copiado!',
                settings: 'ConfiguraciÃ³n',
                length: 'Longitud',
                uppercase: 'Letras mayÃºsculas',
                lowercase: 'Letras minÃºsculas',
                numbers: 'NÃºmeros',
                symbols: 'SÃ­mbolos especiales',
                excludeAmbiguous: 'Excluir caracteres ambiguos',
                excludeHint: '0, O, o, 1, l, I, |',
                batchCount: 'Cantidad por lote',
                generate: 'Generar contraseÃ±a',
                batchResults: 'Resultados por lote',
                copyAll: 'Copiar todo',
                history: 'Historial',
                clearHistory: 'Borrar',
                historyEmpty: 'AÃºn no se han generado contraseÃ±as',
                strengthWeak: 'DÃ©bil',
                strengthMedium: 'Medio',
                strengthStrong: 'Fuerte',
                strengthVeryStrong: 'Muy fuerte',
                noCharType: 'Seleccione al menos un tipo de carÃ¡cter',
                langName: 'ğŸŒ EspaÃ±ol',
                featSectionTitle: 'CaracterÃ­sticas principales',
                feat1Title: 'Seguridad criptogrÃ¡fica',
                feat1Desc: 'Usa la API Web Crypto para generar nÃºmeros verdaderamente aleatorios, no pseudoaleatorios',
                feature1_title: '100% Gratis y Privado',
                feature1_desc: 'Sin anuncios, sin registro, sin marca de agua. Todo se ejecuta localmente en su navegador. Sus datos nunca salen de su dispositivo.',
                feat2Title: 'Totalmente personalizable',
                feat2Desc: 'Longitud personalizada 4-128, elige mayÃºsculas, minÃºsculas, nÃºmeros, sÃ­mbolos',
                feat3Title: 'AnÃ¡lisis de fortaleza',
                feat3Desc: 'EvaluaciÃ³n en tiempo real: DÃ©bil / Medio / Fuerte / Muy fuerte',
                feat4Title: 'GeneraciÃ³n por lotes',
                feat4Desc: 'Genera hasta 50 contraseÃ±as a la vez, con historial de sesiÃ³n',
                faqTitle: 'Preguntas frecuentes',
                faq1Q: 'Â¿Es seguro este generador de contraseÃ±as?',
                faq1A: 'SÃ­. Esta herramienta utiliza la API Web Crypto (crypto.getRandomValues) para generar nÃºmeros aleatorios criptogrÃ¡ficamente seguros. Toda la generaciÃ³n ocurre en su navegador â€” ningÃºn dato se envÃ­a a ningÃºn servidor.',
                faq2Q: 'Â¿QuÃ© hace que una contraseÃ±a sea fuerte?',
                faq2A: 'Una contraseÃ±a fuerte tiene al menos 12 caracteres e incluye una combinaciÃ³n de mayÃºsculas, minÃºsculas, nÃºmeros y sÃ­mbolos especiales. Evitar palabras comunes e informaciÃ³n personal tambiÃ©n aumenta la fortaleza.',
                faq3Q: 'Â¿Se almacenan mis contraseÃ±as en algÃºn lugar?',
                faq3A: 'No. Todas las contraseÃ±as se generan localmente en su navegador. El historial se almacena solo en la memoria de sesiÃ³n y se borra al cerrar la pestaÃ±a.',
                faq4Q: 'Â¿Puedo generar contraseÃ±as en masa?',
                faq4A: 'Â¡SÃ­! Puede generar hasta 50 contraseÃ±as a la vez. Todas se mostrarÃ¡n en una lista y podrÃ¡ copiarlas individualmente o todas a la vez.',
                faq5Q: 'Â¿Esta herramienta es completamente gratuita?',
                faq5A: 'SÃ­, este generador es 100% gratuito sin limitaciones. Sin anuncios, sin registro requerido, sin funciones premium de pago.',
                faq_free_q: 'Â¿Esta herramienta es realmente gratuita y sin anuncios?',
                faq_free_a: 'Â¡Por supuesto! Este generador de contraseÃ±as es 100% gratuito, sin anuncios, sin registro ni inicio de sesiÃ³n requerido, sin marcas de agua y sin lÃ­mites de uso. Se ejecuta completamente en su navegador sin procesamiento del lado del servidor, por lo que sus datos permanecen totalmente privados. No hay tarifas ocultas ni niveles premium â€” todas las funciones estÃ¡n disponibles para todos.',
                relatedTitle: 'Herramientas relacionadas',
                rel1Name: 'Codificador/Decodificador Base64',
                rel1Desc: 'Codificar y decodificar cadenas Base64 en lÃ­nea',
                rel2Name: 'Codificador/Decodificador URL',
                rel2Desc: 'Codificar y decodificar componentes URL',
                rel3Name: 'Kit de herramientas Crypto',
                rel3Desc: 'Hash, cifrado y codificaciÃ³n de datos',
                rel4Name: 'Generador de cÃ³digos QR',
                rel4Desc: 'Generar cÃ³digos QR desde texto o URLs',
                trust_users: 'ğŸŒ Usado por mÃ¡s de 50,000 usuarios',
                trust_rating: 'â­ CalificaciÃ³n 4.9/5',
                trust_privacy: 'ğŸ”’ 100% Privado',
                trust_free: 'ğŸš« Sin anuncios, sin registro'
            }
        };

        var currentLang = localStorage.getItem('pwgen_lang') || 'en';

        function t(key) {
            return (i18n[currentLang] && i18n[currentLang][key]) || i18n['en'][key] || key;
        }

        function applyLanguage() {
            // æ›´æ–°æ‰€æœ‰ data-i18n å…ƒç´ 
            document.querySelectorAll('[data-i18n]').forEach(function(el) {
                var key = el.getAttribute('data-i18n');
                if (key && t(key)) {
                    el.textContent = t(key);
                }
            });
            // æ›´æ–°æ‰€æœ‰ data-i18n-placeholder å…ƒç´ 
            document.querySelectorAll('[data-i18n-placeholder]').forEach(function(el) {
                var key = el.getAttribute('data-i18n-placeholder');
                if (key && t(key)) {
                    el.placeholder = t(key);
                }
            });
            // æ›´æ–°è¯­è¨€åˆ‡æ¢å™¨å½“å‰æ˜¾ç¤º
            document.getElementById('langCurrent').textContent = t('langName');
            // æ›´æ–°å¼ºåº¦æ ‡ç­¾ï¼ˆå¦‚æœæœ‰å¯†ç çš„è¯ï¼‰
            if (currentPassword) {
                updateStrength(currentPassword);
            }
        }

        // ===== è¯­è¨€åˆ‡æ¢å™¨é€»è¾‘ =====
        var langDropdown = document.getElementById('langDropdown');
        var langCurrent = document.getElementById('langCurrent');

        langCurrent.addEventListener('click', function(e) {
            e.stopPropagation();
            langDropdown.classList.toggle('active');
        });

        document.querySelectorAll('.lang-btn').forEach(function(btn) {
            btn.addEventListener('click', function(e) {
                e.stopPropagation();
                currentLang = this.getAttribute('data-lang');
                localStorage.setItem('pwgen_lang', currentLang);
                langDropdown.classList.remove('active');
                applyLanguage();
            });
        });

        document.addEventListener('click', function() {
            langDropdown.classList.remove('active');
        });

        // ===== DOM å¼•ç”¨ =====
        var passwordText = document.getElementById('passwordText');
        var passwordDisplay = document.getElementById('passwordDisplay');
        var copyBtn = document.getElementById('copyBtn');
        var copyToast = document.getElementById('copyToast');
        var strengthBar = document.getElementById('strengthBar');
        var strengthLabel = document.getElementById('strengthLabel');
        var lengthSlider = document.getElementById('lengthSlider');
        var lengthInput = document.getElementById('lengthInput');
        var optUppercase = document.getElementById('optUppercase');
        var optLowercase = document.getElementById('optLowercase');
        var optNumbers = document.getElementById('optNumbers');
        var optSymbols = document.getElementById('optSymbols');
        var optExcludeAmbiguous = document.getElementById('optExcludeAmbiguous');
        var batchInput = document.getElementById('batchInput');
        var generateBtn = document.getElementById('generateBtn');
        var batchResults = document.getElementById('batchResults');
        var batchList = document.getElementById('batchList');
        var batchCopyAll = document.getElementById('batchCopyAll');
        var historyList = document.getElementById('historyList');
        var historyEmpty = document.getElementById('historyEmpty');
        var historyClearBtn = document.getElementById('historyClearBtn');

        // ===== çŠ¶æ€ =====
        var currentPassword = '';
        var batchPasswords = [];
        var historyRecords = []; // { password, time }
        var MAX_HISTORY = 20;

        // ===== å­—ç¬¦é›† =====
        var CHARS_UPPER = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
        var CHARS_LOWER = 'abcdefghijklmnopqrstuvwxyz';
        var CHARS_NUMBERS = '0123456789';
        var CHARS_SYMBOLS = '!@#$%^&*()_+-=[]{}|;:,.<>?/~`';
        var AMBIGUOUS = '0Oo1lI|';

        // ===== å®‰å…¨éšæœºæ•° =====
        function secureRandom(max) {
            var arr = new Uint32Array(1);
            crypto.getRandomValues(arr);
            return arr[0] % max;
        }

        // ===== ç”Ÿæˆå¯†ç  =====
        function generatePassword(length) {
            var charset = '';
            var required = []; // ç¡®ä¿æ¯ç§é€‰ä¸­ç±»å‹è‡³å°‘å‡ºç°ä¸€ä¸ªå­—ç¬¦

            if (optUppercase.checked) {
                var upper = CHARS_UPPER;
                if (optExcludeAmbiguous.checked) upper = removeAmbiguous(upper);
                charset += upper;
                required.push(upper);
            }
            if (optLowercase.checked) {
                var lower = CHARS_LOWER;
                if (optExcludeAmbiguous.checked) lower = removeAmbiguous(lower);
                charset += lower;
                required.push(lower);
            }
            if (optNumbers.checked) {
                var nums = CHARS_NUMBERS;
                if (optExcludeAmbiguous.checked) nums = removeAmbiguous(nums);
                charset += nums;
                required.push(nums);
            }
            if (optSymbols.checked) {
                var syms = CHARS_SYMBOLS;
                if (optExcludeAmbiguous.checked) syms = removeAmbiguous(syms);
                charset += syms;
                required.push(syms);
            }

            if (charset.length === 0) {
                return null;
            }

            // ç”Ÿæˆå¯†ç ï¼Œç¡®ä¿æ¯ç§æ‰€é€‰ç±»å‹è‡³å°‘æœ‰ä¸€ä¸ªå­—ç¬¦
            var password = [];

            // å…ˆä»æ¯ä¸ªå¿…éœ€çš„å­—ç¬¦é›†ä¸­å–ä¸€ä¸ªå­—ç¬¦
            for (var i = 0; i < required.length && i < length; i++) {
                password.push(required[i][secureRandom(required[i].length)]);
            }

            // å¡«å……å‰©ä½™é•¿åº¦
            for (var j = password.length; j < length; j++) {
                password.push(charset[secureRandom(charset.length)]);
            }

            // å®‰å…¨æ´—ç‰Œï¼ˆFisher-Yatesï¼‰
            for (var k = password.length - 1; k > 0; k--) {
                var r = secureRandom(k + 1);
                var temp = password[k];
                password[k] = password[r];
                password[r] = temp;
            }

            return password.join('');
        }

        function removeAmbiguous(str) {
            return str.split('').filter(function(c) {
                return AMBIGUOUS.indexOf(c) === -1;
            }).join('');
        }

        // ===== å¯†ç å¼ºåº¦è®¡ç®— =====
        function calcStrength(pw) {
            if (!pw) return 0;
            var score = 0;
            var len = pw.length;

            // é•¿åº¦å¾—åˆ†
            if (len >= 8) score += 1;
            if (len >= 12) score += 1;
            if (len >= 16) score += 1;
            if (len >= 24) score += 1;

            // å­—ç¬¦å¤šæ ·æ€§å¾—åˆ†
            if (/[a-z]/.test(pw)) score += 1;
            if (/[A-Z]/.test(pw)) score += 1;
            if (/[0-9]/.test(pw)) score += 1;
            if (/[^a-zA-Z0-9]/.test(pw)) score += 1;

            // æ˜ å°„åˆ° 0-4 ç­‰çº§
            if (score <= 2) return 1;       // å¼±
            if (score <= 4) return 2;       // ä¸­
            if (score <= 6) return 3;       // å¼º
            return 4;                        // éå¸¸å¼º
        }

        function updateStrength(pw) {
            var level = calcStrength(pw);
            var colors = ['', '#ef4444', '#f59e0b', '#22c55e', '#7c3aed'];
            var widths = ['0%', '25%', '50%', '75%', '100%'];
            var labels = ['', 'strengthWeak', 'strengthMedium', 'strengthStrong', 'strengthVeryStrong'];

            strengthBar.style.width = widths[level];
            strengthBar.style.background = colors[level];
            strengthLabel.textContent = level > 0 ? t(labels[level]) : '';
            strengthLabel.style.color = colors[level];
        }

        // ===== å¤åˆ¶åŠŸèƒ½ =====
        function copyToClipboard(text) {
            if (navigator.clipboard && navigator.clipboard.writeText) {
                navigator.clipboard.writeText(text).then(showCopyToast);
            } else {
                // é™çº§æ–¹æ¡ˆ
                var textarea = document.createElement('textarea');
                textarea.value = text;
                textarea.style.position = 'fixed';
                textarea.style.opacity = '0';
                document.body.appendChild(textarea);
                textarea.select();
                document.execCommand('copy');
                document.body.removeChild(textarea);
                showCopyToast();
            }
        }

        var toastTimer = null;
        function showCopyToast() {
            copyToast.textContent = t('copySuccess');
            copyToast.classList.add('show');
            if (toastTimer) clearTimeout(toastTimer);
            toastTimer = setTimeout(function() {
                copyToast.classList.remove('show');
            }, 1500);
        }

        // ===== å†å²è®°å½• =====
        function addHistory(pw) {
            historyRecords.unshift({
                password: pw,
                time: new Date()
            });
            if (historyRecords.length > MAX_HISTORY) {
                historyRecords = historyRecords.slice(0, MAX_HISTORY);
            }
            renderHistory();
        }

        function renderHistory() {
            if (historyRecords.length === 0) {
                historyEmpty.style.display = 'block';
                // æ¸…é™¤é™¤ historyEmpty ä¹‹å¤–çš„æ‰€æœ‰å…ƒç´ 
                var items = historyList.querySelectorAll('.history-item');
                items.forEach(function(item) { item.remove(); });
                return;
            }

            historyEmpty.style.display = 'none';
            // æ¸…é™¤æ—§çš„ history-item
            var oldItems = historyList.querySelectorAll('.history-item');
            oldItems.forEach(function(item) { item.remove(); });

            historyRecords.forEach(function(record) {
                var div = document.createElement('div');
                div.className = 'history-item';

                var pwSpan = document.createElement('span');
                pwSpan.className = 'history-item-pw';
                pwSpan.textContent = record.password;

                var timeSpan = document.createElement('span');
                timeSpan.className = 'history-item-time';
                var d = record.time;
                timeSpan.textContent = pad(d.getHours()) + ':' + pad(d.getMinutes()) + ':' + pad(d.getSeconds());

                div.appendChild(pwSpan);
                div.appendChild(timeSpan);

                div.addEventListener('click', function() {
                    copyToClipboard(record.password);
                });

                historyList.appendChild(div);
            });
        }

        function pad(n) {
            return n < 10 ? '0' + n : '' + n;
        }

        // ===== æ‰¹é‡ç»“æœæ¸²æŸ“ =====
        function renderBatchResults() {
            if (batchPasswords.length <= 1) {
                batchResults.classList.remove('visible');
                return;
            }

            batchResults.classList.add('visible');
            batchList.innerHTML = '';

            batchPasswords.forEach(function(pw) {
                var div = document.createElement('div');
                div.className = 'batch-item';

                var text = document.createElement('span');
                text.className = 'batch-item-text';
                text.textContent = pw;

                var btn = document.createElement('button');
                btn.className = 'batch-item-copy';
                btn.textContent = t('copy');
                btn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    copyToClipboard(pw);
                });

                div.appendChild(text);
                div.appendChild(btn);

                div.addEventListener('click', function() {
                    copyToClipboard(pw);
                });

                batchList.appendChild(div);
            });
        }

        // ===== äº‹ä»¶ç»‘å®š =====

        // é•¿åº¦æ»‘å—å’Œè¾“å…¥æ¡†åŒæ­¥
        lengthSlider.addEventListener('input', function() {
            lengthInput.value = this.value;
            doGenerate();
        });

        lengthInput.addEventListener('input', function() {
            var val = parseInt(this.value, 10);
            if (isNaN(val)) return;
            if (val < 4) val = 4;
            if (val > 128) val = 128;
            this.value = val;
            lengthSlider.value = val;
            doGenerate();
        });

        lengthInput.addEventListener('blur', function() {
            var val = parseInt(this.value, 10);
            if (isNaN(val) || val < 4) { val = 4; }
            if (val > 128) { val = 128; }
            this.value = val;
            lengthSlider.value = val;
        });

        // å­—ç¬¦ç±»å‹å’Œæ’é™¤é€‰é¡¹å˜æ›´æ—¶è‡ªåŠ¨ç”Ÿæˆ
        [optUppercase, optLowercase, optNumbers, optSymbols, optExcludeAmbiguous].forEach(function(cb) {
            cb.addEventListener('change', doGenerate);
        });

        // æ‰¹é‡æ•°é‡é™åˆ¶
        batchInput.addEventListener('blur', function() {
            var val = parseInt(this.value, 10);
            if (isNaN(val) || val < 1) { val = 1; }
            if (val > 50) { val = 50; }
            this.value = val;
        });

        batchInput.addEventListener('change', doGenerate);

        // ç”Ÿæˆå¯†ç æ ¸å¿ƒé€»è¾‘
        function doGenerate() {
            var length = parseInt(lengthInput.value, 10) || 16;
            var count = parseInt(batchInput.value, 10) || 1;
            if (length < 4) length = 4;
            if (length > 128) length = 128;
            if (count < 1) count = 1;
            if (count > 50) count = 50;

            // æ£€æŸ¥æ˜¯å¦è‡³å°‘é€‰äº†ä¸€ç§å­—ç¬¦ç±»å‹
            if (!optUppercase.checked && !optLowercase.checked && !optNumbers.checked && !optSymbols.checked) {
                passwordText.textContent = t('noCharType');
                passwordText.style.color = '#f87171';
                strengthBar.style.width = '0%';
                strengthLabel.textContent = '';
                currentPassword = '';
                return;
            }

            batchPasswords = [];
            for (var i = 0; i < count; i++) {
                var pw = generatePassword(length);
                if (pw) {
                    batchPasswords.push(pw);
                }
            }

            if (batchPasswords.length > 0) {
                currentPassword = batchPasswords[0];
                passwordText.textContent = currentPassword;
                passwordText.style.color = '#f4f4f5';
                updateStrength(currentPassword);

                // æ‰€æœ‰å¯†ç æ·»åŠ åˆ°å†å²
                batchPasswords.forEach(function(pw) {
                    addHistory(pw);
                });
            }

            renderBatchResults();
        }

        // ç”ŸæˆæŒ‰é’®
        generateBtn.addEventListener('click', doGenerate);

        // å¤åˆ¶æŒ‰é’®
        copyBtn.addEventListener('click', function(e) {
            e.stopPropagation();
            if (currentPassword) {
                copyToClipboard(currentPassword);
            }
        });

        // ç‚¹å‡»å¯†ç æ˜¾ç¤ºåŒºåŸŸå¤åˆ¶
        passwordDisplay.addEventListener('click', function() {
            if (currentPassword) {
                copyToClipboard(currentPassword);
            }
        });

        // å…¨éƒ¨å¤åˆ¶ï¼ˆæ‰¹é‡ï¼‰
        batchCopyAll.addEventListener('click', function() {
            if (batchPasswords.length > 0) {
                copyToClipboard(batchPasswords.join('\n'));
            }
        });

        // æ¸…é™¤å†å²
        historyClearBtn.addEventListener('click', function() {
            historyRecords = [];
            renderHistory();
        });

        // ===== åˆå§‹åŒ– =====
        applyLanguage();
        renderHistory();
        doGenerate();

        // ===== FAQ äº¤äº’ =====
        document.querySelectorAll('.faq-question').forEach(function(btn) {
            btn.addEventListener('click', function() {
                var item = this.parentElement;
                var wasActive = item.classList.contains('active');
                // å…³é—­æ‰€æœ‰å…¶ä»–é¡¹
                document.querySelectorAll('.faq-item').forEach(function(i) {
                    i.classList.remove('active');
                });
                // åˆ‡æ¢å½“å‰é¡¹
                if (!wasActive) {
                    item.classList.add('active');
                }
            });
        });

    })();
    </script>
</body>
</html>