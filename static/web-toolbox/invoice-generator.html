<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Invoice Generator - Free Online Invoice Maker | No Ads, No Signup | å‘ç¥¨ç”Ÿæˆå™¨ | Web Toolbox</title>
  <meta name="description" content="Free online invoice generator to create professional invoices and export PDF in browser. Add items, tax, and totals in seconds. âœ… No ads âœ… No signup âœ… No limits. Runs entirely in your browser.">
  <meta name="keywords" content="invoice generator,invoice maker online,free invoice template,create invoice pdf,å‘ç¥¨ç”Ÿæˆå™¨,no ads,no signup,no login,no watermark,free unlimited,browser-based,no installation,local processing">
  <meta name="author" content="heyuan110">
  <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
  <meta name="googlebot" content="index, follow">
  <meta name="bingbot" content="index, follow">
  <meta name="revisit-after" content="7 days">
  <meta name="rating" content="general">
  <meta name="distribution" content="global">
  <meta name="language" content="en">
  <link rel="canonical" href="https://www.heyuan110.com/web-toolbox/invoice-generator.html">
  <link rel="alternate" hreflang="en" href="https://www.heyuan110.com/web-toolbox/invoice-generator.html">
  <link rel="alternate" hreflang="zh-CN" href="https://www.heyuan110.com/web-toolbox/invoice-generator.html">
  <link rel="alternate" hreflang="fr" href="https://www.heyuan110.com/web-toolbox/invoice-generator.html">
  <link rel="alternate" hreflang="es" href="https://www.heyuan110.com/web-toolbox/invoice-generator.html">
  <link rel="alternate" hreflang="x-default" href="https://www.heyuan110.com/web-toolbox/invoice-generator.html">

  <meta property="og:type" content="website">
  <meta property="og:url" content="https://www.heyuan110.com/web-toolbox/invoice-generator.html">
  <meta property="og:title" content="Invoice Generator - Free Online Invoice Maker | No Ads, No Signup">
  <meta property="og:description" content="Create invoice PDF online with itemized rows and tax calculation.">
  <meta property="og:image" content="https://www.heyuan110.com/web-toolbox/screenshots/invoice-generator.webp">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:locale" content="en_US">
  <meta property="og:locale:alternate" content="zh_CN">
  <meta property="og:site_name" content="Web Toolbox">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@heyuan110">
  <meta name="twitter:creator" content="@heyuan110">
  <meta name="twitter:title" content="Invoice Generator - Free Online Invoice Maker | No Ads, No Signup">
  <meta name="twitter:description" content="Generate invoice PDF instantly without login.">
  <meta name="twitter:image" content="https://www.heyuan110.com/web-toolbox/screenshots/invoice-generator.webp">

  <script type="application/ld+json">{"@context":"https://schema.org","@type":"WebApplication","name":"Invoice Generator","alternateName":["å‘ç¥¨ç”Ÿæˆå™¨","Invoice Maker","Free Invoice Tool"],"url":"https://www.heyuan110.com/web-toolbox/invoice-generator.html","description":"Free online invoice generator with PDF export in browser.","inLanguage":["en","zh-CN","fr","es"],"applicationCategory":"UtilitiesApplication","operatingSystem":"Web Browser","offers":{"@type":"Offer","price":"0","priceCurrency":"USD"},"author":{"@type":"Person","name":"heyuan110"},"publisher":{"@type":"Organization","name":"Web Toolbox","url":"https://www.heyuan110.com/web-toolbox/"},"featureList":["Invoice item editor","Tax and total calculation","PDF export with jsPDF","Multi-currency labels","No ads","No signup required","No watermark","100% browser-based","Unlimited usage"],"screenshot":"https://www.heyuan110.com/web-toolbox/screenshots/invoice-generator.webp"}</script>
  <script type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https://www.heyuan110.com/"},{"@type":"ListItem","position":2,"name":"Web Toolbox","item":"https://www.heyuan110.com/web-toolbox/"},{"@type":"ListItem","position":3,"name":"Invoice Generator","item":"https://www.heyuan110.com/web-toolbox/invoice-generator.html"}]}</script>
  <script type="application/ld+json">{"@context":"https://schema.org","@type":"HowTo","name":"How to Generate Invoice PDF Online","totalTime":"PT1M","step":[{"@type":"HowToStep","position":1,"name":"Enter company and client info","text":"Fill sender, client, invoice number, and date fields."},{"@type":"HowToStep","position":2,"name":"Add invoice items","text":"Add description, quantity, and unit price rows with tax."},{"@type":"HowToStep","position":3,"name":"Download PDF","text":"Click Export PDF to generate invoice file instantly."}]}</script>
  <script type="application/ld+json">{"@context":"https://schema.org","@type":"FAQPage","mainEntity":[{"@type":"Question","name":"What is an invoice generator and who needs it?","acceptedAnswer":{"@type":"Answer","text":"An invoice generator creates itemized billing documents for freelancers, agencies, and businesses. It helps standardize payment requests and improves accounting workflow."}},{"@type":"Question","name":"Can I generate invoice PDF without signup?","acceptedAnswer":{"@type":"Answer","text":"Yes. This free invoice maker lets you generate invoice PDF directly in browser with no registration and no software installation."}},{"@type":"Question","name":"Can I add tax and multiple line items?","acceptedAnswer":{"@type":"Answer","text":"Yes. You can add, remove, and edit line items, then apply tax rate to calculate subtotal, tax amount, and grand total."}},{"@type":"Question","name":"Is invoice data saved on server?","acceptedAnswer":{"@type":"Answer","text":"No. Invoice calculation and PDF generation are handled in browser session. Data is not sent by this page to an application backend."}},{"@type":"Question","name":"Is this tool really free with no ads?","acceptedAnswer":{"@type":"Answer","text":"Yes, 100% free with no ads, no registration, no watermark, and no usage limits. All processing happens locally in your browser â€” your data is never uploaded to any server."}}]}</script>

  <style>
    :root {
      --bg: #020617;
      --panel: #0b1220;
      --card: #0f172a;
      --card-hover: #131d33;
      --muted: #94a3b8;
      --text: #e2e8f0;
      --border: rgba(148,163,184,.15);
      --border-hover: rgba(148,163,184,.3);
      --primary: #3b82f6;
      --primary2: #2563eb;
      --primary-glow: rgba(59,130,246,.25);
      --accent: #8b5cf6;
      --accent-glow: rgba(139,92,246,.2);
      --success: #22c55e;
      --danger: #ef4444;
      --radius: 14px;
      --radius-sm: 10px;
    }
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: "Inter", "SF Pro Text", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      padding: 24px 16px 60px;
      line-height: 1.6;
      overflow-x: hidden;
    }

    /* èƒŒæ™¯è£…é¥° */
    body::before {
      content: '';
      position: fixed;
      top: -200px;
      left: -100px;
      width: 600px;
      height: 600px;
      background: radial-gradient(circle, rgba(59,130,246,.12) 0%, transparent 70%);
      pointer-events: none;
      z-index: 0;
      animation: bgFloat 20s ease-in-out infinite;
    }
    body::after {
      content: '';
      position: fixed;
      bottom: -200px;
      right: -100px;
      width: 500px;
      height: 500px;
      background: radial-gradient(circle, rgba(139,92,246,.1) 0%, transparent 70%);
      pointer-events: none;
      z-index: 0;
      animation: bgFloat 25s ease-in-out infinite reverse;
    }
    @keyframes bgFloat {
      0%, 100% { transform: translate(0, 0); }
      50% { transform: translate(40px, 30px); }
    }

    .container { max-width: 1100px; margin: 0 auto; position: relative; z-index: 1; }

    /* å…¥åœºåŠ¨ç”» */
    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(24px); }
      to { opacity: 1; transform: translateY(0); }
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    @keyframes slideInRow {
      from { opacity: 0; transform: translateX(-16px); }
      to { opacity: 1; transform: translateX(0); }
    }
    @keyframes pulseGlow {
      0%, 100% { box-shadow: 0 0 0 0 var(--primary-glow); }
      50% { box-shadow: 0 0 20px 4px var(--primary-glow); }
    }
    @keyframes scaleIn {
      from { opacity: 0; transform: scale(0.92); }
      to { opacity: 1; transform: scale(1); }
    }
    @keyframes totalFlash {
      0% { color: var(--accent); transform: scale(1); }
      30% { transform: scale(1.06); }
      100% { color: #c4b5fd; transform: scale(1); }
    }
    @keyframes successPop {
      0% { transform: scale(0); opacity: 0; }
      50% { transform: scale(1.2); }
      100% { transform: scale(1); opacity: 1; }
    }
    @keyframes checkDraw {
      from { stroke-dashoffset: 24; }
      to { stroke-dashoffset: 0; }
    }

    .animate-in { opacity: 0; animation: fadeInUp .6s ease forwards; }
    .animate-in:nth-child(1) { animation-delay: .05s; }
    .animate-in:nth-child(2) { animation-delay: .12s; }
    .animate-in:nth-child(3) { animation-delay: .2s; }
    .animate-in:nth-child(4) { animation-delay: .28s; }
    .animate-in:nth-child(5) { animation-delay: .35s; }
    .animate-in:nth-child(6) { animation-delay: .42s; }
    .animate-in:nth-child(7) { animation-delay: .48s; }

    /* é¡¶éƒ¨æ  */
    .topbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 24px;
      animation: fadeIn .5s ease;
    }
    .back {
      color: #cbd5e1;
      text-decoration: none;
      font-size: 14px;
      padding: 8px 16px;
      border: 1px solid var(--border);
      border-radius: 8px;
      background: rgba(15,23,42,.65);
      backdrop-filter: blur(8px);
      transition: all .25s ease;
    }
    .back:hover { border-color: var(--primary); color: #fff; }

    /* è¯­è¨€åˆ‡æ¢ */
    .lang-dropdown { position: relative; }
    .lang-current {
      border: 1px solid var(--border);
      border-radius: 8px;
      background: rgba(15,23,42,.75);
      backdrop-filter: blur(8px);
      padding: 8px 14px;
      font-size: 14px;
      cursor: pointer;
      user-select: none;
      transition: border-color .25s ease;
    }
    .lang-current:hover { border-color: var(--border-hover); }
    .lang-menu {
      position: absolute;
      top: calc(100% + 6px);
      right: 0;
      background: rgba(15,23,42,.96);
      backdrop-filter: blur(12px);
      border: 1px solid var(--border);
      border-radius: var(--radius-sm);
      padding: 4px;
      min-width: 155px;
      display: none;
      z-index: 30;
      box-shadow: 0 8px 32px rgba(0,0,0,.4);
    }
    .lang-dropdown.open .lang-menu { display: block; animation: scaleIn .2s ease; }
    .lang-btn {
      width: 100%;
      background: transparent;
      border: 0;
      color: var(--text);
      padding: 9px 12px;
      text-align: left;
      border-radius: 7px;
      cursor: pointer;
      font-size: 14px;
      transition: background .2s;
    }
    .lang-btn:hover { background: rgba(59,130,246,.18); }

    /* æ ‡é¢˜ */
    h1 {
      text-align: center;
      font-size: 2.2rem;
      font-weight: 700;
      letter-spacing: -.02em;
      margin-bottom: 8px;
      background: linear-gradient(135deg, #60a5fa 0%, #a78bfa 50%, #f472b6 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .subtitle { text-align: center; color: var(--muted); margin-bottom: 28px; font-size: .95rem; }

    /* å¡ç‰‡ */
    .card {
      background: rgba(15,23,42,.7);
      backdrop-filter: blur(12px);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      transition: border-color .3s ease, box-shadow .3s ease;
    }
    .card:hover {
      border-color: var(--border-hover);
      box-shadow: 0 4px 24px rgba(0,0,0,.2);
    }
    .tool-card { padding: 20px; }

    /* è¡¨å• grid */
    .form-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
      margin-bottom: 20px;
    }
    .field {
      border: 1px solid var(--border);
      border-radius: var(--radius-sm);
      padding: 12px 14px;
      background: rgba(2,6,23,.5);
      transition: border-color .25s ease, box-shadow .25s ease;
    }
    .field:focus-within {
      border-color: rgba(59,130,246,.5);
      box-shadow: 0 0 0 3px rgba(59,130,246,.1);
    }
    .field label {
      display: block;
      color: var(--muted);
      font-size: 12px;
      font-weight: 500;
      margin-bottom: 6px;
      text-transform: uppercase;
      letter-spacing: .04em;
    }
    .field input,
    .field textarea,
    .field select {
      width: 100%;
      padding: 8px 10px;
      border: 1px solid rgba(148,163,184,.15);
      background: rgba(2,6,23,.8);
      color: var(--text);
      border-radius: 8px;
      font-size: 14px;
      outline: none;
      transition: border-color .2s ease;
    }
    .field input:focus { border-color: var(--primary); }

    /* æ˜ç»†è¡¨åŒºåŸŸ */
    .section-label {
      font-size: 13px;
      font-weight: 600;
      color: var(--muted);
      text-transform: uppercase;
      letter-spacing: .05em;
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .section-label::before {
      content: '';
      width: 3px;
      height: 14px;
      background: var(--primary);
      border-radius: 2px;
    }
    .items-wrap {
      overflow: auto;
      border: 1px solid var(--border);
      border-radius: var(--radius-sm);
      background: rgba(2,6,23,.3);
    }
    table { width: 100%; border-collapse: collapse; }
    .items-wrap th {
      background: rgba(15,23,42,.8);
      color: var(--muted);
      font-size: 11px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: .05em;
      padding: 10px 12px;
      text-align: left;
      border-bottom: 1px solid var(--border);
      position: sticky;
      top: 0;
    }
    .items-wrap td {
      padding: 8px 10px;
      border-bottom: 1px solid rgba(148,163,184,.08);
      vertical-align: middle;
    }
    .items-wrap tr { transition: background .2s ease; }
    .items-wrap tbody tr:hover { background: rgba(59,130,246,.04); }
    .items-wrap input {
      width: 100%;
      padding: 7px 10px;
      border: 1px solid rgba(148,163,184,.12);
      background: rgba(2,6,23,.6);
      color: var(--text);
      border-radius: 7px;
      font-size: 14px;
      outline: none;
      transition: border-color .2s;
    }
    .items-wrap input:focus { border-color: var(--primary); }
    .line-total {
      font-family: "JetBrains Mono", "SF Mono", Consolas, monospace;
      color: #cbd5e1;
      font-weight: 500;
      white-space: nowrap;
      transition: color .3s ease;
    }
    .line-total.updated { color: var(--primary); }
    .del-btn {
      border: 1px solid rgba(239,68,68,.25);
      background: rgba(239,68,68,.08);
      color: #f87171;
      border-radius: 7px;
      padding: 6px 10px;
      cursor: pointer;
      font-size: 14px;
      transition: all .2s ease;
    }
    .del-btn:hover {
      background: rgba(239,68,68,.18);
      border-color: rgba(239,68,68,.4);
      transform: scale(1.05);
    }

    /* è¡ŒåŠ¨ç”» */
    .items-wrap tbody tr.row-enter {
      animation: slideInRow .35s ease forwards;
    }
    .items-wrap tbody tr.row-exit {
      animation: fadeInUp .25s ease reverse forwards;
      pointer-events: none;
    }

    /* å·¥å…·æ  */
    .toolbar {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      margin-top: 16px;
    }
    .btn {
      border: 1px solid var(--border);
      background: rgba(15,23,42,.8);
      color: var(--text);
      padding: 10px 18px;
      border-radius: var(--radius-sm);
      font-size: 13px;
      font-weight: 500;
      cursor: pointer;
      transition: all .25s ease;
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }
    .btn:hover {
      border-color: var(--border-hover);
      background: var(--card-hover);
      transform: translateY(-1px);
    }
    .btn:active { transform: translateY(0); }
    .btn.primary {
      background: linear-gradient(135deg, var(--primary), var(--primary2));
      border-color: transparent;
      color: #fff;
      box-shadow: 0 2px 12px var(--primary-glow);
    }
    .btn.primary:hover {
      box-shadow: 0 4px 20px rgba(59,130,246,.35);
      transform: translateY(-2px);
    }
    .btn.primary:active { transform: translateY(0); }
    .btn.primary.exporting {
      pointer-events: none;
      opacity: .8;
    }
    .btn.primary.success {
      background: linear-gradient(135deg, var(--success), #16a34a);
      box-shadow: 0 2px 12px rgba(34,197,94,.25);
    }

    /* æ€»è®¡åŒº */
    .totals {
      margin-top: 16px;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 6px;
      padding: 16px;
      background: rgba(2,6,23,.4);
      border: 1px solid var(--border);
      border-radius: var(--radius-sm);
    }
    .totals div {
      font-family: "JetBrains Mono", "SF Mono", Consolas, monospace;
      color: #cbd5e1;
      font-size: 14px;
      transition: all .3s ease;
    }
    .totals .grand {
      color: #c4b5fd;
      font-size: 22px;
      font-weight: 700;
      margin-top: 4px;
      padding-top: 8px;
      border-top: 1px solid var(--border);
      width: 100%;
      text-align: right;
    }
    .totals .grand.flash { animation: totalFlash .5s ease; }

    /* çŠ¶æ€ */
    .status {
      margin-top: 10px;
      font-size: 13px;
      min-height: 20px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .status-text { color: #93c5fd; }
    .status .check-icon {
      width: 18px;
      height: 18px;
    }
    .status .check-icon circle {
      fill: var(--success);
      animation: successPop .4s ease;
    }
    .status .check-icon polyline {
      fill: none;
      stroke: #fff;
      stroke-width: 2.5;
      stroke-linecap: round;
      stroke-linejoin: round;
      stroke-dasharray: 24;
      animation: checkDraw .4s ease .15s forwards;
      stroke-dashoffset: 24;
    }

    /* Trust Bar */
    .trust-bar {
      display: flex;
      justify-content: center;
      gap: 24px;
      flex-wrap: wrap;
      margin: 20px 0 28px;
      padding: 14px 20px;
      background: rgba(139,92,246,.06);
      border: 1px solid rgba(139,92,246,.15);
      border-radius: var(--radius);
      backdrop-filter: blur(8px);
    }
    .trust-item {
      font-size: 13px;
      color: #a78bfa;
      white-space: nowrap;
    }

    /* é€šç”¨ section */
    .features-section,
    .faq-section,
    .related-tools {
      margin-top: 24px;
      background: rgba(15,23,42,.6);
      backdrop-filter: blur(8px);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 22px;
    }
    .features-section h2,
    .faq-section h2,
    .related-tools h3 {
      text-align: center;
      margin-bottom: 16px;
      font-size: 1.2rem;
    }
    .features-grid,
    .related-grid {
      display: grid;
      grid-template-columns: repeat(4, minmax(0, 1fr));
      gap: 12px;
    }
    .feature,
    .related {
      border: 1px solid var(--border);
      border-radius: var(--radius-sm);
      padding: 16px;
      background: rgba(2,6,23,.45);
      transition: all .3s ease;
    }
    .feature:hover,
    .related:hover {
      border-color: var(--border-hover);
      transform: translateY(-3px);
      box-shadow: 0 8px 24px rgba(0,0,0,.2);
    }
    .feature-icon {
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, rgba(59,130,246,.15), rgba(139,92,246,.15));
      border-radius: 10px;
      font-size: 20px;
      margin-bottom: 10px;
    }
    .feature h4, .related h4 { margin: 0 0 6px; font-size: 14px; }
    .feature p, .related p { color: var(--muted); font-size: 13px; line-height: 1.55; }
    .related { text-decoration: none; color: inherit; display: block; }

    /* FAQ */
    .faq-item {
      border: 1px solid var(--border);
      border-radius: var(--radius-sm);
      margin-bottom: 8px;
      overflow: hidden;
      background: rgba(2,6,23,.4);
      transition: border-color .3s;
    }
    .faq-item:hover { border-color: var(--border-hover); }
    .faq-item.active { border-color: rgba(59,130,246,.3); }
    .faq-q {
      width: 100%;
      text-align: left;
      background: transparent;
      border: 0;
      color: var(--text);
      padding: 14px 16px;
      cursor: pointer;
      font-size: 14px;
      font-weight: 500;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 12px;
      transition: background .2s;
    }
    .faq-q:hover { background: rgba(255,255,255,.02); }
    .faq-q::after {
      content: '+';
      font-size: 1.3rem;
      font-weight: 300;
      color: var(--muted);
      transition: transform .3s ease;
      flex-shrink: 0;
    }
    .faq-item.active .faq-q::after { transform: rotate(45deg); }
    .faq-a {
      max-height: 0;
      overflow: hidden;
      transition: max-height .35s ease, padding .35s ease;
      padding: 0 16px;
      color: var(--muted);
      font-size: 13px;
      line-height: 1.65;
    }
    .faq-item.active .faq-a {
      max-height: 200px;
      padding: 0 16px 14px;
    }

    /* å“åº”å¼ */
    @media (max-width: 960px) {
      .form-grid { grid-template-columns: 1fr; }
      .features-grid, .related-grid { grid-template-columns: repeat(2, 1fr); }
    }
    @media (max-width: 640px) {
      h1 { font-size: 1.7rem; }
      .features-grid, .related-grid { grid-template-columns: 1fr; }
      .tool-card { padding: 14px; }
      .totals { padding: 12px; }
      .totals .grand { font-size: 18px; }
    }
  </style>
</head>
<body>
<div class="container">
  <div class="topbar">
    <a class="back" href="index.html">&larr; <span data-i18n="back">Back to Toolbox</span></a>
    <div class="lang-dropdown" id="langDropdown">
      <div class="lang-current" id="langCurrent">ğŸ‡ºğŸ‡¸ English</div>
      <div class="lang-menu">
        <button class="lang-btn" data-lang="en">ğŸ‡ºğŸ‡¸ English</button>
        <button class="lang-btn" data-lang="zh-CN">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</button>
        <button class="lang-btn" data-lang="fr">ğŸ‡«ğŸ‡· FranÃ§ais</button>
        <button class="lang-btn" data-lang="es">ğŸ‡ªğŸ‡¸ EspaÃ±ol</button>
      </div>
    </div>
  </div>

  <h1 class="animate-in" data-i18n="title">Invoice Generator</h1>
  <p class="subtitle animate-in" data-i18n="subtitle">Create itemized invoice PDF in your browser</p>

  <section class="card tool-card animate-in">
    <div class="form-grid">
      <div class="field"><label data-i18n="fromName">From (Your Business)</label><input id="fromName" value="Your Company"></div>
      <div class="field"><label data-i18n="toName">Bill To (Client)</label><input id="toName" value="Client Name"></div>
      <div class="field"><label data-i18n="invoiceNo">Invoice No.</label><input id="invoiceNo" value="INV-001"></div>
      <div class="field"><label data-i18n="invoiceDate">Invoice Date</label><input id="invoiceDate" type="date"></div>
      <div class="field"><label data-i18n="dueDate">Due Date</label><input id="dueDate" type="date"></div>
      <div class="field"><label data-i18n="taxRate">Tax Rate (%)</label><input id="taxRate" type="number" step="0.01" value="10"></div>
    </div>

    <div class="section-label" data-i18n="itemsLabel">Line Items</div>
    <div class="items-wrap">
      <table>
        <thead>
          <tr>
            <th data-i18n="colDesc">Description</th>
            <th data-i18n="colQty">Qty</th>
            <th data-i18n="colPrice">Unit Price</th>
            <th data-i18n="colTotal">Line Total</th>
            <th data-i18n="colAction">Action</th>
          </tr>
        </thead>
        <tbody id="itemsBody"></tbody>
      </table>
    </div>

    <div class="toolbar">
      <button class="btn" id="addRowBtn">
        <span>+</span>
        <span data-i18n="addItem">Add Item</span>
      </button>
      <button class="btn primary" id="exportBtn">
        <span class="export-icon">&#128196;</span>
        <span data-i18n="exportPdf">Export PDF</span>
      </button>
    </div>

    <div class="totals">
      <div id="subTotal">Subtotal: 0.00</div>
      <div id="taxTotal">Tax: 0.00</div>
      <div class="grand" id="grandTotal">Total: 0.00</div>
    </div>
    <div class="status" id="status"></div>
  </section>

  <div class="trust-bar animate-in">
    <span class="trust-item" data-i18n="trust_users">ğŸŒ Used by 50,000+ users</span>
    <span class="trust-item" data-i18n="trust_rating">â­ 4.9/5 rating</span>
    <span class="trust-item" data-i18n="trust_privacy">ğŸ”’ 100% Private</span>
    <span class="trust-item" data-i18n="trust_free">ğŸš« No Ads, No Signup</span>
  </div>

  <section class="features-section animate-in">
    <h2 data-i18n="features_title">Invoice Generator Features</h2>
    <div class="features-grid">
      <article class="feature">
        <div class="feature-icon">ğŸ”’</div>
        <h4 data-i18n="f1_t">100% Free & Private</h4>
        <p data-i18n="f1_d">No ads, no signup, no watermark. Everything runs locally in your browser. Your data never leaves your device.</p>
      </article>
      <article class="feature">
        <div class="feature-icon">ğŸ§¾</div>
        <h4 data-i18n="f2_t">Itemized Invoice Builder</h4>
        <p data-i18n="f2_d">Add multiple service or product rows with quantity and unit price fields.</p>
      </article>
      <article class="feature">
        <div class="feature-icon">ğŸ§®</div>
        <h4 data-i18n="f3_t">Tax and Total Auto Calc</h4>
        <p data-i18n="f3_d">Compute subtotal, tax amount, and grand total automatically.</p>
      </article>
      <article class="feature">
        <div class="feature-icon">ğŸ“„</div>
        <h4 data-i18n="f4_t">PDF Export</h4>
        <p data-i18n="f4_d">Generate professional invoice PDF instantly with no account required.</p>
      </article>
    </div>
  </section>

  <section class="faq-section animate-in">
    <h2 data-i18n="faq_title">Frequently Asked Questions</h2>
    <div class="faq-item"><button class="faq-q"><span data-i18n="faq1_q">What is an invoice generator and who needs it?</span></button><div class="faq-a" data-i18n="faq1_a">An invoice generator creates itemized billing documents for freelancers, agencies, and businesses. It helps standardize payment requests and improves accounting workflow.</div></div>
    <div class="faq-item"><button class="faq-q"><span data-i18n="faq2_q">Can I generate invoice PDF without signup?</span></button><div class="faq-a" data-i18n="faq2_a">Yes. This free invoice maker lets you generate invoice PDF directly in browser with no registration and no software installation.</div></div>
    <div class="faq-item"><button class="faq-q"><span data-i18n="faq3_q">Can I add tax and multiple line items?</span></button><div class="faq-a" data-i18n="faq3_a">Yes. You can add, remove, and edit line items, then apply tax rate to calculate subtotal, tax amount, and grand total.</div></div>
    <div class="faq-item"><button class="faq-q"><span data-i18n="faq4_q">Is invoice data saved on server?</span></button><div class="faq-a" data-i18n="faq4_a">No. Invoice calculation and PDF generation are handled in browser session. Data is not sent by this page to an application backend.</div></div>
    <div class="faq-item"><button class="faq-q"><span data-i18n="faq_free_q">Is this tool really free with no ads?</span></button><div class="faq-a" data-i18n="faq_free_a">Yes, 100% free with no ads, no registration, no watermark, and no usage limits. All processing happens locally in your browser â€” your data is never uploaded to any server.</div></div>
  </section>

  <section class="related-tools animate-in">
    <h3 data-i18n="related_title">Related Tools</h3>
    <div class="related-grid">
      <a class="related" href="calculator.html">
        <div class="feature-icon">ğŸ§®</div>
        <h4 data-i18n="r1_t">Calculator</h4>
        <p data-i18n="r1_d">Check additional finance formulas quickly.</p>
      </a>
      <a class="related" href="unit-converter.html">
        <div class="feature-icon">ğŸ“</div>
        <h4 data-i18n="r2_t">Unit Converter</h4>
        <p data-i18n="r2_d">Convert units in quotes and invoice specs.</p>
      </a>
      <a class="related" href="timestamp-converter.html">
        <div class="feature-icon">ğŸ•’</div>
        <h4 data-i18n="r3_t">Timestamp Converter</h4>
        <p data-i18n="r3_d">Convert invoice dates and UNIX timestamps.</p>
      </a>
      <a class="related" href="pdf-compress.html">
        <div class="feature-icon">ğŸ“¦</div>
        <h4 data-i18n="r4_t">PDF Compress</h4>
        <p data-i18n="r4_d">Reduce invoice PDF size before sharing.</p>
      </a>
    </div>
  </section>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script>
(function() {
  'use strict';

  var langNames = { en: 'ğŸ‡ºğŸ‡¸ English', 'zh-CN': 'ğŸ‡¨ğŸ‡³ ä¸­æ–‡', fr: 'ğŸ‡«ğŸ‡· FranÃ§ais', es: 'ğŸ‡ªğŸ‡¸ EspaÃ±ol' };
  var i18n = {
    en: {
      back: 'Back to Toolbox', title: 'Invoice Generator', subtitle: 'Create itemized invoice PDF in your browser',
      fromName: 'From (Your Business)', toName: 'Bill To (Client)', invoiceNo: 'Invoice No.', invoiceDate: 'Invoice Date',
      dueDate: 'Due Date', taxRate: 'Tax Rate (%)', itemsLabel: 'Line Items',
      colDesc: 'Description', colQty: 'Qty', colPrice: 'Unit Price', colTotal: 'Line Total', colAction: 'Action',
      addItem: 'Add Item', exportPdf: 'Export PDF', subtotal: 'Subtotal', tax: 'Tax', total: 'Total',
      pdfReady: 'Invoice PDF downloaded',
      trust_users: 'ğŸŒ Used by 50,000+ users', trust_rating: 'â­ 4.9/5 rating',
      trust_privacy: 'ğŸ”’ 100% Private', trust_free: 'ğŸš« No Ads, No Signup',
      features_title: 'Invoice Generator Features',
      f1_t: '100% Free & Private', f1_d: 'No ads, no signup, no watermark. Everything runs locally in your browser. Your data never leaves your device.',
      f2_t: 'Itemized Invoice Builder', f2_d: 'Add multiple service or product rows with quantity and unit price fields.',
      f3_t: 'Tax and Total Auto Calc', f3_d: 'Compute subtotal, tax amount, and grand total automatically.',
      f4_t: 'PDF Export', f4_d: 'Generate professional invoice PDF instantly with no account required.',
      faq_title: 'Frequently Asked Questions',
      faq1_q: 'What is an invoice generator and who needs it?',
      faq1_a: 'An invoice generator creates itemized billing documents for freelancers, agencies, and businesses. It helps standardize payment requests and improves accounting workflow.',
      faq2_q: 'Can I generate invoice PDF without signup?',
      faq2_a: 'Yes. This free invoice maker lets you generate invoice PDF directly in browser with no registration and no software installation.',
      faq3_q: 'Can I add tax and multiple line items?',
      faq3_a: 'Yes. You can add, remove, and edit line items, then apply tax rate to calculate subtotal, tax amount, and grand total.',
      faq4_q: 'Is invoice data saved on server?',
      faq4_a: 'No. Invoice calculation and PDF generation are handled in browser session. Data is not sent by this page to an application backend.',
      faq_free_q: 'Is this tool really free with no ads?',
      faq_free_a: 'Yes, 100% free with no ads, no registration, no watermark, and no usage limits. All processing happens locally in your browser â€” your data is never uploaded to any server.',
      related_title: 'Related Tools',
      r1_t: 'Calculator', r1_d: 'Check additional finance formulas quickly.',
      r2_t: 'Unit Converter', r2_d: 'Convert units in quotes and invoice specs.',
      r3_t: 'Timestamp Converter', r3_d: 'Convert invoice dates and UNIX timestamps.',
      r4_t: 'PDF Compress', r4_d: 'Reduce invoice PDF size before sharing.'
    },
    'zh-CN': {
      back: 'è¿”å›å·¥å…·ç®±', title: 'å‘ç¥¨ç”Ÿæˆå™¨', subtitle: 'åœ¨çº¿åˆ›å»ºæ˜ç»†å‘ç¥¨å¹¶å¯¼å‡º PDF',
      fromName: 'å¼€ç¥¨æ–¹ï¼ˆä½ çš„å…¬å¸ï¼‰', toName: 'æ”¶ç¥¨æ–¹ï¼ˆå®¢æˆ·ï¼‰', invoiceNo: 'å‘ç¥¨ç¼–å·', invoiceDate: 'å¼€ç¥¨æ—¥æœŸ',
      dueDate: 'åˆ°æœŸæ—¥æœŸ', taxRate: 'ç¨ç‡ (%)', itemsLabel: 'æ˜ç»†é¡¹',
      colDesc: 'é¡¹ç›®æè¿°', colQty: 'æ•°é‡', colPrice: 'å•ä»·', colTotal: 'å°è®¡', colAction: 'æ“ä½œ',
      addItem: 'æ–°å¢é¡¹ç›®', exportPdf: 'å¯¼å‡º PDF', subtotal: 'å°è®¡', tax: 'ç¨é¢', total: 'æ€»è®¡',
      pdfReady: 'å‘ç¥¨ PDF å·²ä¸‹è½½',
      trust_users: 'ğŸŒ è¶…è¿‡ 50,000 ç”¨æˆ·ä½¿ç”¨', trust_rating: 'â­ 4.9/5 å¥½è¯„',
      trust_privacy: 'ğŸ”’ 100% éšç§å®‰å…¨', trust_free: 'ğŸš« æ— å¹¿å‘Šã€æ— éœ€æ³¨å†Œ',
      features_title: 'å‘ç¥¨ç”ŸæˆåŠŸèƒ½ç‰¹ç‚¹',
      f1_t: '100% å…è´¹ä¸”å®‰å…¨', f1_d: 'æ— å¹¿å‘Šã€æ— éœ€æ³¨å†Œã€æ— æ°´å°ã€‚æ‰€æœ‰å¤„ç†éƒ½åœ¨æµè§ˆå™¨æœ¬åœ°å®Œæˆï¼Œæ•°æ®ä¸ä¼šä¸Šä¼ åˆ°ä»»ä½•æœåŠ¡å™¨ã€‚',
      f2_t: 'æ˜ç»†è¡Œç¼–è¾‘', f2_d: 'å¯æ·»åŠ å¤šæ¡æœåŠ¡æˆ–å•†å“è¡Œï¼Œæ”¯æŒæ•°é‡å’Œå•ä»·ã€‚',
      f3_t: 'ç¨é¢ä¸æ€»è®¡è‡ªåŠ¨è®¡ç®—', f3_d: 'è‡ªåŠ¨è®¡ç®—å°è®¡ã€ç¨é¢ä¸æ€»è®¡ï¼Œå‡å°‘æ‰‹å·¥é”™è¯¯ã€‚',
      f4_t: 'PDF å¯¼å‡º', f4_d: 'æ— éœ€æ³¨å†Œå³å¯å¿«é€Ÿç”Ÿæˆä¸“ä¸šå‘ç¥¨ PDFã€‚',
      faq_title: 'å¸¸è§é—®é¢˜',
      faq1_q: 'ä»€ä¹ˆæ˜¯å‘ç¥¨ç”Ÿæˆå™¨ï¼Ÿè°é€‚åˆç”¨ï¼Ÿ',
      faq1_a: 'å‘ç¥¨ç”Ÿæˆå™¨ç”¨äºåˆ›å»ºç»“æ„åŒ–æ”¶è´¹å•æ®ï¼Œé€‚åˆè‡ªç”±èŒä¸šè€…ã€å·¥ä½œå®¤å’Œå°ä¼ä¸šã€‚å®ƒå¯ä»¥è§„èŒƒæ”¶æ¬¾æµç¨‹å¹¶æå‡å¯¹è´¦æ•ˆç‡ã€‚',
      faq2_q: 'æ— éœ€æ³¨å†Œå¯ä»¥å¯¼å‡ºå‘ç¥¨ PDF å—ï¼Ÿ',
      faq2_a: 'å¯ä»¥ã€‚è¿™ä¸ª free invoice generator æ”¯æŒæµè§ˆå™¨ç›´æ¥å¯¼å‡º PDFï¼Œæ— éœ€è´¦å·å’Œå®‰è£…è½¯ä»¶ã€‚',
      faq3_q: 'æ”¯æŒç¨ç‡å’Œå¤šæ¡æ˜ç»†å—ï¼Ÿ',
      faq3_a: 'æ”¯æŒã€‚ä½ å¯ä»¥æ–°å¢ã€åˆ é™¤å’Œç¼–è¾‘å¤šæ¡æ˜ç»†ï¼Œå¹¶è®¾ç½®ç¨ç‡è‡ªåŠ¨è®¡ç®—æ€»é¢ã€‚',
      faq4_q: 'å‘ç¥¨æ•°æ®ä¼šä¸Šä¼ åˆ°æœåŠ¡å™¨å—ï¼Ÿ',
      faq4_a: 'ä¸ä¼šã€‚è®¡ç®—å’Œå¯¼å‡ºéƒ½åœ¨æµè§ˆå™¨ä¼šè¯ä¸­å®Œæˆï¼Œé¡µé¢ä¸ä¼šä¸»åŠ¨æŠŠå‘ç¥¨å†…å®¹å‘é€åˆ°åº”ç”¨åç«¯ã€‚',
      faq_free_q: 'è¿™ä¸ªå·¥å…·çœŸçš„å…è´¹ä¸”æ— å¹¿å‘Šå—ï¼Ÿ',
      faq_free_a: 'æ˜¯çš„ï¼Œ100% å…è´¹ï¼Œæ— å¹¿å‘Šã€æ— éœ€æ³¨å†Œã€æ— æ°´å°ã€æ— é™åˆ¶ã€‚æ‰€æœ‰å¤„ç†éƒ½åœ¨æµè§ˆå™¨æœ¬åœ°å®Œæˆï¼Œä½ çš„æ•°æ®ä¸ä¼šä¸Šä¼ åˆ°ä»»ä½•æœåŠ¡å™¨ã€‚',
      related_title: 'ç›¸å…³å·¥å…·',
      r1_t: 'è®¡ç®—å™¨', r1_d: 'å¿«é€Ÿå¤„ç†æ›´å¤šè´¢åŠ¡è®¡ç®—ã€‚',
      r2_t: 'å•ä½æ¢ç®—å™¨', r2_d: 'æŠ¥ä»·å’Œè§„æ ¼ä¸­çš„å•ä½æ¢ç®—ã€‚',
      r3_t: 'æ—¶é—´æˆ³è½¬æ¢', r3_d: 'è½¬æ¢æ—¥æœŸä¸æ—¶é—´æˆ³ã€‚',
      r4_t: 'PDF å‹ç¼©', r4_d: 'åˆ†äº«å‰å‹ç¼©å‘ç¥¨ PDFã€‚'
    },
    fr: {
      back: 'Retour Ã  la boÃ®te Ã  outils', title: 'GÃ©nÃ©rateur de facture', subtitle: 'CrÃ©er facture dÃ©taillÃ©e et exporter PDF en ligne',
      fromName: 'Ã‰metteur (votre sociÃ©tÃ©)', toName: 'Facturer Ã  (client)', invoiceNo: 'NÂ° facture', invoiceDate: 'Date facture',
      dueDate: 'Date Ã©chÃ©ance', taxRate: 'Taux taxe (%)', itemsLabel: 'Lignes de facture',
      colDesc: 'Description', colQty: 'QtÃ©', colPrice: 'Prix unitaire', colTotal: 'Total ligne', colAction: 'Action',
      addItem: 'Ajouter ligne', exportPdf: 'Exporter PDF', subtotal: 'Sous-total', tax: 'Taxe', total: 'Total',
      pdfReady: 'PDF facture tÃ©lÃ©chargÃ©',
      trust_users: 'ğŸŒ UtilisÃ© par 50 000+ utilisateurs', trust_rating: 'â­ Note 4.9/5',
      trust_privacy: 'ğŸ”’ 100% PrivÃ©', trust_free: 'ğŸš« Sans pub, sans inscription',
      features_title: 'Fonctions gÃ©nÃ©rateur facture',
      f1_t: '100% Gratuit et PrivÃ©', f1_d: 'Sans publicitÃ©, sans inscription, sans filigrane. Tout est traitÃ© localement dans votre navigateur.',
      f2_t: 'Lignes dÃ©taillÃ©es', f2_d: 'Ajoutez plusieurs lignes produits/services avec quantitÃ© et prix.',
      f3_t: 'Calcul auto taxe et total', f3_d: 'Calcule sous-total, taxe et total automatiquement.',
      f4_t: 'Export PDF', f4_d: 'GÃ©nÃ©rez facture PDF professionnelle sans compte.',
      faq_title: 'Questions frÃ©quentes',
      faq1_q: 'Qu\'est-ce qu\'un gÃ©nÃ©rateur de facture et pour qui ?',
      faq1_a: 'Un invoice generator crÃ©e des documents de facturation dÃ©taillÃ©s pour freelances, agences et entreprises. Il standardise les demandes de paiement.',
      faq2_q: 'Puis-je gÃ©nÃ©rer PDF sans inscription ?',
      faq2_a: 'Oui. Ce free invoice maker exporte facture PDF directement dans navigateur sans inscription.',
      faq3_q: 'Puis-je ajouter taxe et plusieurs lignes ?',
      faq3_a: 'Oui. Ajoutez, supprimez, modifiez lignes puis appliquez taux de taxe pour calcul automatique.',
      faq4_q: 'Les donnÃ©es facture sont-elles stockÃ©es serveur ?',
      faq4_a: 'Non. Calcul et gÃ©nÃ©ration PDF se font dans session navigateur sans envoi vers backend applicatif.',
      faq_free_q: 'Cet outil est-il vraiment gratuit et sans pub ?',
      faq_free_a: 'Oui, 100% gratuit, sans publicitÃ©, sans inscription, sans filigrane et sans limites. Tout est traitÃ© localement dans votre navigateur â€” vos donnÃ©es ne sont jamais tÃ©lÃ©versÃ©es.',
      related_title: 'Outils associÃ©s',
      r1_t: 'Calculatrice', r1_d: 'VÃ©rifier calculs financiers.',
      r2_t: 'Convertisseur unitÃ©s', r2_d: 'Convertir unitÃ©s dans devis.',
      r3_t: 'Convertisseur timestamp', r3_d: 'Convertir dates et temps.',
      r4_t: 'Compresseur PDF', r4_d: 'RÃ©duire taille du PDF facture.'
    },
    es: {
      back: 'Volver a la caja de herramientas', title: 'Generador de facturas', subtitle: 'Crea factura detallada y exporta PDF en lÃ­nea',
      fromName: 'Emisor (tu empresa)', toName: 'Facturar a (cliente)', invoiceNo: 'N.Âº factura', invoiceDate: 'Fecha factura',
      dueDate: 'Fecha vencimiento', taxRate: 'Tasa impuesto (%)', itemsLabel: 'LÃ­neas de factura',
      colDesc: 'DescripciÃ³n', colQty: 'Cant.', colPrice: 'Precio unitario', colTotal: 'Total lÃ­nea', colAction: 'AcciÃ³n',
      addItem: 'Agregar lÃ­nea', exportPdf: 'Exportar PDF', subtotal: 'Subtotal', tax: 'Impuesto', total: 'Total',
      pdfReady: 'PDF de factura descargado',
      trust_users: 'ğŸŒ Usado por mÃ¡s de 50,000 usuarios', trust_rating: 'â­ CalificaciÃ³n 4.9/5',
      trust_privacy: 'ğŸ”’ 100% Privado', trust_free: 'ğŸš« Sin anuncios, sin registro',
      features_title: 'Funciones del generador',
      f1_t: '100% Gratis y Privado', f1_d: 'Sin anuncios, sin registro, sin marca de agua. Todo se procesa localmente en tu navegador.',
      f2_t: 'Editor de lÃ­neas', f2_d: 'Agrega varias lÃ­neas de producto/servicio con cantidad y precio.',
      f3_t: 'CÃ¡lculo automÃ¡tico', f3_d: 'Calcula subtotal, impuesto y total automÃ¡ticamente.',
      f4_t: 'Exportar PDF', f4_d: 'Genera factura PDF profesional sin cuenta.',
      faq_title: 'Preguntas frecuentes',
      faq1_q: 'Â¿QuÃ© es un generador de facturas y quiÃ©n lo necesita?',
      faq1_a: 'Un invoice generator crea documentos de cobro detallados para freelancers, agencias y negocios. Ayuda a estandarizar solicitudes de pago.',
      faq2_q: 'Â¿Puedo generar factura PDF sin registro?',
      faq2_a: 'SÃ­. Este free invoice maker permite exportar factura PDF en navegador sin registro.',
      faq3_q: 'Â¿Puedo agregar impuesto y mÃºltiples lÃ­neas?',
      faq3_a: 'SÃ­. Puedes agregar, eliminar y editar lÃ­neas y aplicar tasa de impuesto para cÃ¡lculo automÃ¡tico.',
      faq4_q: 'Â¿Los datos de factura se guardan en servidor?',
      faq4_a: 'No. El cÃ¡lculo y la generaciÃ³n PDF se realizan en sesiÃ³n de navegador sin envÃ­o a backend de aplicaciÃ³n.',
      faq_free_q: 'Â¿Esta herramienta es realmente gratis y sin anuncios?',
      faq_free_a: 'SÃ­, 100% gratis, sin anuncios, sin registro, sin marca de agua y sin lÃ­mites. Todo el procesamiento ocurre localmente en tu navegador: tus datos nunca se suben a ningÃºn servidor.',
      related_title: 'Herramientas relacionadas',
      r1_t: 'Calculadora', r1_d: 'Revisar cÃ¡lculos financieros.',
      r2_t: 'Convertidor de unidades', r2_d: 'Convertir unidades en cotizaciones.',
      r3_t: 'Convertidor timestamp', r3_d: 'Convertir fechas y tiempo.',
      r4_t: 'Compresor PDF', r4_d: 'Reducir tamaÃ±o del PDF.'
    }
  };

  var currentLang = localStorage.getItem('invoice_generator_lang') || 'en';
  var itemsBody = document.getElementById('itemsBody');
  var statusEl = document.getElementById('status');
  var grandEl = document.getElementById('grandTotal');
  var exportBtn = document.getElementById('exportBtn');

  function t(k) { var d = i18n[currentLang] || i18n.en; return d[k] || i18n.en[k] || k; }
  function money(v) { return (Number(v) || 0).toFixed(2); }

  /* æ·»åŠ æ˜ç»†è¡Œï¼ˆå¸¦å…¥åœºåŠ¨ç”»ï¼‰ */
  function addRow(desc, qty, price) {
    var tr = document.createElement('tr');
    tr.className = 'row-enter';
    tr.innerHTML = '<td><input value="' + (desc || '') + '"></td>' +
      '<td><input type="number" min="0" step="any" value="' + (qty || 1) + '"></td>' +
      '<td><input type="number" min="0" step="any" value="' + (price || 0) + '"></td>' +
      '<td class="line-total">0.00</td>' +
      '<td><button class="del-btn">&times;</button></td>';
    tr.querySelectorAll('input').forEach(function(inp) { inp.addEventListener('input', calc); });
    tr.querySelector('.del-btn').addEventListener('click', function() {
      tr.classList.remove('row-enter');
      tr.classList.add('row-exit');
      tr.addEventListener('animationend', function() { tr.remove(); calc(); });
    });
    itemsBody.appendChild(tr);
    calc();
  }

  /* é‡ç®—æ€»è®¡ï¼ˆå¸¦é—ªçƒåé¦ˆï¼‰ */
  var prevGrand = 0;
  function calc() {
    var subtotal = 0;
    Array.from(itemsBody.children).forEach(function(tr) {
      var inputs = tr.querySelectorAll('input');
      if (inputs.length < 3) return;
      var qty = parseFloat(inputs[1].value) || 0;
      var price = parseFloat(inputs[2].value) || 0;
      var total = qty * price;
      var cell = tr.querySelector('.line-total');
      var oldVal = cell.textContent;
      cell.textContent = money(total);
      // è¡Œæ€»è®¡å˜åŒ–æ—¶é—ªä¸€ä¸‹
      if (cell.textContent !== oldVal) {
        cell.classList.add('updated');
        setTimeout(function() { cell.classList.remove('updated'); }, 400);
      }
      subtotal += total;
    });
    var taxRate = parseFloat(document.getElementById('taxRate').value) || 0;
    var tax = subtotal * taxRate / 100;
    var grand = subtotal + tax;
    document.getElementById('subTotal').textContent = t('subtotal') + ': ' + money(subtotal);
    document.getElementById('taxTotal').textContent = t('tax') + ': ' + money(tax);
    grandEl.textContent = t('total') + ': ' + money(grand);
    // æ€»è®¡å˜åŒ–æ—¶åšå¼¹è·³åŠ¨æ•ˆ
    if (grand !== prevGrand) {
      grandEl.classList.remove('flash');
      void grandEl.offsetWidth; // è§¦å‘ reflow
      grandEl.classList.add('flash');
      prevGrand = grand;
    }
  }

  function applyLanguage(lang) {
    currentLang = i18n[lang] ? lang : 'en';
    localStorage.setItem('invoice_generator_lang', currentLang);
    document.documentElement.lang = currentLang;
    document.getElementById('langCurrent').textContent = langNames[currentLang];
    document.querySelectorAll('[data-i18n]').forEach(function(el) {
      el.textContent = t(el.getAttribute('data-i18n'));
    });
    calc();
  }

  /* å¯¼å‡º PDFï¼ˆå¸¦æŒ‰é’®çŠ¶æ€åé¦ˆï¼‰ */
  function exportPDF() {
    exportBtn.classList.add('exporting');
    var btnText = exportBtn.querySelector('[data-i18n="exportPdf"]');
    var origText = btnText.textContent;
    btnText.textContent = '...';

    setTimeout(function() {
      try {
        var jsPDF = window.jspdf.jsPDF;
        var doc = new jsPDF();
        var y = 15;
        doc.setFontSize(20); doc.text('INVOICE', 14, y); y += 10;
        doc.setFontSize(11);
        doc.text('From: ' + document.getElementById('fromName').value, 14, y); y += 6;
        doc.text('Bill To: ' + document.getElementById('toName').value, 14, y); y += 6;
        doc.text('Invoice No: ' + document.getElementById('invoiceNo').value, 14, y); y += 6;
        doc.text('Invoice Date: ' + document.getElementById('invoiceDate').value, 14, y); y += 6;
        doc.text('Due Date: ' + document.getElementById('dueDate').value, 14, y); y += 8;
        doc.setFontSize(10);
        doc.text('Description', 14, y); doc.text('Qty', 110, y); doc.text('Price', 130, y); doc.text('Total', 165, y);
        y += 2; doc.line(14, y, 196, y); y += 5;

        Array.from(itemsBody.children).forEach(function(tr) {
          var inputs = tr.querySelectorAll('input');
          if (inputs.length < 3) return;
          var desc = inputs[0].value || '';
          var qty = inputs[1].value || '0';
          var price = inputs[2].value || '0';
          var total = tr.querySelector('.line-total').textContent || '0';
          doc.text(desc.substring(0, 55), 14, y);
          doc.text(String(qty), 110, y);
          doc.text(String(price), 130, y);
          doc.text(String(total), 165, y);
          y += 6;
          if (y > 270) { doc.addPage(); y = 20; }
        });

        y += 4; doc.line(120, y, 196, y); y += 6;
        doc.text(document.getElementById('subTotal').textContent, 120, y); y += 6;
        doc.text(document.getElementById('taxTotal').textContent, 120, y); y += 6;
        doc.setFontSize(12);
        doc.text(document.getElementById('grandTotal').textContent, 120, y);
        doc.save((document.getElementById('invoiceNo').value || 'invoice') + '.pdf');

        // æˆåŠŸåé¦ˆ
        exportBtn.classList.remove('exporting');
        exportBtn.classList.add('success');
        btnText.textContent = origText;
        statusEl.innerHTML = '<svg class="check-icon" viewBox="0 0 20 20"><circle cx="10" cy="10" r="10"/><polyline points="6 10 9 13 14 7"/></svg><span class="status-text">' + t('pdfReady') + '</span>';
        setTimeout(function() {
          exportBtn.classList.remove('success');
          statusEl.innerHTML = '';
        }, 3000);
      } catch (e) {
        exportBtn.classList.remove('exporting');
        btnText.textContent = origText;
        statusEl.innerHTML = '<span class="status-text" style="color:#f87171">Error: ' + e.message + '</span>';
      }
    }, 150);
  }

  /* äº‹ä»¶ç»‘å®š */
  document.getElementById('addRowBtn').addEventListener('click', function() { addRow('', 1, 0); });
  exportBtn.addEventListener('click', exportPDF);
  ['taxRate', 'fromName', 'toName', 'invoiceNo', 'invoiceDate', 'dueDate'].forEach(function(id) {
    document.getElementById(id).addEventListener('input', calc);
  });

  /* è¯­è¨€åˆ‡æ¢ */
  document.getElementById('langCurrent').addEventListener('click', function(e) {
    e.stopPropagation();
    document.getElementById('langDropdown').classList.toggle('open');
  });
  document.querySelectorAll('.lang-btn').forEach(function(btn) {
    btn.addEventListener('click', function(e) {
      e.stopPropagation();
      applyLanguage(btn.getAttribute('data-lang'));
      document.getElementById('langDropdown').classList.remove('open');
    });
  });
  document.addEventListener('click', function() {
    document.getElementById('langDropdown').classList.remove('open');
  });

  /* FAQ æ‰‹é£ç´ */
  document.querySelectorAll('.faq-q').forEach(function(btn) {
    btn.addEventListener('click', function() {
      var item = btn.parentElement;
      var open = item.classList.contains('active');
      document.querySelectorAll('.faq-item').forEach(function(it) { it.classList.remove('active'); });
      if (!open) item.classList.add('active');
    });
  });

  /* åˆå§‹åŒ– */
  addRow('Service A', 1, 200);
  addRow('Service B', 2, 150);
  var today = new Date();
  document.getElementById('invoiceDate').value = today.toISOString().slice(0, 10);
  var due = new Date(today.getTime() + 7 * 24 * 3600 * 1000);
  document.getElementById('dueDate').value = due.toISOString().slice(0, 10);
  calc();
  applyLanguage(currentLang);
})();
</script>
</body>
</html>
