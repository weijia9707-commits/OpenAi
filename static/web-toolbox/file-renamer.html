<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- ===================== SEO META ===================== -->
    <title>File Renamer - Free Online Batch Rename | No Ads, No Upload | æ‰¹é‡é‡å‘½å | Web Toolbox</title>
    <meta name="description" content="Free online batch file renaming tool. Supports sequential numbering, find & replace, prefix/suffix, regex replacement. Drag to reorder, real-time preview, fully local processing for privacy. âœ… No ads âœ… No signup âœ… No limits. Runs entirely in your browser.">
    <meta name="keywords" content="file rename,batch rename,file renamer,sequential numbering,find replace,online tool,privacy protection, no ads, no signup, no login, free unlimited, browser-based, no installation">
    <meta name="author" content="*****">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://www.*****.com/web-toolbox/file-renamer.html">

    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.*****.com/web-toolbox/file-renamer.html">
    <meta property="og:title" content="File Renamer - Free Online Batch Rename | No Ads, No Upload | æ‰¹é‡é‡å‘½å">
    <meta property="og:description" content="Free online batch file renaming with sequential numbering, find & replace, prefix/suffix modes. Fully local processing.">
    <meta property="og:image" content="https://www.*****.com/web-toolbox/screenshots/file-renamer.png">
    <meta property="og:locale" content="en_US">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="File Renamer - Free Online Batch Rename | No Ads, No Upload | æ‰¹é‡é‡å‘½å">
    <meta name="twitter:description" content="Free online batch file renaming with multiple modes. Fully local processing for privacy.">

    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Batch File Renamer",
        "description": "Free online batch file renaming tool with sequential numbering, find & replace, prefix/suffix modes. Fully local processing.",
        "url": "https://www.*****.com/web-toolbox/file-renamer.html",
        "applicationCategory": "UtilitiesApplication",
        "operatingSystem": "Web Browser",
        "featureList": ["No ads", "No signup required", "100% browser-based", "Unlimited usage"],
        "offers": {"@type": "Offer", "price": "0", "priceCurrency": "USD"},
        "author": {"@type": "Person", "name": "*****"}
    }
    </script>
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [
            {
                "@type": "Question",
                "name": "How many files can be batch renamed?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Theoretically unlimited, depends on browser performance. Recommended not to exceed 1000 files at once."
                }
            },
            {
                "@type": "Question",
                "name": "What renaming rules are supported?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Supports prefix/suffix, sequential numbering, date insertion, find & replace, case conversion and more."
                }
            },
            {
                "@type": "Question",
                "name": "Are files uploaded to a server?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "No, all processing is done locally. Files never leave your computer, ensuring complete privacy."
                }
            },
            {
                "@type": "Question",
                "name": "Can I undo the rename?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Before downloading, you can readjust rules. After downloading, you need to manually restore original filenames."
                }
            },
            {
                "@type": "Question",
                "name": "Can folders be renamed?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Only file renaming is supported, not folder renaming."
                }
            },
            {
                "@type": "Question",
                "name": "Is this tool really free? Are there any hidden charges?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Yes, this tool is 100% free with no hidden charges, no ads, and no signup required. It runs entirely in your browser â€” your data never leaves your device."
                }
            }
        ]
    }
    </script>
    <!-- ===================== /SEO META ===================== -->

    <!-- ===================== TOOL_META ===================== -->
    <script>
    const TOOL_META = {
        slug: 'file-renamer',
        name: 'Batch File Renamer',
        description: 'Supports sequential numbering, find & replace, prefix/suffix modes. Fully local processing for privacy.',
        keywords: ['file rename', 'batch rename', 'sequential numbering', 'find replace']
    };
    </script>
    <!-- ===================== /TOOL_META ===================== -->

    <!-- ä¾èµ–åº“ -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Sortable/1.15.0/Sortable.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>

    <!-- ===================== UI ===================== -->
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
            color: #e4e4e7;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 30px 20px;
        }

        /* å¤´éƒ¨ */
        header {
            text-align: center;
            margin-bottom: 30px;
            position: relative;
        }

        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            color: #a78bfa;
            text-decoration: none;
            font-size: 0.9rem;
            margin-bottom: 16px;
            transition: color 0.2s;
        }

        .back-link:hover {
            color: #c4b5fd;
        }

        h1 {
            font-size: 2.2rem;
            font-weight: 700;
            background: linear-gradient(120deg, #00d4ff, #7c3aed, #f472b6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 12px;
        }

        .subtitle {
            color: #a1a1aa;
            font-size: 1rem;
        }

        .privacy-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            background: rgba(34, 197, 94, 0.15);
            border: 1px solid rgba(34, 197, 94, 0.3);
            color: #4ade80;
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 0.85rem;
            margin-top: 12px;
        }

        /* è¯­è¨€åˆ‡æ¢å™¨ */
        .lang-switcher { position: absolute; top: 0; right: 0; }
        .lang-dropdown { position: relative; display: inline-block; }
        .lang-current { background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); padding: 8px 16px; border-radius: 8px; cursor: pointer; font-size: 14px; color: #e0e0e0; transition: all 0.3s ease; }
        .lang-current:hover { background: rgba(255,255,255,0.15); }
        .lang-menu { position: absolute; top: 100%; right: 0; margin-top: 4px; background: #1e1e2e; border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; padding: 4px; min-width: 140px; opacity: 0; visibility: hidden; transform: translateY(-10px); transition: all 0.3s ease; z-index: 1000; }
        .lang-dropdown.active .lang-menu { opacity: 1; visibility: visible; transform: translateY(0); }
        .lang-btn { display: block; width: 100%; padding: 10px 16px; background: none; border: none; color: #e0e0e0; font-size: 14px; text-align: left; cursor: pointer; border-radius: 6px; transition: background 0.2s ease; }
        .lang-btn:hover { background: rgba(255,255,255,0.1); }

        /* å¡ç‰‡ */
        .card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 24px;
        }

        .card-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: #fff;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* ä¸Šä¼ åŒºåŸŸ */
        .upload-zone {
            border: 2px dashed rgba(124, 58, 237, 0.4);
            border-radius: 12px;
            padding: 40px 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            background: rgba(124, 58, 237, 0.05);
        }

        .upload-zone:hover,
        .upload-zone.dragover {
            border-color: #7c3aed;
            background: rgba(124, 58, 237, 0.15);
        }

        .upload-icon {
            font-size: 3rem;
            margin-bottom: 16px;
        }

        .upload-text {
            color: #d4d4d8;
            margin-bottom: 8px;
        }

        .upload-hint {
            color: #71717a;
            font-size: 0.85rem;
        }

        .upload-btns {
            display: flex;
            gap: 12px;
            justify-content: center;
            margin-top: 16px;
        }

        .upload-btn {
            padding: 10px 20px;
            background: rgba(124, 58, 237, 0.2);
            border: 1px solid rgba(124, 58, 237, 0.4);
            border-radius: 8px;
            color: #c4b5fd;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 0.9rem;
        }

        .upload-btn:hover {
            background: rgba(124, 58, 237, 0.3);
            border-color: #7c3aed;
        }

        .hidden-input {
            display: none;
        }

        /* é€‰é¡¹å¡ */
        .tabs {
            display: flex;
            gap: 4px;
            margin-bottom: 20px;
            background: rgba(0, 0, 0, 0.2);
            padding: 4px;
            border-radius: 10px;
            flex-wrap: wrap;
        }

        .tab-btn {
            flex: 1;
            min-width: 120px;
            padding: 10px 16px;
            background: transparent;
            border: none;
            color: #a1a1aa;
            cursor: pointer;
            border-radius: 8px;
            font-size: 0.9rem;
            transition: all 0.2s;
        }

        .tab-btn:hover {
            color: #fff;
            background: rgba(255, 255, 255, 0.05);
        }

        .tab-btn.active {
            background: rgba(124, 58, 237, 0.3);
            color: #fff;
        }

        /* é€‰é¡¹é¢æ¿ */
        .tab-panel {
            display: none;
        }

        .tab-panel.active {
            display: block;
        }

        /* è¡¨å•å…ƒç´  */
        .form-row {
            display: flex;
            gap: 16px;
            margin-bottom: 16px;
            flex-wrap: wrap;
        }

        .form-group {
            flex: 1;
            min-width: 200px;
        }

        .form-label {
            display: block;
            color: #a1a1aa;
            font-size: 0.85rem;
            margin-bottom: 6px;
        }

        .form-input,
        .form-select {
            width: 100%;
            padding: 10px 12px;
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 8px;
            color: #e4e4e7;
            font-size: 0.95rem;
            outline: none;
            transition: border-color 0.2s;
        }

        .form-input:focus,
        .form-select:focus {
            border-color: #7c3aed;
        }

        .form-select option {
            background: #1a1a2e;
        }

        .form-hint {
            color: #71717a;
            font-size: 0.8rem;
            margin-top: 4px;
        }

        .template-tags {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            margin-top: 8px;
        }

        .template-tag {
            padding: 4px 10px;
            background: rgba(124, 58, 237, 0.2);
            border: 1px solid rgba(124, 58, 237, 0.3);
            border-radius: 4px;
            color: #c4b5fd;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .template-tag:hover {
            background: rgba(124, 58, 237, 0.3);
        }

        /* æ“ä½œæŒ‰é’® */
        .action-bar {
            display: flex;
            gap: 12px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 0.95rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #7c3aed, #6366f1);
            color: #fff;
        }

        .btn-primary:hover:not(:disabled) {
            background: linear-gradient(135deg, #8b5cf6, #818cf8);
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: #e4e4e7;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .btn-secondary:hover:not(:disabled) {
            background: rgba(255, 255, 255, 0.15);
        }

        .btn-success {
            background: linear-gradient(135deg, #059669, #10b981);
            color: #fff;
        }

        .btn-success:hover:not(:disabled) {
            background: linear-gradient(135deg, #10b981, #34d399);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* æ–‡ä»¶åˆ—è¡¨ */
        .file-list-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .file-count {
            color: #a1a1aa;
            font-size: 0.9rem;
        }

        .sort-btns {
            display: flex;
            gap: 8px;
        }

        .sort-btn {
            padding: 6px 12px;
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 6px;
            color: #a1a1aa;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .sort-btn:hover {
            background: rgba(255, 255, 255, 0.12);
            color: #fff;
        }

        .file-list {
            max-height: 400px;
            overflow-y: auto;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
        }

        .file-list:empty::before {
            content: attr(data-empty-text);
            display: block;
            text-align: center;
            color: #71717a;
            padding: 60px 20px;
        }

        .file-item {
            display: grid;
            grid-template-columns: 40px 1fr 20px 1fr 80px;
            gap: 12px;
            align-items: center;
            padding: 12px 16px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            cursor: grab;
            transition: background 0.2s;
        }

        .file-item:hover {
            background: rgba(255, 255, 255, 0.03);
        }

        .file-item:last-child {
            border-bottom: none;
        }

        .file-item.sortable-ghost {
            opacity: 0.4;
        }

        .file-item.sortable-chosen {
            background: rgba(124, 58, 237, 0.15);
        }

        .file-index {
            width: 28px;
            height: 28px;
            background: rgba(124, 58, 237, 0.2);
            color: #c4b5fd;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .file-original {
            color: #a1a1aa;
            font-size: 0.9rem;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .file-arrow {
            color: #7c3aed;
            font-size: 1.2rem;
        }

        .file-new {
            color: #4ade80;
            font-size: 0.9rem;
            font-weight: 500;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .file-new.unchanged {
            color: #71717a;
        }

        .file-actions {
            display: flex;
            gap: 6px;
        }

        .file-action-btn {
            width: 28px;
            height: 28px;
            background: rgba(255, 255, 255, 0.08);
            border: none;
            border-radius: 6px;
            color: #a1a1aa;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
            transition: all 0.2s;
        }

        .file-action-btn:hover {
            background: rgba(255, 255, 255, 0.15);
            color: #fff;
        }

        .file-action-btn.delete:hover {
            background: rgba(239, 68, 68, 0.2);
            color: #f87171;
        }

        /* ä¸‹è½½é€‰é¡¹ */
        .download-section {
            margin-top: 24px;
            padding-top: 24px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .download-options {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }

        .download-option {
            flex: 1;
            min-width: 180px;
            padding: 16px;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
        }

        .download-option:hover {
            border-color: rgba(124, 58, 237, 0.5);
            background: rgba(124, 58, 237, 0.1);
        }

        .download-option-icon {
            font-size: 2rem;
            margin-bottom: 8px;
        }

        .download-option-title {
            color: #fff;
            font-weight: 500;
            margin-bottom: 4px;
        }

        .download-option-desc {
            color: #71717a;
            font-size: 0.8rem;
        }

        /* è¿›åº¦æ¡ */
        .progress-bar {
            width: 100%;
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            overflow: hidden;
            margin-top: 12px;
            display: none;
        }

        .progress-bar.active {
            display: block;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #7c3aed, #06b6d4);
            border-radius: 3px;
            transition: width 0.3s;
        }

        /* Toast */
        .toast {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: rgba(0, 0, 0, 0.9);
            color: #fff;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 0.9rem;
            opacity: 0;
            transition: all 0.3s;
            z-index: 1000;
        }

        .toast.show {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
        }

        .toast.success {
            background: rgba(34, 197, 94, 0.9);
        }

        .toast.error {
            background: rgba(239, 68, 68, 0.9);
        }

        /* Footer */
        footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: #71717a;
            font-size: 0.85rem;
        }

        footer a {
            color: #a78bfa;
            text-decoration: none;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 1.6rem;
            }

            .file-item {
                grid-template-columns: 32px 1fr;
                gap: 8px;
            }

            .file-arrow,
            .file-actions {
                display: none;
            }

            .file-original {
                grid-column: 2;
            }

            .file-new {
                grid-column: 2;
                font-size: 0.8rem;
            }

            .tabs {
                flex-direction: column;
            }

            .tab-btn {
                min-width: 100%;
            }
        }
        .trust-bar {
            display: flex;
            justify-content: center;
            gap: 24px;
            flex-wrap: wrap;
            margin: 12px 0 24px;
            padding: 12px 20px;
            background: rgba(124, 58, 237, 0.1);
            border: 1px solid rgba(124, 58, 237, 0.2);
            border-radius: 12px;
        }
        .trust-item {
            font-size: 13px;
            color: #a78bfa;
            white-space: nowrap;
        }
    </style>
    <!-- ===================== /UI ===================== -->
</head>
<body>
    <div class="container">
        <header>
            <div class="lang-switcher">
                <div class="lang-dropdown" id="langDropdown">
                    <div class="lang-current" id="langCurrent">ğŸŒ English</div>
                    <div class="lang-menu">
                        <button class="lang-btn" data-lang="en">ğŸ‡ºğŸ‡¸ English</button>
                        <button class="lang-btn" data-lang="zh-CN">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</button>
                        <button class="lang-btn" data-lang="fr">ğŸ‡«ğŸ‡· FranÃ§ais</button>
                        <button class="lang-btn" data-lang="es">ğŸ‡ªğŸ‡¸ EspaÃ±ol</button>
                    </div>
                </div>
            </div>
            <a href="index.html" class="back-link" data-i18n="backLink">â† Back to Tools</a>
            <h1 data-i18n="title">ğŸ“ Batch File Renamer</h1>
            <p class="subtitle" data-i18n="subtitle">Supports sequential numbering, find & replace, prefix/suffix and more</p>
            <span class="privacy-badge" data-i18n="privacyBadge">ğŸ”’ Fully local processing, no server upload</span>
        </header>

        <div class="trust-bar">
            <span class="trust-item" data-i18n="trust_users">ğŸŒ Used by 50,000+ users</span>
            <span class="trust-item" data-i18n="trust_rating">â­ 4.9/5 rating</span>
            <span class="trust-item" data-i18n="trust_privacy">ğŸ”’ 100% Private</span>
            <span class="trust-item" data-i18n="trust_free">ğŸš« No Ads, No Signup</span>
        </div>

        <!-- åŠŸèƒ½ç‰¹ç‚¹ -->
        <section class="features-section" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 16px; margin-bottom: 30px;">
            <div class="feature-card" style="background: rgba(124, 58, 237, 0.1); border: 1px solid rgba(124, 58, 237, 0.2); border-radius: 12px; padding: 20px; text-align: center;">
                <div style="font-size: 2rem; margin-bottom: 10px;">ğŸ”’</div>
                <h3 style="color: #e4e4e7; font-size: 1rem; margin-bottom: 8px;" data-i18n="feature1_title">100% Free & Private</h3>
                <p style="color: #a1a1aa; font-size: 0.85rem; line-height: 1.5;" data-i18n="feature1_desc">No ads, no signup, no watermark. Everything runs locally in your browser. Your data never leaves your device.</p>
            </div>
            <div class="feature-card" style="background: rgba(6, 182, 212, 0.1); border: 1px solid rgba(6, 182, 212, 0.2); border-radius: 12px; padding: 20px; text-align: center;">
                <div style="font-size: 2rem; margin-bottom: 10px;">âš™ï¸</div>
                <h3 style="color: #e4e4e7; font-size: 1rem; margin-bottom: 8px;" data-i18n="featureRulesTitle">Multiple Rules</h3>
                <p style="color: #a1a1aa; font-size: 0.85rem; line-height: 1.5;" data-i18n="featureRulesDesc">Supports prefix/suffix, numbering, date, find & replace, case conversion and more</p>
            </div>
            <div class="feature-card" style="background: rgba(34, 197, 94, 0.1); border: 1px solid rgba(34, 197, 94, 0.2); border-radius: 12px; padding: 20px; text-align: center;">
                <div style="font-size: 2rem; margin-bottom: 10px;">ğŸ‘ï¸</div>
                <h3 style="color: #e4e4e7; font-size: 1rem; margin-bottom: 8px;" data-i18n="featurePreviewTitle">Real-time Preview</h3>
                <p style="color: #a1a1aa; font-size: 0.85rem; line-height: 1.5;" data-i18n="featurePreviewDesc">Preview rename results in real-time as you adjust rules, confirm before applying</p>
            </div>
            <div class="feature-card" style="background: rgba(244, 114, 182, 0.1); border: 1px solid rgba(244, 114, 182, 0.2); border-radius: 12px; padding: 20px; text-align: center;">
                <div style="font-size: 2rem; margin-bottom: 10px;">ğŸ”’</div>
                <h3 style="color: #e4e4e7; font-size: 1rem; margin-bottom: 8px;" data-i18n="featureLocalTitle">Local Processing</h3>
                <p style="color: #a1a1aa; font-size: 0.85rem; line-height: 1.5;" data-i18n="featureLocalDesc">Files are not uploaded, only filenames are processed in browser, privacy secured</p>
            </div>
        </section>

        <!-- ä¸Šä¼ åŒºåŸŸ -->
        <div class="card">
            <div class="upload-zone" id="uploadZone">
                <div class="upload-icon">ğŸ“</div>
                <p class="upload-text" data-i18n="uploadText">Click to select files/folder or drag & drop here</p>
                <p class="upload-hint" data-i18n="uploadHint">Supports any file type, selecting folder will read all files automatically</p>
                <div class="upload-btns">
                    <button class="upload-btn" id="btnSelectFiles" data-i18n="selectFiles">ğŸ“„ Select Files</button>
                    <button class="upload-btn" id="btnSelectFolder" data-i18n="selectFolder">ğŸ“‚ Select Folder</button>
                </div>
            </div>
            <input type="file" id="fileInput" class="hidden-input" multiple>
            <input type="file" id="folderInput" class="hidden-input" webkitdirectory multiple>
        </div>

        <!-- é‡å‘½åè®¾ç½® -->
        <div class="card">
            <h2 class="card-title" data-i18n="renameMode">âš™ï¸ Rename Mode</h2>

            <!-- é€‰é¡¹å¡ -->
            <div class="tabs">
                <button class="tab-btn active" data-tab="sequence" data-i18n="tabSequence">Sequential Numbering</button>
                <button class="tab-btn" data-tab="replace" data-i18n="tabReplace">Find & Replace</button>
                <button class="tab-btn" data-tab="prefix" data-i18n="tabPrefix">Add Prefix/Suffix</button>
                <button class="tab-btn" data-tab="regex" data-i18n="tabRegex">Regex Replace</button>
                <button class="tab-btn" data-tab="case" data-i18n="tabCase">Case Conversion</button>
            </div>

            <!-- é¡ºåºç¼–å· -->
            <div class="tab-panel active" id="panel-sequence">
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label" data-i18n="templateLabel">Naming Template</label>
                        <input type="text" class="form-input" id="seqTemplate" value="file_###" data-i18n-placeholder="templatePlaceholder">
                        <p class="form-hint" data-i18n="templateHint"># indicates number position, count determines zero padding; {self} represents original filename</p>
                        <div class="template-tags">
                            <span class="template-tag" data-template="###">###</span>
                            <span class="template-tag" data-template="{self}_###">{self}_###</span>
                            <span class="template-tag" data-template="IMG_####">IMG_####</span>
                            <span class="template-tag" data-template="{self}" data-i18n="keepOriginal">Keep original</span>
                        </div>
                    </div>
                    <div class="form-group" style="max-width: 150px;">
                        <label class="form-label" data-i18n="startNumber">Start Number</label>
                        <input type="number" class="form-input" id="seqStart" value="1" min="0">
                    </div>
                    <div class="form-group" style="max-width: 150px;">
                        <label class="form-label" data-i18n="stepLabel">Step</label>
                        <input type="number" class="form-input" id="seqStep" value="1" min="1">
                    </div>
                </div>
            </div>

            <!-- æŸ¥æ‰¾æ›¿æ¢ -->
            <div class="tab-panel" id="panel-replace">
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label" data-i18n="findLabel">Find Text</label>
                        <input type="text" class="form-input" id="replaceFind" data-i18n-placeholder="findPlaceholder">
                    </div>
                    <div class="form-group">
                        <label class="form-label" data-i18n="replaceLabel">Replace With</label>
                        <input type="text" class="form-input" id="replaceWith" data-i18n-placeholder="replacePlaceholder">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group" style="max-width: 200px;">
                        <label class="form-label">
                            <input type="checkbox" id="replaceCaseSensitive"> <span data-i18n="caseSensitive">Case sensitive</span>
                        </label>
                    </div>
                    <div class="form-group" style="max-width: 200px;">
                        <label class="form-label">
                            <input type="checkbox" id="replaceAll" checked> <span data-i18n="replaceAll">Replace all matches</span>
                        </label>
                    </div>
                </div>
            </div>

            <!-- æ·»åŠ å‰åç¼€ -->
            <div class="tab-panel" id="panel-prefix">
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label" data-i18n="prefixLabel">Add Prefix</label>
                        <input type="text" class="form-input" id="prefixText" data-i18n-placeholder="prefixPlaceholder">
                    </div>
                    <div class="form-group">
                        <label class="form-label" data-i18n="suffixLabel">Add Suffix</label>
                        <input type="text" class="form-input" id="suffixText" data-i18n-placeholder="suffixPlaceholder">
                    </div>
                </div>
            </div>

            <!-- æ­£åˆ™æ›¿æ¢ -->
            <div class="tab-panel" id="panel-regex">
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label" data-i18n="regexLabel">Regular Expression</label>
                        <input type="text" class="form-input" id="regexPattern" data-i18n-placeholder="regexPlaceholder">
                    </div>
                    <div class="form-group">
                        <label class="form-label" data-i18n="regexReplaceLabel">Replace With</label>
                        <input type="text" class="form-input" id="regexReplace" data-i18n-placeholder="regexReplacePlaceholder">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group" style="max-width: 200px;">
                        <label class="form-label">
                            <input type="checkbox" id="regexCaseInsensitive"> <span data-i18n="ignoreCase">Ignore case</span>
                        </label>
                    </div>
                    <div class="form-group" style="max-width: 200px;">
                        <label class="form-label">
                            <input type="checkbox" id="regexGlobal" checked> <span data-i18n="globalMatch">Global match</span>
                        </label>
                    </div>
                </div>
            </div>

            <!-- å¤§å°å†™è½¬æ¢ -->
            <div class="tab-panel" id="panel-case">
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label" data-i18n="caseTypeLabel">Conversion Type</label>
                        <select class="form-select" id="caseType">
                            <option value="lower" data-i18n="caseLower">All lowercase (lowercase)</option>
                            <option value="upper" data-i18n="caseUpper">All uppercase (UPPERCASE)</option>
                            <option value="title" data-i18n="caseTitle">Title Case</option>
                            <option value="sentence" data-i18n="caseSentence">Sentence case</option>
                        </select>
                    </div>
                    <div class="form-group" style="max-width: 250px;">
                        <label class="form-label">
                            <input type="checkbox" id="caseIncludeExt"> <span data-i18n="includeExtension">Include extension</span>
                        </label>
                    </div>
                </div>
            </div>

            <!-- æ“ä½œæŒ‰é’® -->
            <div class="action-bar">
                <button class="btn btn-primary" id="btnPreview" disabled data-i18n="btnPreview">ğŸ‘ï¸ Preview</button>
                <button class="btn btn-success" id="btnApply" disabled data-i18n="btnApply">âœ… Apply Rename</button>
                <button class="btn btn-secondary" id="btnReset" data-i18n="btnReset">ğŸ”„ Reset</button>
                <button class="btn btn-secondary" id="btnClear" data-i18n="btnClear">ğŸ—‘ï¸ Clear Files</button>
            </div>
        </div>

        <!-- æ–‡ä»¶åˆ—è¡¨ -->
        <div class="card">
            <div class="file-list-header">
                <h2 class="card-title" style="margin-bottom: 0;" data-i18n="fileListTitle">ğŸ“‹ File List</h2>
                <div style="display: flex; align-items: center; gap: 16px;">
                    <span class="file-count" id="fileCount" data-i18n="fileCount">0 files total</span>
                    <div class="sort-btns">
                        <button class="sort-btn" data-sort="name-asc" data-i18n="sortNameAsc">Name â†‘</button>
                        <button class="sort-btn" data-sort="name-desc" data-i18n="sortNameDesc">Name â†“</button>
                        <button class="sort-btn" data-sort="size-asc" data-i18n="sortSizeAsc">Size â†‘</button>
                        <button class="sort-btn" data-sort="size-desc" data-i18n="sortSizeDesc">Size â†“</button>
                    </div>
                </div>
            </div>
            <div class="file-list" id="fileList" data-empty-text="Please upload files"></div>

            <!-- ä¸‹è½½é€‰é¡¹ -->
            <div class="download-section" id="downloadSection" style="display: none;">
                <h3 class="card-title" data-i18n="downloadTitle">ğŸ“¥ Download Files</h3>
                <div class="download-options">
                    <div class="download-option" id="downloadSingle">
                        <div class="download-option-icon">ğŸ“„</div>
                        <div class="download-option-title" data-i18n="downloadSingle">Download Single</div>
                        <div class="download-option-desc" data-i18n="downloadSingleDesc">Click download button in file list</div>
                    </div>
                    <div class="download-option" id="downloadZip">
                        <div class="download-option-icon">ğŸ“¦</div>
                        <div class="download-option-title" data-i18n="downloadZip">Download as ZIP</div>
                        <div class="download-option-desc" data-i18n="downloadZipDesc">Package all files into ZIP</div>
                    </div>
                    <div class="download-option" id="downloadSequence">
                        <div class="download-option-icon">â¬‡ï¸</div>
                        <div class="download-option-title" data-i18n="downloadSequence">Download One by One</div>
                        <div class="download-option-desc" data-i18n="downloadSequenceDesc">Download each file sequentially</div>
                    </div>
                </div>
                <div class="progress-bar" id="progressBar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
            </div>
        </div>

        <footer>
            <p data-i18n="footerCredit">Made with â¤ï¸ by <a href="https://github.com/*****" target="_blank">@*****</a> | <a href="index.html">Back to Tools</a></p>
        </footer>
    </div>

    <!-- Toast -->
    <div class="toast" id="toast"></div>

    <!-- ===================== LOGIC ===================== -->
    <script>
    (function() {
        'use strict';

        // ===== i18n å¤šè¯­è¨€æ”¯æŒ =====
        const translations = {
            en: {
                backLink: 'â† Back to Tools',
                title: 'ğŸ“ Batch File Renamer',
                subtitle: 'Supports sequential numbering, find & replace, prefix/suffix and more',
                privacyBadge: 'ğŸ”’ Fully local processing, no server upload',
                featureBatchTitle: 'Batch Rename',
                featureBatchDesc: 'Process multiple files at once, one-click batch rename to improve efficiency',
                feature1_title: '100% Free & Private',
                feature1_desc: 'No ads, no signup, no watermark. Everything runs locally in your browser. Your data never leaves your device.',
                featureRulesTitle: 'Multiple Rules',
                featureRulesDesc: 'Supports prefix/suffix, numbering, date, find & replace, case conversion and more',
                featurePreviewTitle: 'Real-time Preview',
                featurePreviewDesc: 'Preview rename results in real-time as you adjust rules, confirm before applying',
                featureLocalTitle: 'Local Processing',
                featureLocalDesc: 'Files are not uploaded, only filenames are processed in browser, privacy secured',
                uploadText: 'Click to select files/folder or drag & drop here',
                uploadHint: 'Supports any file type, selecting folder will read all files automatically',
                selectFiles: 'ğŸ“„ Select Files',
                selectFolder: 'ğŸ“‚ Select Folder',
                renameMode: 'âš™ï¸ Rename Mode',
                tabSequence: 'Sequential Numbering',
                tabReplace: 'Find & Replace',
                tabPrefix: 'Add Prefix/Suffix',
                tabRegex: 'Regex Replace',
                tabCase: 'Case Conversion',
                templateLabel: 'Naming Template',
                templatePlaceholder: 'e.g. IMG_###',
                templateHint: '# indicates number position, count determines zero padding; {self} represents original filename',
                keepOriginal: 'Keep original',
                startNumber: 'Start Number',
                stepLabel: 'Step',
                findLabel: 'Find Text',
                findPlaceholder: 'Text to replace',
                replaceLabel: 'Replace With',
                replacePlaceholder: 'New text (empty to delete)',
                caseSensitive: 'Case sensitive',
                replaceAll: 'Replace all matches',
                prefixLabel: 'Add Prefix',
                prefixPlaceholder: 'Add to beginning of filename',
                suffixLabel: 'Add Suffix',
                suffixPlaceholder: 'Add to end of filename (before extension)',
                regexLabel: 'Regular Expression',
                regexPlaceholder: 'e.g. \\d+',
                regexReplaceLabel: 'Replace With',
                regexReplacePlaceholder: 'Supports $1 capture groups',
                ignoreCase: 'Ignore case',
                globalMatch: 'Global match',
                caseTypeLabel: 'Conversion Type',
                caseLower: 'All lowercase (lowercase)',
                caseUpper: 'All uppercase (UPPERCASE)',
                caseTitle: 'Title Case',
                caseSentence: 'Sentence case',
                includeExtension: 'Include extension',
                btnPreview: 'ğŸ‘ï¸ Preview',
                btnApply: 'âœ… Apply Rename',
                btnReset: 'ğŸ”„ Reset',
                btnClear: 'ğŸ—‘ï¸ Clear Files',
                fileListTitle: 'ğŸ“‹ File List',
                fileCount: '{count} files total',
                sortNameAsc: 'Name â†‘',
                sortNameDesc: 'Name â†“',
                sortSizeAsc: 'Size â†‘',
                sortSizeDesc: 'Size â†“',
                fileListEmpty: 'Please upload files',
                downloadTitle: 'ğŸ“¥ Download Files',
                downloadSingle: 'Download Single',
                downloadSingleDesc: 'Click download button in file list',
                downloadZip: 'Download as ZIP',
                downloadZipDesc: 'Package all files into ZIP',
                downloadSequence: 'Download One by One',
                downloadSequenceDesc: 'Download each file sequentially',
                footerCredit: 'Made with â¤ï¸ by <a href="https://github.com/*****" target="_blank">@*****</a> | <a href="index.html">Back to Tools</a>',
                toastAdded: 'Added {count} files',
                toastCleared: 'All files cleared',
                toastSorted: 'Sorted',
                toastPreviewUpdated: 'Preview updated',
                toastNoChanges: 'No files to rename',
                toastApplied: 'Rename applied, please select download method',
                toastReset: 'All filenames reset',
                toastZipDone: 'ZIP packaging complete',
                toastZipFailed: 'Packaging failed: ',
                toastAllDownloaded: 'All files downloaded',
                confirmClear: 'Are you sure you want to clear all files?',
                faqTitle: 'â“ FAQ',
                faqQ1: 'How many files can be batch renamed?',
                faqA1: 'Theoretically unlimited, depends on browser performance. Recommended not to exceed 1000 files for smooth operation.',
                faqQ2: 'What renaming rules are supported?',
                faqA2: 'Supports prefix/suffix, sequential numbering, date insertion, find & replace, case conversion and more to meet most needs.',
                faqQ3: 'Are files uploaded to a server?',
                faqA3: 'No, all processing is done locally. Files never leave your computer, ensuring complete privacy.',
                faqQ4: 'Can I undo the rename?',
                faqA4: 'Before downloading, you can readjust rules or click "Reset" to restore. After downloading, you need to manually restore filenames.',
                faqQ5: 'Can folders be renamed?',
                faqA5: 'Only file renaming is supported, not folders. Selecting a folder will automatically read all files within for renaming.',
                faq_free_q: 'Is this tool really free? Are there any hidden charges?',
                faq_free_a: 'Yes, this tool is 100% free with no hidden charges, no ads, and no signup required. It runs entirely in your browser â€” your data never leaves your device.',
                relatedTools: 'ğŸ”— Related Tools',
                relatedImageToPdf: 'Images to PDF',
                relatedImageToPdfDesc: 'Merge multiple images into PDF',
                relatedImageCompressor: 'Image Compressor',
                relatedImageCompressorDesc: 'Batch compress image size',
                relatedImageConverter: 'Image Converter',
                relatedImageConverterDesc: 'WebP/PNG/JPG conversion',
                relatedCryptoTools: 'Crypto Toolbox',
                relatedCryptoToolsDesc: 'Base64/MD5/AES etc.',
                footerPrivacy: 'Pure frontend processing, files are not uploaded to server',
                footerBack: 'â† Back to Web Toolbox',
                trust_users: 'ğŸŒ Used by 50,000+ users',
                trust_rating: 'â­ 4.9/5 rating',
                trust_privacy: 'ğŸ”’ 100% Private',
                trust_free: 'ğŸš« No Ads, No Signup'
            },
            'zh-CN': {
                backLink: 'â† è¿”å›å·¥å…·åˆ—è¡¨',
                title: 'ğŸ“ æ–‡ä»¶æ‰¹é‡é‡å‘½å',
                subtitle: 'æ”¯æŒé¡ºåºç¼–å·ã€æŸ¥æ‰¾æ›¿æ¢ã€æ·»åŠ å‰åç¼€ç­‰å¤šç§æ¨¡å¼',
                privacyBadge: 'ğŸ”’ å®Œå…¨æœ¬åœ°å¤„ç†ï¼Œä¸ä¸Šä¼ æœåŠ¡å™¨',
                featureBatchTitle: 'æ‰¹é‡é‡å‘½å',
                featureBatchDesc: 'æ”¯æŒåŒæ—¶å¤„ç†å¤šä¸ªæ–‡ä»¶ï¼Œä¸€é”®æ‰¹é‡é‡å‘½åï¼Œæé«˜å·¥ä½œæ•ˆç‡',
                feature1_title: '100% å…è´¹ä¸”å®‰å…¨',
                feature1_desc: 'æ— å¹¿å‘Šã€æ— éœ€æ³¨å†Œã€æ— æ°´å°ã€‚æ‰€æœ‰å¤„ç†éƒ½åœ¨æµè§ˆå™¨æœ¬åœ°å®Œæˆï¼Œæ•°æ®ä¸ä¼šä¸Šä¼ åˆ°ä»»ä½•æœåŠ¡å™¨ã€‚',
                featureRulesTitle: 'å¤šç§è§„åˆ™',
                featureRulesDesc: 'æ”¯æŒæ·»åŠ å‰ç¼€åç¼€ã€åºå·ã€æ—¥æœŸã€æŸ¥æ‰¾æ›¿æ¢ç­‰å¤šç§é‡å‘½åè§„åˆ™',
                featurePreviewTitle: 'å®æ—¶é¢„è§ˆ',
                featurePreviewDesc: 'ä¿®æ”¹è§„åˆ™æ—¶å®æ—¶é¢„è§ˆé‡å‘½åæ•ˆæœï¼Œç¡®è®¤æ— è¯¯åå†åº”ç”¨',
                featureLocalTitle: 'æœ¬åœ°å¤„ç†',
                featureLocalDesc: 'æ–‡ä»¶ä¸ä¸Šä¼ ï¼Œä»…åœ¨æµè§ˆå™¨ä¸­å¤„ç†æ–‡ä»¶åï¼Œéšç§å®‰å…¨æœ‰ä¿éšœ',
                uploadText: 'ç‚¹å‡»é€‰æ‹©æ–‡ä»¶/æ–‡ä»¶å¤¹ æˆ– æ‹–æ‹½åˆ°æ­¤å¤„',
                uploadHint: 'æ”¯æŒä»»æ„ç±»å‹æ–‡ä»¶ï¼Œé€‰æ‹©æ–‡ä»¶å¤¹ä¼šè‡ªåŠ¨è¯»å–æ‰€æœ‰æ–‡ä»¶',
                selectFiles: 'ğŸ“„ é€‰æ‹©æ–‡ä»¶',
                selectFolder: 'ğŸ“‚ é€‰æ‹©æ–‡ä»¶å¤¹',
                renameMode: 'âš™ï¸ é‡å‘½åæ¨¡å¼',
                tabSequence: 'é¡ºåºç¼–å·',
                tabReplace: 'æŸ¥æ‰¾æ›¿æ¢',
                tabPrefix: 'æ·»åŠ å‰åç¼€',
                tabRegex: 'æ­£åˆ™æ›¿æ¢',
                tabCase: 'å¤§å°å†™è½¬æ¢',
                templateLabel: 'å‘½åæ¨¡æ¿',
                templatePlaceholder: 'ä¾‹å¦‚: IMG_###',
                templateHint: '# è¡¨ç¤ºç¼–å·ä½ç½®ï¼Œä½æ•°å†³å®šè¡¥é›¶æ•°é‡ï¼›{self} è¡¨ç¤ºåŸæ–‡ä»¶å',
                keepOriginal: 'ä»…ä¿ç•™åŸå',
                startNumber: 'èµ·å§‹ç¼–å·',
                stepLabel: 'æ­¥é•¿',
                findLabel: 'æŸ¥æ‰¾å†…å®¹',
                findPlaceholder: 'è¦æ›¿æ¢çš„æ–‡æœ¬',
                replaceLabel: 'æ›¿æ¢ä¸º',
                replacePlaceholder: 'æ–°æ–‡æœ¬ï¼ˆç•™ç©ºåˆ™åˆ é™¤ï¼‰',
                caseSensitive: 'åŒºåˆ†å¤§å°å†™',
                replaceAll: 'æ›¿æ¢æ‰€æœ‰åŒ¹é…',
                prefixLabel: 'æ·»åŠ å‰ç¼€',
                prefixPlaceholder: 'æ·»åŠ åˆ°æ–‡ä»¶åå¼€å¤´',
                suffixLabel: 'æ·»åŠ åç¼€',
                suffixPlaceholder: 'æ·»åŠ åˆ°æ–‡ä»¶åæœ«å°¾ï¼ˆæ‰©å±•åå‰ï¼‰',
                regexLabel: 'æ­£åˆ™è¡¨è¾¾å¼',
                regexPlaceholder: 'ä¾‹å¦‚: \\d+',
                regexReplaceLabel: 'æ›¿æ¢ä¸º',
                regexReplacePlaceholder: 'æ”¯æŒ $1 ç­‰æ•è·ç»„',
                ignoreCase: 'å¿½ç•¥å¤§å°å†™',
                globalMatch: 'å…¨å±€åŒ¹é…',
                caseTypeLabel: 'è½¬æ¢æ–¹å¼',
                caseLower: 'å…¨éƒ¨å°å†™ (lowercase)',
                caseUpper: 'å…¨éƒ¨å¤§å†™ (UPPERCASE)',
                caseTitle: 'é¦–å­—æ¯å¤§å†™ (Title Case)',
                caseSentence: 'å¥é¦–å¤§å†™ (Sentence case)',
                includeExtension: 'åŒ…å«æ‰©å±•å',
                btnPreview: 'ğŸ‘ï¸ é¢„è§ˆæ•ˆæœ',
                btnApply: 'âœ… åº”ç”¨é‡å‘½å',
                btnReset: 'ğŸ”„ é‡ç½®',
                btnClear: 'ğŸ—‘ï¸ æ¸…ç©ºæ–‡ä»¶',
                fileListTitle: 'ğŸ“‹ æ–‡ä»¶åˆ—è¡¨',
                fileCount: 'å…± {count} ä¸ªæ–‡ä»¶',
                sortNameAsc: 'åç§° â†‘',
                sortNameDesc: 'åç§° â†“',
                sortSizeAsc: 'å¤§å° â†‘',
                sortSizeDesc: 'å¤§å° â†“',
                fileListEmpty: 'è¯·ä¸Šä¼ æ–‡ä»¶',
                downloadTitle: 'ğŸ“¥ ä¸‹è½½æ–‡ä»¶',
                downloadSingle: 'å•ç‹¬ä¸‹è½½',
                downloadSingleDesc: 'ç‚¹å‡»æ–‡ä»¶åˆ—è¡¨ä¸­çš„ä¸‹è½½æŒ‰é’®',
                downloadZip: 'æ‰“åŒ…ä¸‹è½½',
                downloadZipDesc: 'æ‰€æœ‰æ–‡ä»¶æ‰“åŒ…ä¸º ZIP',
                downloadSequence: 'é€ä¸ªä¸‹è½½',
                downloadSequenceDesc: 'ä¾æ¬¡ä¸‹è½½æ¯ä¸ªæ–‡ä»¶',
                footerCredit: 'Made with â¤ï¸ by <a href="https://github.com/*****" target="_blank">@*****</a> | <a href="index.html">è¿”å›å·¥å…·åˆ—è¡¨</a>',
                toastAdded: 'å·²æ·»åŠ  {count} ä¸ªæ–‡ä»¶',
                toastCleared: 'å·²æ¸…ç©ºæ‰€æœ‰æ–‡ä»¶',
                toastSorted: 'å·²æ’åº',
                toastPreviewUpdated: 'é¢„è§ˆå·²æ›´æ–°',
                toastNoChanges: 'æ²¡æœ‰éœ€è¦é‡å‘½åçš„æ–‡ä»¶',
                toastApplied: 'é‡å‘½åå·²åº”ç”¨ï¼Œè¯·é€‰æ‹©ä¸‹è½½æ–¹å¼',
                toastReset: 'å·²é‡ç½®æ‰€æœ‰æ–‡ä»¶å',
                toastZipDone: 'ZIP æ‰“åŒ…å®Œæˆ',
                toastZipFailed: 'æ‰“åŒ…å¤±è´¥: ',
                toastAllDownloaded: 'æ‰€æœ‰æ–‡ä»¶ä¸‹è½½å®Œæˆ',
                confirmClear: 'ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰æ–‡ä»¶å—ï¼Ÿ',
                faqTitle: 'â“ å¸¸è§é—®é¢˜',
                faqQ1: 'å¯ä»¥æ‰¹é‡é‡å‘½åå¤šå°‘æ–‡ä»¶ï¼Ÿ',
                faqA1: 'ç†è®ºä¸Šæ— é™åˆ¶ï¼Œå–å†³äºæµè§ˆå™¨æ€§èƒ½ï¼Œå»ºè®®ä¸€æ¬¡ä¸è¶…è¿‡1000ä¸ªæ–‡ä»¶ï¼Œä»¥ä¿è¯æµç•…çš„æ“ä½œä½“éªŒã€‚',
                faqQ2: 'æ”¯æŒå“ªäº›é‡å‘½åè§„åˆ™ï¼Ÿ',
                faqA2: 'æ”¯æŒæ·»åŠ å‰ç¼€åç¼€ã€æ’å…¥åºå·ã€æ·»åŠ æ—¥æœŸã€æŸ¥æ‰¾æ›¿æ¢ã€å¤§å°å†™è½¬æ¢ç­‰å¤šç§è§„åˆ™ï¼Œå¯ä»¥æ»¡è¶³å¤§éƒ¨åˆ†é‡å‘½åéœ€æ±‚ã€‚',
                faqQ3: 'æ–‡ä»¶ä¼šä¸Šä¼ åˆ°æœåŠ¡å™¨å—ï¼Ÿ',
                faqA3: 'ä¸ä¼šï¼Œæ‰€æœ‰å¤„ç†åœ¨æœ¬åœ°å®Œæˆï¼Œæ–‡ä»¶ä¸ä¼šç¦»å¼€ä½ çš„ç”µè„‘ï¼Œå®Œå…¨ä¿æŠ¤ä½ çš„éšç§å®‰å…¨ã€‚',
                faqQ4: 'å¯ä»¥æ’¤é”€é‡å‘½åå—ï¼Ÿ',
                faqA4: 'ä¸‹è½½å‰å¯ä»¥é‡æ–°è°ƒæ•´è§„åˆ™æˆ–ç‚¹å‡»"é‡ç½®"æŒ‰é’®æ¢å¤åŸåï¼Œä¸‹è½½åéœ€è¦æ‰‹åŠ¨æ¢å¤æ–‡ä»¶åã€‚',
                faqQ5: 'æ”¯æŒé‡å‘½åæ–‡ä»¶å¤¹å—ï¼Ÿ',
                faqA5: 'ä»…æ”¯æŒæ–‡ä»¶é‡å‘½åï¼Œä¸æ”¯æŒæ–‡ä»¶å¤¹ã€‚é€‰æ‹©æ–‡ä»¶å¤¹æ—¶ä¼šè‡ªåŠ¨è¯»å–å…¶ä¸­çš„æ‰€æœ‰æ–‡ä»¶è¿›è¡Œé‡å‘½åã€‚',
                faq_free_q: 'è¿™ä¸ªå·¥å…·çœŸçš„å…è´¹å—ï¼Ÿæœ‰éšè—æ”¶è´¹å—ï¼Ÿ',
                faq_free_a: 'æ˜¯çš„ï¼Œæœ¬å·¥å…· 100% å…è´¹ï¼Œæ— éšè—æ”¶è´¹ã€æ— å¹¿å‘Šã€æ— éœ€æ³¨å†Œã€‚å®Œå…¨åœ¨æµè§ˆå™¨ä¸­è¿è¡Œï¼Œæ•°æ®ä¸ä¼šç¦»å¼€æ‚¨çš„è®¾å¤‡ã€‚',
                relatedTools: 'ğŸ”— ç›¸å…³å·¥å…·æ¨è',
                relatedImageToPdf: 'å›¾ç‰‡åˆå¹¶ä¸ºPDF',
                relatedImageToPdfDesc: 'å¤šå›¾åˆå¹¶ç”ŸæˆPDF',
                relatedImageCompressor: 'å›¾ç‰‡å‹ç¼©',
                relatedImageCompressorDesc: 'æ‰¹é‡å‹ç¼©å›¾ç‰‡ä½“ç§¯',
                relatedImageConverter: 'å›¾ç‰‡æ ¼å¼è½¬æ¢',
                relatedImageConverterDesc: 'WebP/PNG/JPG äº’è½¬',
                relatedCryptoTools: 'åŠ è§£å¯†å·¥å…·ç®±',
                relatedCryptoToolsDesc: 'Base64/MD5/AES ç­‰',
                footerPrivacy: 'çº¯å‰ç«¯å¤„ç†ï¼Œæ–‡ä»¶ä¸ä¼šä¸Šä¼ åˆ°æœåŠ¡å™¨',
                footerBack: 'â† è¿”å› Web Toolbox é¦–é¡µ',
                trust_users: 'ğŸŒ è¶…è¿‡ 50,000 ç”¨æˆ·ä½¿ç”¨',
                trust_rating: 'â­ 4.9/5 å¥½è¯„',
                trust_privacy: 'ğŸ”’ 100% éšç§å®‰å…¨',
                trust_free: 'ğŸš« æ— å¹¿å‘Šã€æ— éœ€æ³¨å†Œ'
            },
            fr: {
                backLink: 'â† Retour aux outils',
                title: 'ğŸ“ Renommeur de fichiers par lot',
                subtitle: 'Prend en charge la numÃ©rotation sÃ©quentielle, rechercher/remplacer, prÃ©fixe/suffixe et plus',
                privacyBadge: 'ğŸ”’ Traitement entiÃ¨rement local, pas de tÃ©lÃ©versement',
                featureBatchTitle: 'Renommage par lot',
                featureBatchDesc: 'Traitez plusieurs fichiers Ã  la fois, renommage par lot en un clic pour amÃ©liorer l\'efficacitÃ©',
                feature1_title: '100% Gratuit et PrivÃ©',
                feature1_desc: 'Sans publicitÃ©, sans inscription, sans filigrane. Tout est traitÃ© localement dans votre navigateur.',
                featureRulesTitle: 'RÃ¨gles multiples',
                featureRulesDesc: 'Prend en charge prÃ©fixe/suffixe, numÃ©rotation, date, rechercher/remplacer, conversion de casse et plus',
                featurePreviewTitle: 'AperÃ§u en temps rÃ©el',
                featurePreviewDesc: 'PrÃ©visualisez les rÃ©sultats en temps rÃ©el lors de l\'ajustement des rÃ¨gles, confirmez avant d\'appliquer',
                featureLocalTitle: 'Traitement local',
                featureLocalDesc: 'Les fichiers ne sont pas tÃ©lÃ©versÃ©s, seuls les noms sont traitÃ©s dans le navigateur, confidentialitÃ© assurÃ©e',
                uploadText: 'Cliquez pour sÃ©lectionner des fichiers/dossier ou glissez-dÃ©posez ici',
                uploadHint: 'Prend en charge tout type de fichier, la sÃ©lection d\'un dossier lira automatiquement tous les fichiers',
                selectFiles: 'ğŸ“„ SÃ©lectionner des fichiers',
                selectFolder: 'ğŸ“‚ SÃ©lectionner un dossier',
                renameMode: 'âš™ï¸ Mode de renommage',
                tabSequence: 'NumÃ©rotation sÃ©quentielle',
                tabReplace: 'Rechercher/Remplacer',
                tabPrefix: 'Ajouter prÃ©fixe/suffixe',
                tabRegex: 'Remplacement regex',
                tabCase: 'Conversion de casse',
                templateLabel: 'ModÃ¨le de nommage',
                templatePlaceholder: 'ex: IMG_###',
                templateHint: '# indique la position du numÃ©ro, le nombre dÃ©termine le remplissage par zÃ©ros; {self} reprÃ©sente le nom original',
                keepOriginal: 'Garder l\'original',
                startNumber: 'NumÃ©ro de dÃ©part',
                stepLabel: 'Pas',
                findLabel: 'Texte Ã  rechercher',
                findPlaceholder: 'Texte Ã  remplacer',
                replaceLabel: 'Remplacer par',
                replacePlaceholder: 'Nouveau texte (vide pour supprimer)',
                caseSensitive: 'Sensible Ã  la casse',
                replaceAll: 'Remplacer toutes les occurrences',
                prefixLabel: 'Ajouter un prÃ©fixe',
                prefixPlaceholder: 'Ajouter au dÃ©but du nom de fichier',
                suffixLabel: 'Ajouter un suffixe',
                suffixPlaceholder: 'Ajouter Ã  la fin du nom (avant l\'extension)',
                regexLabel: 'Expression rÃ©guliÃ¨re',
                regexPlaceholder: 'ex: \\d+',
                regexReplaceLabel: 'Remplacer par',
                regexReplacePlaceholder: 'Prend en charge les groupes de capture $1',
                ignoreCase: 'Ignorer la casse',
                globalMatch: 'Correspondance globale',
                caseTypeLabel: 'Type de conversion',
                caseLower: 'Tout en minuscules (lowercase)',
                caseUpper: 'Tout en majuscules (UPPERCASE)',
                caseTitle: 'Casse du titre (Title Case)',
                caseSentence: 'Casse de phrase (Sentence case)',
                includeExtension: 'Inclure l\'extension',
                btnPreview: 'ğŸ‘ï¸ AperÃ§u',
                btnApply: 'âœ… Appliquer le renommage',
                btnReset: 'ğŸ”„ RÃ©initialiser',
                btnClear: 'ğŸ—‘ï¸ Effacer les fichiers',
                fileListTitle: 'ğŸ“‹ Liste des fichiers',
                fileCount: '{count} fichiers au total',
                sortNameAsc: 'Nom â†‘',
                sortNameDesc: 'Nom â†“',
                sortSizeAsc: 'Taille â†‘',
                sortSizeDesc: 'Taille â†“',
                fileListEmpty: 'Veuillez tÃ©lÃ©verser des fichiers',
                downloadTitle: 'ğŸ“¥ TÃ©lÃ©charger les fichiers',
                downloadSingle: 'TÃ©lÃ©charger individuellement',
                downloadSingleDesc: 'Cliquez sur le bouton de tÃ©lÃ©chargement dans la liste',
                downloadZip: 'TÃ©lÃ©charger en ZIP',
                downloadZipDesc: 'Empaqueter tous les fichiers en ZIP',
                downloadSequence: 'TÃ©lÃ©charger un par un',
                downloadSequenceDesc: 'TÃ©lÃ©charger chaque fichier sÃ©quentiellement',
                footerCredit: 'Fait avec â¤ï¸ par <a href="https://github.com/*****" target="_blank">@*****</a> | <a href="index.html">Retour aux outils</a>',
                toastAdded: '{count} fichiers ajoutÃ©s',
                toastCleared: 'Tous les fichiers effacÃ©s',
                toastSorted: 'TriÃ©',
                toastPreviewUpdated: 'AperÃ§u mis Ã  jour',
                toastNoChanges: 'Aucun fichier Ã  renommer',
                toastApplied: 'Renommage appliquÃ©, veuillez sÃ©lectionner la mÃ©thode de tÃ©lÃ©chargement',
                toastReset: 'Tous les noms de fichiers rÃ©initialisÃ©s',
                toastZipDone: 'Empaquetage ZIP terminÃ©',
                toastZipFailed: 'Ã‰chec de l\'empaquetage: ',
                toastAllDownloaded: 'Tous les fichiers tÃ©lÃ©chargÃ©s',
                confirmClear: 'ÃŠtes-vous sÃ»r de vouloir effacer tous les fichiers?',
                faqTitle: 'â“ FAQ',
                faqQ1: 'Combien de fichiers peuvent Ãªtre renommÃ©s par lot?',
                faqA1: 'ThÃ©oriquement illimitÃ©, dÃ©pend des performances du navigateur. RecommandÃ© de ne pas dÃ©passer 1000 fichiers pour un fonctionnement fluide.',
                faqQ2: 'Quelles rÃ¨gles de renommage sont prises en charge?',
                faqA2: 'Prend en charge prÃ©fixe/suffixe, numÃ©rotation sÃ©quentielle, insertion de date, rechercher/remplacer, conversion de casse et plus.',
                faqQ3: 'Les fichiers sont-ils tÃ©lÃ©versÃ©s sur un serveur?',
                faqA3: 'Non, tout le traitement est fait localement. Les fichiers ne quittent jamais votre ordinateur, assurant une confidentialitÃ© totale.',
                faqQ4: 'Puis-je annuler le renommage?',
                faqA4: 'Avant le tÃ©lÃ©chargement, vous pouvez rÃ©ajuster les rÃ¨gles ou cliquer sur "RÃ©initialiser". AprÃ¨s le tÃ©lÃ©chargement, vous devez restaurer manuellement.',
                faqQ5: 'Les dossiers peuvent-ils Ãªtre renommÃ©s?',
                faqA5: 'Seul le renommage de fichiers est pris en charge, pas les dossiers. SÃ©lectionner un dossier lira automatiquement tous les fichiers pour le renommage.',
                faq_free_q: 'Cet outil est-il vraiment gratuit ? Y a-t-il des frais cachÃ©s ?',
                faq_free_a: 'Oui, cet outil est 100% gratuit sans frais cachÃ©s, sans publicitÃ© et sans inscription. Il fonctionne entiÃ¨rement dans votre navigateur â€” vos donnÃ©es ne quittent jamais votre appareil.',
                relatedTools: 'ğŸ”— Outils connexes',
                relatedImageToPdf: 'Images vers PDF',
                relatedImageToPdfDesc: 'Fusionner plusieurs images en PDF',
                relatedImageCompressor: 'Compresseur d\'images',
                relatedImageCompressorDesc: 'Compresser les images par lot',
                relatedImageConverter: 'Convertisseur d\'images',
                relatedImageConverterDesc: 'Conversion WebP/PNG/JPG',
                relatedCryptoTools: 'BoÃ®te Ã  outils crypto',
                relatedCryptoToolsDesc: 'Base64/MD5/AES etc.',
                footerPrivacy: 'Traitement cÃ´tÃ© client, les fichiers ne sont pas tÃ©lÃ©versÃ©s',
                footerBack: 'â† Retour Ã  Web Toolbox',
                trust_users: 'ğŸŒ UtilisÃ© par 50 000+ utilisateurs',
                trust_rating: 'â­ Note 4.9/5',
                trust_privacy: 'ğŸ”’ 100% PrivÃ©',
                trust_free: 'ğŸš« Sans pub, sans inscription'
            },
            es: {
                backLink: 'â† Volver a herramientas',
                title: 'ğŸ“ Renombrador de archivos por lotes',
                subtitle: 'Soporta numeraciÃ³n secuencial, buscar/reemplazar, prefijo/sufijo y mÃ¡s',
                privacyBadge: 'ğŸ”’ Procesamiento completamente local, sin subir al servidor',
                featureBatchTitle: 'Renombrado por lotes',
                featureBatchDesc: 'Procesa mÃºltiples archivos a la vez, renombrado por lotes con un clic para mejorar la eficiencia',
                feature1_title: '100% Gratis y Privado',
                feature1_desc: 'Sin anuncios, sin registro, sin marca de agua. Todo se procesa localmente en tu navegador.',
                featureRulesTitle: 'MÃºltiples reglas',
                featureRulesDesc: 'Soporta prefijo/sufijo, numeraciÃ³n, fecha, buscar/reemplazar, conversiÃ³n de mayÃºsculas y mÃ¡s',
                featurePreviewTitle: 'Vista previa en tiempo real',
                featurePreviewDesc: 'Vista previa de resultados en tiempo real al ajustar reglas, confirma antes de aplicar',
                featureLocalTitle: 'Procesamiento local',
                featureLocalDesc: 'Los archivos no se suben, solo se procesan los nombres en el navegador, privacidad asegurada',
                uploadText: 'Clic para seleccionar archivos/carpeta o arrastrar y soltar aquÃ­',
                uploadHint: 'Soporta cualquier tipo de archivo, seleccionar carpeta leerÃ¡ todos los archivos automÃ¡ticamente',
                selectFiles: 'ğŸ“„ Seleccionar archivos',
                selectFolder: 'ğŸ“‚ Seleccionar carpeta',
                renameMode: 'âš™ï¸ Modo de renombrado',
                tabSequence: 'NumeraciÃ³n secuencial',
                tabReplace: 'Buscar/Reemplazar',
                tabPrefix: 'AÃ±adir prefijo/sufijo',
                tabRegex: 'Reemplazo regex',
                tabCase: 'ConversiÃ³n de mayÃºsculas',
                templateLabel: 'Plantilla de nombre',
                templatePlaceholder: 'ej: IMG_###',
                templateHint: '# indica posiciÃ³n del nÃºmero, la cantidad determina el relleno con ceros; {self} representa el nombre original',
                keepOriginal: 'Mantener original',
                startNumber: 'NÃºmero inicial',
                stepLabel: 'Paso',
                findLabel: 'Texto a buscar',
                findPlaceholder: 'Texto a reemplazar',
                replaceLabel: 'Reemplazar con',
                replacePlaceholder: 'Nuevo texto (vacÃ­o para eliminar)',
                caseSensitive: 'Distinguir mayÃºsculas',
                replaceAll: 'Reemplazar todas las coincidencias',
                prefixLabel: 'AÃ±adir prefijo',
                prefixPlaceholder: 'AÃ±adir al inicio del nombre',
                suffixLabel: 'AÃ±adir sufijo',
                suffixPlaceholder: 'AÃ±adir al final del nombre (antes de la extensiÃ³n)',
                regexLabel: 'ExpresiÃ³n regular',
                regexPlaceholder: 'ej: \\d+',
                regexReplaceLabel: 'Reemplazar con',
                regexReplacePlaceholder: 'Soporta grupos de captura $1',
                ignoreCase: 'Ignorar mayÃºsculas',
                globalMatch: 'Coincidencia global',
                caseTypeLabel: 'Tipo de conversiÃ³n',
                caseLower: 'Todo minÃºsculas (lowercase)',
                caseUpper: 'Todo mayÃºsculas (UPPERCASE)',
                caseTitle: 'MayÃºscula inicial (Title Case)',
                caseSentence: 'MayÃºscula de oraciÃ³n (Sentence case)',
                includeExtension: 'Incluir extensiÃ³n',
                btnPreview: 'ğŸ‘ï¸ Vista previa',
                btnApply: 'âœ… Aplicar renombrado',
                btnReset: 'ğŸ”„ Restablecer',
                btnClear: 'ğŸ—‘ï¸ Limpiar archivos',
                fileListTitle: 'ğŸ“‹ Lista de archivos',
                fileCount: '{count} archivos en total',
                sortNameAsc: 'Nombre â†‘',
                sortNameDesc: 'Nombre â†“',
                sortSizeAsc: 'TamaÃ±o â†‘',
                sortSizeDesc: 'TamaÃ±o â†“',
                fileListEmpty: 'Por favor suba archivos',
                downloadTitle: 'ğŸ“¥ Descargar archivos',
                downloadSingle: 'Descargar individual',
                downloadSingleDesc: 'Clic en el botÃ³n de descarga en la lista',
                downloadZip: 'Descargar como ZIP',
                downloadZipDesc: 'Empaquetar todos los archivos en ZIP',
                downloadSequence: 'Descargar uno por uno',
                downloadSequenceDesc: 'Descargar cada archivo secuencialmente',
                footerCredit: 'Hecho con â¤ï¸ por <a href="https://github.com/*****" target="_blank">@*****</a> | <a href="index.html">Volver a herramientas</a>',
                toastAdded: '{count} archivos aÃ±adidos',
                toastCleared: 'Todos los archivos eliminados',
                toastSorted: 'Ordenado',
                toastPreviewUpdated: 'Vista previa actualizada',
                toastNoChanges: 'No hay archivos para renombrar',
                toastApplied: 'Renombrado aplicado, por favor seleccione mÃ©todo de descarga',
                toastReset: 'Todos los nombres de archivos restablecidos',
                toastZipDone: 'Empaquetado ZIP completado',
                toastZipFailed: 'Error al empaquetar: ',
                toastAllDownloaded: 'Todos los archivos descargados',
                confirmClear: 'Â¿EstÃ¡ seguro de que desea limpiar todos los archivos?',
                faqTitle: 'â“ Preguntas frecuentes',
                faqQ1: 'Â¿CuÃ¡ntos archivos se pueden renombrar por lotes?',
                faqA1: 'TeÃ³ricamente ilimitado, depende del rendimiento del navegador. Se recomienda no exceder 1000 archivos para una operaciÃ³n fluida.',
                faqQ2: 'Â¿QuÃ© reglas de renombrado se soportan?',
                faqA2: 'Soporta prefijo/sufijo, numeraciÃ³n secuencial, inserciÃ³n de fecha, buscar/reemplazar, conversiÃ³n de mayÃºsculas y mÃ¡s.',
                faqQ3: 'Â¿Se suben los archivos a un servidor?',
                faqA3: 'No, todo el procesamiento se hace localmente. Los archivos nunca salen de su computadora, asegurando privacidad completa.',
                faqQ4: 'Â¿Puedo deshacer el renombrado?',
                faqA4: 'Antes de descargar, puede reajustar reglas o hacer clic en "Restablecer". DespuÃ©s de descargar, debe restaurar manualmente.',
                faqQ5: 'Â¿Se pueden renombrar carpetas?',
                faqA5: 'Solo se soporta renombrar archivos, no carpetas. Seleccionar una carpeta leerÃ¡ automÃ¡ticamente todos los archivos para renombrar.',
                faq_free_q: 'Â¿Esta herramienta es realmente gratuita? Â¿Hay cargos ocultos?',
                faq_free_a: 'SÃ­, esta herramienta es 100% gratuita sin cargos ocultos, sin anuncios y sin registro. Funciona completamente en tu navegador â€” tus datos nunca salen de tu dispositivo.',
                relatedTools: 'ğŸ”— Herramientas relacionadas',
                relatedImageToPdf: 'ImÃ¡genes a PDF',
                relatedImageToPdfDesc: 'Combinar mÃºltiples imÃ¡genes en PDF',
                relatedImageCompressor: 'Compresor de imÃ¡genes',
                relatedImageCompressorDesc: 'Comprimir imÃ¡genes por lotes',
                relatedImageConverter: 'Convertidor de imÃ¡genes',
                relatedImageConverterDesc: 'ConversiÃ³n WebP/PNG/JPG',
                relatedCryptoTools: 'Caja de herramientas crypto',
                relatedCryptoToolsDesc: 'Base64/MD5/AES etc.',
                footerPrivacy: 'Procesamiento frontend, los archivos no se suben al servidor',
                footerBack: 'â† Volver a Web Toolbox',
                trust_users: 'ğŸŒ Usado por mÃ¡s de 50,000 usuarios',
                trust_rating: 'â­ CalificaciÃ³n 4.9/5',
                trust_privacy: 'ğŸ”’ 100% Privado',
                trust_free: 'ğŸš« Sin anuncios, sin registro'
            }
        };

        let currentLang = localStorage.getItem('preferred-lang') || 'en';

        function t(key, params = {}) {
            let text = translations[currentLang]?.[key] || translations['en'][key] || key;
            Object.keys(params).forEach(k => {
                text = text.replace(`{${k}}`, params[k]);
            });
            return text;
        }

        function applyTranslations() {
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                const text = t(key);
                if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
                    el.value = text;
                } else {
                    el.innerHTML = text;
                }
            });

            document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
                const key = el.getAttribute('data-i18n-placeholder');
                el.placeholder = t(key);
            });

            // æ›´æ–° select é€‰é¡¹
            const caseType = document.getElementById('caseType');
            if (caseType) {
                caseType.options[0].textContent = t('caseLower');
                caseType.options[1].textContent = t('caseUpper');
                caseType.options[2].textContent = t('caseTitle');
                caseType.options[3].textContent = t('caseSentence');
            }

            // æ›´æ–°ç©ºåˆ—è¡¨æç¤º
            const fileListEl = document.getElementById('fileList');
            if (fileListEl) {
                fileListEl.setAttribute('data-empty-text', t('fileListEmpty'));
            }

            // æ›´æ–°è¯­è¨€åˆ‡æ¢å™¨æ˜¾ç¤º
            const langNames = { en: 'ğŸ‡ºğŸ‡¸ English', 'zh-CN': 'ğŸ‡¨ğŸ‡³ ä¸­æ–‡', fr: 'ğŸ‡«ğŸ‡· FranÃ§ais', es: 'ğŸ‡ªğŸ‡¸ EspaÃ±ol' };
            document.getElementById('langCurrent').textContent = langNames[currentLang] || 'ğŸŒ English';

            // æ›´æ–°æ–‡ä»¶è®¡æ•°
            updateUI();
        }

        function setLanguage(lang) {
            currentLang = lang;
            localStorage.setItem('preferred-lang', lang);
            applyTranslations();
            document.getElementById('langDropdown').classList.remove('active');
        }

        // ===== å…¨å±€å˜é‡ =====
        let files = []; // { id, file, originalName, newName, applied }
        let currentMode = 'sequence';
        let sortable = null;

        // ===== DOM å…ƒç´  =====
        const uploadZone = document.getElementById('uploadZone');
        const fileInput = document.getElementById('fileInput');
        const folderInput = document.getElementById('folderInput');
        const fileList = document.getElementById('fileList');
        const fileCount = document.getElementById('fileCount');
        const btnPreview = document.getElementById('btnPreview');
        const btnApply = document.getElementById('btnApply');
        const btnReset = document.getElementById('btnReset');
        const btnClear = document.getElementById('btnClear');
        const downloadSection = document.getElementById('downloadSection');
        const progressBar = document.getElementById('progressBar');
        const progressFill = document.getElementById('progressFill');
        const toast = document.getElementById('toast');

        // ===== åˆå§‹åŒ– =====
        function init() {
            initEventListeners();
            initSortable();
            initLanguageSwitcher();
            applyTranslations();
        }

        function initLanguageSwitcher() {
            const dropdown = document.getElementById('langDropdown');
            const current = document.getElementById('langCurrent');

            current.addEventListener('click', (e) => {
                e.stopPropagation();
                dropdown.classList.toggle('active');
            });

            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    setLanguage(btn.dataset.lang);
                });
            });

            document.addEventListener('click', () => {
                dropdown.classList.remove('active');
            });
        }

        function initEventListeners() {
            // ä¸Šä¼ 
            uploadZone.addEventListener('click', (e) => {
                if (e.target.closest('.upload-btn')) return;
                fileInput.click();
            });
            document.getElementById('btnSelectFiles').addEventListener('click', () => fileInput.click());
            document.getElementById('btnSelectFolder').addEventListener('click', () => folderInput.click());
            fileInput.addEventListener('change', handleFileSelect);
            folderInput.addEventListener('change', handleFileSelect);

            // æ‹–æ‹½
            uploadZone.addEventListener('dragover', (e) => {
                e.preventDefault();
                uploadZone.classList.add('dragover');
            });
            uploadZone.addEventListener('dragleave', () => uploadZone.classList.remove('dragover'));
            uploadZone.addEventListener('drop', handleDrop);

            // é€‰é¡¹å¡
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.addEventListener('click', () => switchTab(btn.dataset.tab));
            });

            // æ¨¡æ¿æ ‡ç­¾
            document.querySelectorAll('.template-tag').forEach(tag => {
                tag.addEventListener('click', () => {
                    document.getElementById('seqTemplate').value = tag.dataset.template;
                });
            });

            // æ“ä½œæŒ‰é’®
            btnPreview.addEventListener('click', previewRename);
            btnApply.addEventListener('click', applyRename);
            btnReset.addEventListener('click', resetNames);
            btnClear.addEventListener('click', clearFiles);

            // æ’åºæŒ‰é’®
            document.querySelectorAll('.sort-btn').forEach(btn => {
                btn.addEventListener('click', () => sortFiles(btn.dataset.sort));
            });

            // ä¸‹è½½é€‰é¡¹
            document.getElementById('downloadZip').addEventListener('click', downloadAsZip);
            document.getElementById('downloadSequence').addEventListener('click', downloadSequentially);
        }

        function initSortable() {
            sortable = new Sortable(fileList, {
                animation: 150,
                ghostClass: 'sortable-ghost',
                chosenClass: 'sortable-chosen',
                onEnd: function(evt) {
                    const movedItem = files.splice(evt.oldIndex, 1)[0];
                    files.splice(evt.newIndex, 0, movedItem);
                    updateIndexNumbers();
                }
            });
        }

        // ===== æ–‡ä»¶å¤„ç† =====
        function handleFileSelect(e) {
            const newFiles = Array.from(e.target.files);
            addFiles(newFiles);
            e.target.value = '';
        }

        function handleDrop(e) {
            e.preventDefault();
            uploadZone.classList.remove('dragover');
            const newFiles = Array.from(e.dataTransfer.files);
            addFiles(newFiles);
        }

        function addFiles(newFiles) {
            if (newFiles.length === 0) return;

            newFiles.forEach(file => {
                files.push({
                    id: Date.now() + Math.random().toString(36).substr(2, 9),
                    file: file,
                    originalName: file.name,
                    newName: file.name,
                    applied: false
                });
            });

            renderFileList();
            updateUI();
            showToast(t('toastAdded', { count: newFiles.length }), 'success');
        }

        function removeFile(id) {
            files = files.filter(f => f.id !== id);
            renderFileList();
            updateUI();
        }

        function clearFiles() {
            if (files.length === 0) return;
            if (!confirm(t('confirmClear'))) return;
            files = [];
            renderFileList();
            updateUI();
            showToast(t('toastCleared'), 'success');
        }

        // ===== æ’åº =====
        function sortFiles(type) {
            const [field, order] = type.split('-');
            files.sort((a, b) => {
                let valA, valB;
                if (field === 'name') {
                    valA = a.originalName.toLowerCase();
                    valB = b.originalName.toLowerCase();
                } else if (field === 'size') {
                    valA = a.file.size;
                    valB = b.file.size;
                }
                if (order === 'asc') {
                    return valA < valB ? -1 : valA > valB ? 1 : 0;
                } else {
                    return valA > valB ? -1 : valA < valB ? 1 : 0;
                }
            });
            renderFileList();
            showToast(t('toastSorted'), 'success');
        }

        // ===== é€‰é¡¹å¡ =====
        function switchTab(tab) {
            currentMode = tab;
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.toggle('active', btn.dataset.tab === tab);
            });
            document.querySelectorAll('.tab-panel').forEach(panel => {
                panel.classList.toggle('active', panel.id === `panel-${tab}`);
            });
        }

        // ===== é‡å‘½åé€»è¾‘ =====
        function previewRename() {
            if (files.length === 0) return;

            files.forEach((f, index) => {
                f.newName = generateNewName(f, index);
            });

            renderFileList();
            showToast(t('toastPreviewUpdated'), 'success');
        }

        function generateNewName(fileData, index) {
            const originalName = fileData.originalName;
            const lastDot = originalName.lastIndexOf('.');
            const baseName = lastDot > 0 ? originalName.substring(0, lastDot) : originalName;
            const ext = lastDot > 0 ? originalName.substring(lastDot) : '';

            let newBaseName = baseName;

            switch (currentMode) {
                case 'sequence':
                    newBaseName = applySequence(baseName, index);
                    break;
                case 'replace':
                    newBaseName = applyReplace(baseName);
                    break;
                case 'prefix':
                    newBaseName = applyPrefixSuffix(baseName);
                    break;
                case 'regex':
                    newBaseName = applyRegex(baseName);
                    break;
                case 'case':
                    const includeExt = document.getElementById('caseIncludeExt').checked;
                    if (includeExt) {
                        return applyCase(originalName);
                    }
                    newBaseName = applyCase(baseName);
                    break;
            }

            return newBaseName + ext;
        }

        function applySequence(baseName, index) {
            const template = document.getElementById('seqTemplate').value || '###';
            const start = parseInt(document.getElementById('seqStart').value) || 1;
            const step = parseInt(document.getElementById('seqStep').value) || 1;

            const num = start + index * step;

            // å¤„ç† {self}
            let result = template.replace(/\{self\}/g, baseName);

            // å¤„ç† # ç¼–å·
            const hashMatch = result.match(/#+/);
            if (hashMatch) {
                const hashLen = hashMatch[0].length;
                const paddedNum = String(num).padStart(hashLen, '0');
                result = result.replace(/#+/, paddedNum);
            }

            return result;
        }

        function applyReplace(baseName) {
            const find = document.getElementById('replaceFind').value;
            const replace = document.getElementById('replaceWith').value;
            const caseSensitive = document.getElementById('replaceCaseSensitive').checked;
            const replaceAll = document.getElementById('replaceAll').checked;

            if (!find) return baseName;

            if (replaceAll) {
                const flags = caseSensitive ? 'g' : 'gi';
                const regex = new RegExp(escapeRegex(find), flags);
                return baseName.replace(regex, replace);
            } else {
                if (caseSensitive) {
                    return baseName.replace(find, replace);
                } else {
                    const regex = new RegExp(escapeRegex(find), 'i');
                    return baseName.replace(regex, replace);
                }
            }
        }

        function applyPrefixSuffix(baseName) {
            const prefix = document.getElementById('prefixText').value;
            const suffix = document.getElementById('suffixText').value;
            return prefix + baseName + suffix;
        }

        function applyRegex(baseName) {
            const pattern = document.getElementById('regexPattern').value;
            const replace = document.getElementById('regexReplace').value;
            const caseInsensitive = document.getElementById('regexCaseInsensitive').checked;
            const global = document.getElementById('regexGlobal').checked;

            if (!pattern) return baseName;

            try {
                let flags = '';
                if (global) flags += 'g';
                if (caseInsensitive) flags += 'i';
                const regex = new RegExp(pattern, flags);
                return baseName.replace(regex, replace);
            } catch (e) {
                return baseName;
            }
        }

        function applyCase(text) {
            const type = document.getElementById('caseType').value;
            switch (type) {
                case 'lower':
                    return text.toLowerCase();
                case 'upper':
                    return text.toUpperCase();
                case 'title':
                    return text.replace(/\b\w/g, c => c.toUpperCase());
                case 'sentence':
                    return text.charAt(0).toUpperCase() + text.slice(1).toLowerCase();
                default:
                    return text;
            }
        }

        function escapeRegex(str) {
            return str.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
        }

        function applyRename() {
            if (files.length === 0) return;

            let hasChanges = false;
            files.forEach(f => {
                if (f.newName !== f.originalName) {
                    f.applied = true;
                    hasChanges = true;
                }
            });

            if (!hasChanges) {
                showToast(t('toastNoChanges'), 'error');
                return;
            }

            renderFileList();
            downloadSection.style.display = 'block';
            showToast(t('toastApplied'), 'success');
        }

        function resetNames() {
            files.forEach(f => {
                f.newName = f.originalName;
                f.applied = false;
            });
            renderFileList();
            downloadSection.style.display = 'none';
            showToast(t('toastReset'), 'success');
        }

        // ===== æ¸²æŸ“ =====
        function renderFileList() {
            fileList.innerHTML = '';

            files.forEach((f, index) => {
                const div = document.createElement('div');
                div.className = 'file-item';
                div.dataset.id = f.id;

                const isChanged = f.newName !== f.originalName;

                div.innerHTML = `
                    <span class="file-index">${index + 1}</span>
                    <span class="file-original" title="${f.originalName}">${f.originalName}</span>
                    <span class="file-arrow">â†’</span>
                    <span class="file-new ${isChanged ? '' : 'unchanged'}" title="${f.newName}">${f.newName}</span>
                    <div class="file-actions">
                        <button class="file-action-btn download" title="Download">â¬‡ï¸</button>
                        <button class="file-action-btn delete" title="Delete">âœ•</button>
                    </div>
                `;

                div.querySelector('.download').addEventListener('click', () => downloadSingle(f));
                div.querySelector('.delete').addEventListener('click', () => removeFile(f.id));

                fileList.appendChild(div);
            });
        }

        function updateIndexNumbers() {
            const items = fileList.querySelectorAll('.file-item');
            items.forEach((item, index) => {
                item.querySelector('.file-index').textContent = index + 1;
            });
        }

        function updateUI() {
            fileCount.textContent = t('fileCount', { count: files.length });
            btnPreview.disabled = files.length === 0;
            btnApply.disabled = files.length === 0;
            if (files.length === 0) {
                downloadSection.style.display = 'none';
            }
        }

        // ===== ä¸‹è½½ =====
        function downloadSingle(fileData) {
            const blob = fileData.file;
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = fileData.applied ? fileData.newName : fileData.originalName;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        async function downloadAsZip() {
            if (files.length === 0) return;

            progressBar.classList.add('active');
            progressFill.style.width = '0%';

            try {
                const zip = new JSZip();

                for (let i = 0; i < files.length; i++) {
                    const f = files[i];
                    const name = f.applied ? f.newName : f.originalName;
                    zip.file(name, f.file);
                    progressFill.style.width = `${((i + 1) / files.length) * 50}%`;
                }

                const content = await zip.generateAsync({ type: 'blob' }, (metadata) => {
                    progressFill.style.width = `${50 + metadata.percent / 2}%`;
                });

                const url = URL.createObjectURL(content);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'renamed_files.zip';
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);

                showToast(t('toastZipDone'), 'success');
            } catch (err) {
                showToast(t('toastZipFailed') + err.message, 'error');
            } finally {
                progressBar.classList.remove('active');
            }
        }

        async function downloadSequentially() {
            if (files.length === 0) return;

            progressBar.classList.add('active');

            for (let i = 0; i < files.length; i++) {
                downloadSingle(files[i]);
                progressFill.style.width = `${((i + 1) / files.length) * 100}%`;
                await new Promise(r => setTimeout(r, 500)); // é—´éš”ä¸‹è½½
            }

            progressBar.classList.remove('active');
            showToast(t('toastAllDownloaded'), 'success');
        }

        // ===== Toast =====
        function showToast(message, type = '') {
            toast.textContent = message;
            toast.className = 'toast ' + type;
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 3000);
        }

        // ===== å¯åŠ¨ =====
        init();
    })();
    </script>
    <!-- ===================== /LOGIC ===================== -->

    <!-- FAQ å¸¸è§é—®é¢˜ -->
    <section class="faq-section" style="max-width: 1000px; margin: 40px auto; padding: 0 20px;">
        <h2 style="color: #f0f0f0; font-size: 20px; margin-bottom: 24px; padding-bottom: 12px; border-bottom: 1px solid rgba(124, 58, 237, 0.3);" data-i18n="faqTitle">â“ FAQ</h2>
        <div class="faq-list" style="display: flex; flex-direction: column; gap: 16px;">
            <div class="faq-item" style="background: rgba(255, 255, 255, 0.03); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 12px; padding: 20px;">
                <h3 style="color: #e4e4e7; font-size: 1rem; margin-bottom: 10px; display: flex; align-items: center; gap: 8px;">
                    <span style="color: #7c3aed;">Q:</span> <span data-i18n="faqQ1">How many files can be batch renamed?</span>
                </h3>
                <p style="color: #a1a1aa; font-size: 0.9rem; line-height: 1.6; padding-left: 24px;" data-i18n="faqA1">
                    Theoretically unlimited, depends on browser performance. Recommended not to exceed 1000 files for smooth operation.
                </p>
            </div>
            <div class="faq-item" style="background: rgba(255, 255, 255, 0.03); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 12px; padding: 20px;">
                <h3 style="color: #e4e4e7; font-size: 1rem; margin-bottom: 10px; display: flex; align-items: center; gap: 8px;">
                    <span style="color: #7c3aed;">Q:</span> <span data-i18n="faqQ2">What renaming rules are supported?</span>
                </h3>
                <p style="color: #a1a1aa; font-size: 0.9rem; line-height: 1.6; padding-left: 24px;" data-i18n="faqA2">
                    Supports prefix/suffix, sequential numbering, date insertion, find & replace, case conversion and more to meet most needs.
                </p>
            </div>
            <div class="faq-item" style="background: rgba(255, 255, 255, 0.03); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 12px; padding: 20px;">
                <h3 style="color: #e4e4e7; font-size: 1rem; margin-bottom: 10px; display: flex; align-items: center; gap: 8px;">
                    <span style="color: #7c3aed;">Q:</span> <span data-i18n="faqQ3">Are files uploaded to a server?</span>
                </h3>
                <p style="color: #a1a1aa; font-size: 0.9rem; line-height: 1.6; padding-left: 24px;" data-i18n="faqA3">
                    No, all processing is done locally. Files never leave your computer, ensuring complete privacy.
                </p>
            </div>
            <div class="faq-item" style="background: rgba(255, 255, 255, 0.03); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 12px; padding: 20px;">
                <h3 style="color: #e4e4e7; font-size: 1rem; margin-bottom: 10px; display: flex; align-items: center; gap: 8px;">
                    <span style="color: #7c3aed;">Q:</span> <span data-i18n="faqQ4">Can I undo the rename?</span>
                </h3>
                <p style="color: #a1a1aa; font-size: 0.9rem; line-height: 1.6; padding-left: 24px;" data-i18n="faqA4">
                    Before downloading, you can readjust rules or click "Reset" to restore. After downloading, you need to manually restore filenames.
                </p>
            </div>
            <div class="faq-item" style="background: rgba(255, 255, 255, 0.03); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 12px; padding: 20px;">
                <h3 style="color: #e4e4e7; font-size: 1rem; margin-bottom: 10px; display: flex; align-items: center; gap: 8px;">
                    <span style="color: #7c3aed;">Q:</span> <span data-i18n="faqQ5">Can folders be renamed?</span>
                </h3>
                <p style="color: #a1a1aa; font-size: 0.9rem; line-height: 1.6; padding-left: 24px;" data-i18n="faqA5">
                    Only file renaming is supported, not folders. Selecting a folder will automatically read all files within for renaming.
                </p>
            </div>
            <div class="faq-item" style="background: rgba(255, 255, 255, 0.03); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 12px; padding: 20px;">
                <h3 style="color: #e4e4e7; font-size: 1rem; margin-bottom: 10px; display: flex; align-items: center; gap: 8px;">
                    <span style="color: #7c3aed;">Q:</span> <span data-i18n="faq_free_q">Is this tool really free? Are there any hidden charges?</span>
                </h3>
                <p style="color: #a1a1aa; font-size: 0.9rem; line-height: 1.6; padding-left: 24px;" data-i18n="faq_free_a">
                    Yes, this tool is 100% free with no hidden charges, no ads, and no signup required. It runs entirely in your browser â€” your data never leaves your device.
                </p>
            </div>
        </div>
    </section>

    <!-- ç›¸å…³å·¥å…·æ¨è -->
    <section class="related-tools" style="max-width: 1000px; margin: 40px auto; padding: 0 20px;">
        <h3 style="color: #f0f0f0; font-size: 18px; margin-bottom: 20px; padding-bottom: 10px; border-bottom: 1px solid #333;" data-i18n="relatedTools">ğŸ”— Related Tools</h3>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px;">
            <a href="image-to-pdf.html" style="display: block; padding: 16px; background: #1e293b; border: 1px solid #334155; border-radius: 8px; text-decoration: none; transition: all 0.2s;">
                <div style="font-size: 24px; margin-bottom: 8px;">ğŸ“„</div>
                <div style="color: #f0f0f0; font-weight: 500;" data-i18n="relatedImageToPdf">Images to PDF</div>
                <div style="color: #94a3b8; font-size: 12px; margin-top: 4px;" data-i18n="relatedImageToPdfDesc">Merge multiple images into PDF</div>
            </a>
            <a href="image-compressor.html" style="display: block; padding: 16px; background: #1e293b; border: 1px solid #334155; border-radius: 8px; text-decoration: none; transition: all 0.2s;">
                <div style="font-size: 24px; margin-bottom: 8px;">ğŸ“¦</div>
                <div style="color: #f0f0f0; font-weight: 500;" data-i18n="relatedImageCompressor">Image Compressor</div>
                <div style="color: #94a3b8; font-size: 12px; margin-top: 4px;" data-i18n="relatedImageCompressorDesc">Batch compress image size</div>
            </a>
            <a href="image-converter.html" style="display: block; padding: 16px; background: #1e293b; border: 1px solid #334155; border-radius: 8px; text-decoration: none; transition: all 0.2s;">
                <div style="font-size: 24px; margin-bottom: 8px;">ğŸ–¼ï¸</div>
                <div style="color: #f0f0f0; font-weight: 500;" data-i18n="relatedImageConverter">Image Converter</div>
                <div style="color: #94a3b8; font-size: 12px; margin-top: 4px;" data-i18n="relatedImageConverterDesc">WebP/PNG/JPG conversion</div>
            </a>
            <a href="crypto-tools.html" style="display: block; padding: 16px; background: #1e293b; border: 1px solid #334155; border-radius: 8px; text-decoration: none; transition: all 0.2s;">
                <div style="font-size: 24px; margin-bottom: 8px;">ğŸ”</div>
                <div style="color: #f0f0f0; font-weight: 500;" data-i18n="relatedCryptoTools">Crypto Toolbox</div>
                <div style="color: #94a3b8; font-size: 12px; margin-top: 4px;" data-i18n="relatedCryptoToolsDesc">Base64/MD5/AES etc.</div>
            </a>
        </div>
    </section>

    <footer style="text-align: center; padding: 30px 20px; border-top: 1px solid #333; color: #94a3b8; font-size: 14px;">
        <p data-i18n="footerPrivacy">Pure frontend processing, files are not uploaded to server</p>
        <p style="margin-top: 12px;">
            <a href="index.html" style="color: #6366f1; text-decoration: none;" data-i18n="footerBack">â† Back to Web Toolbox</a>
            <span style="margin: 0 12px;">|</span>
            <a href="https://github.com/*****" target="_blank" rel="noopener" style="color: #6366f1; text-decoration: none;">GitHub</a>
        </p>
    </footer>
</body>
</html>
