<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>URL Encoder/Decoder - Free Online URL Encoding Tool | URL ç¼–è§£ç  | Web Toolbox</title>
    <meta name="description" content="Free online URL encoder and decoder. Encode/decode URLs and query strings. Parse URL components. Build URLs from parameters. | åœ¨çº¿ URL ç¼–ç è§£ç å·¥å…·">
    <meta name="keywords" content="URL encoder,URL decoder,URL encode online,URL decode online,percent encoding,URL ç¼–ç ,URL è§£ç ,URL å‚æ•°è§£æ">
    <meta name="author" content="heyuan110">
    <meta name="robots" content="index, follow">
    <meta name="googlebot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
    <meta name="bingbot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
    <meta name="revisit-after" content="7 days">
    <meta name="rating" content="general">
    <meta name="distribution" content="global">
    <meta name="language" content="English">
    <link rel="alternate" hreflang="en" href="https://www.heyuan110.com/web-toolbox/url-encoder.html">
    <link rel="alternate" hreflang="zh-CN" href="https://www.heyuan110.com/web-toolbox/url-encoder.html">
    <link rel="alternate" hreflang="fr" href="https://www.heyuan110.com/web-toolbox/url-encoder.html">
    <link rel="alternate" hreflang="es" href="https://www.heyuan110.com/web-toolbox/url-encoder.html">
    <link rel="alternate" hreflang="x-default" href="https://www.heyuan110.com/web-toolbox/url-encoder.html">
    <link rel="canonical" href="https://www.heyuan110.com/web-toolbox/url-encoder.html">

    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="URL Encoder/Decoder - Free Online URL Encoding Tool">
    <meta property="og:description" content="Free online URL encoder and decoder. Encode/decode URLs and query strings. Parse URL components. Build URLs from parameters.">
    <meta property="og:url" content="https://www.heyuan110.com/web-toolbox/url-encoder.html">
    <meta property="og:image" content="https://www.heyuan110.com/web-toolbox/screenshots/url-encoder.webp">
    <meta property="og:site_name" content="Web Toolbox">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="URL Encoder/Decoder - Free Online URL Encoding Tool">
    <meta name="twitter:description" content="Free online URL encoder and decoder. Encode/decode URLs and query strings. Parse URL components.">
    <meta name="twitter:image" content="https://www.heyuan110.com/web-toolbox/screenshots/url-encoder.webp">

    <!-- JSON-LD ç»“æ„åŒ–æ•°æ® -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "URL Encoder/Decoder",
        "alternateName": ["URL ç¼–è§£ç ", "Percent Encoding Tool", "URL Parser Online"],
        "url": "https://www.heyuan110.com/web-toolbox/url-encoder.html",
        "description": "Free online URL encoder and decoder. Encode/decode URLs and query strings. Parse URL components. Build URLs from parameters.",
        "applicationCategory": "DeveloperApplication",
        "operatingSystem": "Any",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        },
        "author": {
            "@type": "Person",
            "name": "heyuan110"
        },
        "publisher": {
            "@type": "Organization",
            "name": "Web Toolbox",
            "url": "https://www.heyuan110.com/web-toolbox/"
        },
        "featureList": [
            "URL encoding with encodeURI and encodeURIComponent",
            "URL decoding with decodeURI and decodeURIComponent",
            "Batch line-by-line encoding and decoding",
            "Full URL parser with component breakdown",
            "Interactive query parameter editor",
            "Real-time URL rebuilding",
            "Multi-language support (EN, ZH, FR, ES)",
            "100% client-side processing, no data sent to server"
        ],
        "screenshot": "https://www.heyuan110.com/web-toolbox/screenshots/url-encoder.webp"
    }
    </script>
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
            {
                "@type": "ListItem",
                "position": 1,
                "name": "Home",
                "item": "https://www.heyuan110.com/"
            },
            {
                "@type": "ListItem",
                "position": 2,
                "name": "Web Toolbox",
                "item": "https://www.heyuan110.com/web-toolbox/"
            },
            {
                "@type": "ListItem",
                "position": 3,
                "name": "URL Encoder Decoder",
                "item": "https://www.heyuan110.com/web-toolbox/url-encoder.html"
            }
        ]
    }
    </script>
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [
            {
                "@type": "Question",
                "name": "What is URL encoding (percent encoding)?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "URL encoding, also known as percent-encoding, is a mechanism for encoding information in a URI. Special characters are replaced with a percent sign (%) followed by two hexadecimal digits representing the character's ASCII value. For example, a space becomes %20 and an ampersand becomes %26."
                }
            },
            {
                "@type": "Question",
                "name": "What's the difference between encodeURI and encodeURIComponent?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "encodeURI encodes a complete URI but preserves URL structure characters like ://?#[]@!$&'()*+,;=. encodeURIComponent encodes all special characters including URL structure characters, making it suitable for encoding query parameter values."
                }
            },
            {
                "@type": "Question",
                "name": "When do I need URL encoding?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "URL encoding is needed when passing special characters in URL query parameters, form data, API requests, or any context where characters like spaces, ampersands, equals signs, or non-ASCII characters appear in a URL."
                }
            },
            {
                "@type": "Question",
                "name": "Can I process multiple URLs at once?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Yes, this tool supports batch mode. Simply enable the Batch Mode toggle and enter one string per line. Each line will be encoded or decoded independently, making it easy to process multiple values at once."
                }
            },
            {
                "@type": "Question",
                "name": "Is this tool free and safe?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Yes, this tool is completely free and runs entirely in your browser. No data is sent to any server â€” all encoding, decoding, and parsing happens client-side using JavaScript, ensuring your data stays private."
                }
            }
        ]
    }
    </script>
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "HowTo",
        "name": "How to Encode and Decode URLs",
        "description": "Learn how to encode and decode URLs using this free online tool. Supports both encodeURI and encodeURIComponent modes.",
        "step": [
            {
                "@type": "HowToStep",
                "position": 1,
                "name": "Choose the operation",
                "text": "Select the Encode, Decode, or URL Parser tab depending on what you need to do."
            },
            {
                "@type": "HowToStep",
                "position": 2,
                "name": "Select the encoding mode",
                "text": "Choose between encodeURIComponent (for query parameter values) or encodeURI (for full URIs) depending on your use case."
            },
            {
                "@type": "HowToStep",
                "position": 3,
                "name": "Enter your text or URL",
                "text": "Type or paste the text you want to encode/decode into the input field. Enable Batch Mode to process multiple lines at once."
            },
            {
                "@type": "HowToStep",
                "position": 4,
                "name": "Get the result",
                "text": "The result appears instantly in the output field. Click the Copy button to copy it to your clipboard."
            }
        ],
        "tool": {
            "@type": "HowToTool",
            "name": "URL Encoder/Decoder Online Tool"
        }
    }
    </script>

    <style>
        *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            color: #e4e4e7;
            min-height: 100vh;
            padding: 20px;
        }

        /* è¯­è¨€åˆ‡æ¢å™¨ */
        .lang-switcher { position: fixed; top: 20px; right: 20px; z-index: 1000; }
        .lang-dropdown { position: relative; display: inline-block; }
        .lang-current { background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); padding: 8px 16px; border-radius: 8px; cursor: pointer; font-size: 14px; color: #e0e0e0; transition: all 0.3s ease; }
        .lang-current:hover { background: rgba(255,255,255,0.15); }
        .lang-menu { position: absolute; top: 100%; right: 0; margin-top: 4px; background: #1e1e2e; border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; padding: 4px; min-width: 140px; opacity: 0; visibility: hidden; transform: translateY(-10px); transition: all 0.3s ease; z-index: 1000; }
        .lang-dropdown.active .lang-menu { opacity: 1; visibility: visible; transform: translateY(0); }
        .lang-btn { display: block; width: 100%; padding: 10px 16px; background: none; border: none; color: #e0e0e0; font-size: 14px; text-align: left; cursor: pointer; border-radius: 6px; transition: background 0.2s ease; }
        .lang-btn:hover { background: rgba(255,255,255,0.1); }

        /* è¿”å›å¯¼èˆª */
        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: #a78bfa;
            text-decoration: none;
            font-size: 14px;
            margin-bottom: 20px;
            transition: color 0.3s ease;
        }
        .back-link:hover { color: #c4b5fd; }

        /* æ ‡é¢˜ */
        .page-header {
            text-align: center;
            margin-bottom: 30px;
        }
        .page-header h1 {
            font-size: 28px;
            font-weight: 700;
            background: linear-gradient(135deg, #a78bfa, #7c3aed);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 8px;
        }
        .page-header p {
            color: #a1a1aa;
            font-size: 15px;
        }

        /* ä¸»å®¹å™¨ */
        .container {
            max-width: 960px;
            margin: 0 auto;
        }

        /* Tab æ  */
        .tab-bar {
            display: flex;
            gap: 4px;
            background: rgba(0,0,0,0.3);
            border-radius: 12px;
            padding: 4px;
            margin-bottom: 24px;
        }
        .tab-btn {
            flex: 1;
            padding: 12px 20px;
            background: none;
            border: none;
            color: #a1a1aa;
            font-size: 15px;
            font-weight: 500;
            cursor: pointer;
            border-radius: 10px;
            transition: all 0.3s ease;
        }
        .tab-btn:hover { color: #e4e4e7; background: rgba(255,255,255,0.05); }
        .tab-btn.active {
            background: linear-gradient(135deg, #7c3aed, #6d28d9);
            color: #fff;
            box-shadow: 0 4px 12px rgba(124,58,237,0.3);
        }

        /* é¢æ¿ */
        .tab-panel { display: none; }
        .tab-panel.active { display: block; }

        /* å¡ç‰‡ */
        .card {
            background: rgba(0,0,0,0.3);
            border: 1px solid rgba(255,255,255,0.06);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 20px;
        }

        /* æ ‡ç­¾ */
        label {
            display: block;
            font-size: 14px;
            font-weight: 500;
            color: #a1a1aa;
            margin-bottom: 8px;
        }

        /* æ–‡æœ¬æ¡† */
        textarea {
            width: 100%;
            min-height: 120px;
            background: rgba(0,0,0,0.3);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 10px;
            padding: 14px;
            color: #e4e4e7;
            font-family: 'SF Mono', 'Fira Code', 'Cascadia Code', monospace;
            font-size: 14px;
            resize: vertical;
            transition: border-color 0.3s ease;
            line-height: 1.6;
        }
        textarea:focus { outline: none; border-color: #7c3aed; }
        textarea::placeholder { color: #52525b; }

        input[type="text"] {
            width: 100%;
            background: rgba(0,0,0,0.3);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 10px;
            padding: 12px 14px;
            color: #e4e4e7;
            font-family: 'SF Mono', 'Fira Code', 'Cascadia Code', monospace;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }
        input[type="text"]:focus { outline: none; border-color: #7c3aed; }
        input[type="text"]::placeholder { color: #52525b; }

        /* æ¨¡å¼åˆ‡æ¢ */
        .mode-switch {
            display: flex;
            gap: 4px;
            background: rgba(0,0,0,0.25);
            border-radius: 8px;
            padding: 3px;
            margin-bottom: 16px;
        }
        .mode-btn {
            flex: 1;
            padding: 8px 14px;
            background: none;
            border: none;
            color: #a1a1aa;
            font-size: 13px;
            cursor: pointer;
            border-radius: 6px;
            transition: all 0.3s ease;
            font-family: 'SF Mono', monospace;
        }
        .mode-btn:hover { color: #e4e4e7; }
        .mode-btn.active {
            background: rgba(124,58,237,0.3);
            color: #c4b5fd;
        }

        /* æ‰¹é‡æ¨¡å¼å¼€å…³ */
        .batch-toggle {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 16px;
        }
        .toggle-switch {
            position: relative;
            width: 44px;
            height: 24px;
            cursor: pointer;
        }
        .toggle-switch input { opacity: 0; width: 0; height: 0; }
        .toggle-slider {
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(255,255,255,0.1);
            border-radius: 12px;
            transition: all 0.3s ease;
        }
        .toggle-slider::before {
            content: '';
            position: absolute;
            width: 18px;
            height: 18px;
            left: 3px;
            bottom: 3px;
            background: #e4e4e7;
            border-radius: 50%;
            transition: all 0.3s ease;
        }
        .toggle-switch input:checked + .toggle-slider { background: #7c3aed; }
        .toggle-switch input:checked + .toggle-slider::before { transform: translateX(20px); }
        .toggle-label { font-size: 14px; color: #a1a1aa; }

        /* æŒ‰é’® */
        .btn-row {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 16px;
        }
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }
        .btn-primary {
            background: linear-gradient(135deg, #7c3aed, #6d28d9);
            color: #fff;
        }
        .btn-primary:hover { box-shadow: 0 4px 12px rgba(124,58,237,0.4); transform: translateY(-1px); }
        .btn-secondary {
            background: rgba(255,255,255,0.08);
            color: #e4e4e7;
            border: 1px solid rgba(255,255,255,0.1);
        }
        .btn-secondary:hover { background: rgba(255,255,255,0.12); }

        /* ç»“æœåŒº */
        .result-area {
            position: relative;
        }
        .copy-btn {
            position: absolute;
            top: 8px;
            right: 8px;
            padding: 6px 12px;
            background: rgba(124,58,237,0.3);
            border: 1px solid rgba(124,58,237,0.4);
            border-radius: 6px;
            color: #c4b5fd;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 2;
        }
        .copy-btn:hover { background: rgba(124,58,237,0.5); }
        .copy-btn.copied { background: rgba(34,197,94,0.3); border-color: rgba(34,197,94,0.4); color: #86efac; }

        /* URL è§£æ */
        .parse-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 16px;
        }
        .parse-table th,
        .parse-table td {
            padding: 10px 14px;
            text-align: left;
            border-bottom: 1px solid rgba(255,255,255,0.06);
            font-size: 14px;
        }
        .parse-table th {
            color: #a78bfa;
            font-weight: 500;
            white-space: nowrap;
            width: 120px;
        }
        .parse-table td {
            color: #e4e4e7;
            word-break: break-all;
            font-family: 'SF Mono', monospace;
        }

        /* Query å‚æ•°è¡¨æ ¼ */
        .params-section { margin-top: 20px; }
        .params-section h3 {
            font-size: 15px;
            font-weight: 600;
            color: #c4b5fd;
            margin-bottom: 12px;
        }
        .params-table {
            width: 100%;
            border-collapse: collapse;
        }
        .params-table th {
            padding: 10px 14px;
            text-align: left;
            background: rgba(124,58,237,0.15);
            color: #c4b5fd;
            font-size: 13px;
            font-weight: 500;
        }
        .params-table th:first-child { border-radius: 8px 0 0 0; }
        .params-table th:last-child { border-radius: 0 8px 0 0; }
        .params-table td {
            padding: 8px 10px;
            border-bottom: 1px solid rgba(255,255,255,0.04);
        }
        .params-table td input {
            width: 100%;
            background: rgba(0,0,0,0.2);
            border: 1px solid rgba(255,255,255,0.08);
            border-radius: 6px;
            padding: 8px 10px;
            color: #e4e4e7;
            font-size: 13px;
            font-family: 'SF Mono', monospace;
        }
        .params-table td input:focus { outline: none; border-color: #7c3aed; }

        .param-action-btn {
            padding: 6px 10px;
            background: rgba(239,68,68,0.2);
            border: none;
            border-radius: 4px;
            color: #fca5a5;
            cursor: pointer;
            font-size: 12px;
            transition: background 0.2s ease;
        }
        .param-action-btn:hover { background: rgba(239,68,68,0.4); }
        .add-param-btn {
            margin-top: 10px;
            padding: 8px 16px;
            background: rgba(124,58,237,0.15);
            border: 1px dashed rgba(124,58,237,0.4);
            border-radius: 8px;
            color: #a78bfa;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.2s ease;
            width: 100%;
        }
        .add-param-btn:hover { background: rgba(124,58,237,0.25); }

        /* æ„å»ºçš„ URL */
        .built-url-area {
            margin-top: 16px;
            padding: 14px;
            background: rgba(0,0,0,0.25);
            border-radius: 10px;
            border: 1px solid rgba(255,255,255,0.06);
            position: relative;
        }
        .built-url-label {
            font-size: 12px;
            color: #a1a1aa;
            margin-bottom: 6px;
        }
        .built-url-text {
            font-family: 'SF Mono', monospace;
            font-size: 13px;
            color: #86efac;
            word-break: break-all;
            line-height: 1.5;
            user-select: all;
        }

        /* é”™è¯¯ä¿¡æ¯ */
        .error-msg {
            color: #fca5a5;
            font-size: 13px;
            margin-top: 8px;
            display: none;
        }
        .error-msg.show { display: block; }

        /* æç¤º */
        .toast {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%) translateY(20px);
            background: rgba(34,197,94,0.9);
            color: #fff;
            padding: 10px 24px;
            border-radius: 8px;
            font-size: 14px;
            opacity: 0;
            transition: all 0.3s ease;
            z-index: 9999;
            pointer-events: none;
        }
        .toast.show { opacity: 1; transform: translateX(-50%) translateY(0); }

        /* ç©ºçŠ¶æ€ */
        .empty-state {
            text-align: center;
            color: #52525b;
            padding: 30px;
            font-size: 14px;
        }

        /* ==================== åŠŸèƒ½ç‰¹ç‚¹åŒºåŸŸ ==================== */
        .features-section {
            max-width: 960px;
            margin: 48px auto 0;
        }
        .features-section h2 {
            text-align: center;
            font-size: 22px;
            font-weight: 700;
            background: linear-gradient(135deg, #a78bfa, #7c3aed);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 24px;
        }
        .features-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
        }
        .feature-card {
            background: rgba(0,0,0,0.3);
            border: 1px solid rgba(255,255,255,0.06);
            border-radius: 16px;
            padding: 24px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .feature-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px rgba(124,58,237,0.15);
        }
        .feature-icon {
            font-size: 28px;
            margin-bottom: 12px;
        }
        .feature-card h3 {
            font-size: 16px;
            font-weight: 600;
            color: #c4b5fd;
            margin-bottom: 8px;
        }
        .feature-card p {
            font-size: 14px;
            color: #a1a1aa;
            line-height: 1.6;
        }

        /* ==================== FAQ æ‰‹é£ç´ ==================== */
        .faq-section {
            max-width: 960px;
            margin: 48px auto 0;
        }
        .faq-section h2 {
            text-align: center;
            font-size: 22px;
            font-weight: 700;
            background: linear-gradient(135deg, #a78bfa, #7c3aed);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 24px;
        }
        .faq-item {
            background: rgba(0,0,0,0.3);
            border: 1px solid rgba(255,255,255,0.06);
            border-radius: 12px;
            margin-bottom: 10px;
            overflow: hidden;
            transition: border-color 0.3s ease;
        }
        .faq-item:hover {
            border-color: rgba(124,58,237,0.3);
        }
        .faq-question {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 18px 20px;
            cursor: pointer;
            user-select: none;
            transition: background 0.3s ease;
        }
        .faq-question:hover {
            background: rgba(255,255,255,0.03);
        }
        .faq-question span {
            font-size: 15px;
            font-weight: 500;
            color: #e4e4e7;
            flex: 1;
        }
        .faq-arrow {
            font-size: 12px;
            color: #a78bfa;
            transition: transform 0.3s ease;
            margin-left: 12px;
            flex-shrink: 0;
        }
        .faq-item.active .faq-arrow {
            transform: rotate(180deg);
        }
        .faq-answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.35s ease, padding 0.35s ease;
        }
        .faq-item.active .faq-answer {
            max-height: 300px;
        }
        .faq-answer-inner {
            padding: 0 20px 18px;
            font-size: 14px;
            color: #a1a1aa;
            line-height: 1.7;
        }

        /* ==================== ç›¸å…³å·¥å…·æ¨è ==================== */
        .related-section {
            max-width: 960px;
            margin: 48px auto 0;
            padding-bottom: 48px;
        }
        .related-section h2 {
            text-align: center;
            font-size: 22px;
            font-weight: 700;
            background: linear-gradient(135deg, #a78bfa, #7c3aed);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 24px;
        }
        .related-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 16px;
        }
        .related-card {
            background: rgba(0,0,0,0.3);
            border: 1px solid rgba(255,255,255,0.06);
            border-radius: 16px;
            padding: 24px 16px;
            text-align: center;
            text-decoration: none;
            transition: transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
            display: block;
        }
        .related-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px rgba(124,58,237,0.15);
            border-color: rgba(124,58,237,0.3);
        }
        .related-icon {
            font-size: 32px;
            margin-bottom: 12px;
        }
        .related-card h3 {
            font-size: 14px;
            font-weight: 600;
            color: #c4b5fd;
            line-height: 1.4;
        }

        /* å“åº”å¼ */
        @media (max-width: 768px) {
            body { padding: 12px; }
            .page-header h1 { font-size: 22px; }
            .tab-btn { padding: 10px 12px; font-size: 13px; }
            .card { padding: 16px; }
            .btn-row { flex-direction: column; }
            .btn { width: 100%; justify-content: center; }
            .parse-table th { width: 90px; }
            .lang-switcher { top: 12px; right: 12px; }
            .features-grid { grid-template-columns: 1fr; }
            .related-grid { grid-template-columns: repeat(2, 1fr); }
        }
    </style>
</head>
<body>

<div class="lang-switcher">
    <div class="lang-dropdown" id="langDropdown">
        <div class="lang-current" id="langCurrent">ğŸŒ English</div>
        <div class="lang-menu">
            <button class="lang-btn" data-lang="en">ğŸ‡ºğŸ‡¸ English</button>
            <button class="lang-btn" data-lang="zh-CN">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</button>
            <button class="lang-btn" data-lang="fr">ğŸ‡«ğŸ‡· FranÃ§ais</button>
            <button class="lang-btn" data-lang="es">ğŸ‡ªğŸ‡¸ EspaÃ±ol</button>
        </div>
    </div>
</div>

<div class="container">
    <a href="index.html" class="back-link" data-i18n="backHome">â† Back to Toolbox</a>

    <div class="page-header">
        <h1 data-i18n="pageTitle">URL Encoder / Decoder</h1>
        <p data-i18n="pageDesc">Encode, decode, and parse URLs online â€” fast, free, and private.</p>
    </div>

    <!-- Tab æ  -->
    <div class="tab-bar">
        <button class="tab-btn active" data-tab="encode" data-i18n="tabEncode">Encode</button>
        <button class="tab-btn" data-tab="decode" data-i18n="tabDecode">Decode</button>
        <button class="tab-btn" data-tab="parser" data-i18n="tabParser">URL Parser</button>
    </div>

    <!-- ========== ç¼–ç é¢æ¿ ========== -->
    <div class="tab-panel active" id="panel-encode">
        <div class="card">
            <div class="mode-switch">
                <button class="mode-btn active" data-encode-mode="component">encodeURIComponent</button>
                <button class="mode-btn" data-encode-mode="uri">encodeURI</button>
            </div>
            <div class="batch-toggle">
                <label class="toggle-switch">
                    <input type="checkbox" id="encodeBatch">
                    <span class="toggle-slider"></span>
                </label>
                <span class="toggle-label" data-i18n="batchMode">Batch Mode (line by line)</span>
            </div>
            <label data-i18n="inputLabel">Input</label>
            <textarea id="encodeInput" data-i18n-placeholder="encodePlaceholder" placeholder="Enter text to encode..."></textarea>
            <div class="error-msg" id="encodeError"></div>
            <div class="btn-row">
                <button class="btn btn-secondary" onclick="APP.clearField('encodeInput','encodeOutput')" data-i18n="btnClear">Clear</button>
                <button class="btn btn-secondary" onclick="APP.swapTab('decode','encodeOutput')" data-i18n="btnSendToDecode">Send to Decode</button>
            </div>
        </div>
        <div class="card">
            <label data-i18n="outputLabel">Output</label>
            <div class="result-area">
                <button class="copy-btn" onclick="APP.copyResult('encodeOutput', this)" data-i18n="btnCopy">Copy</button>
                <textarea id="encodeOutput" readonly data-i18n-placeholder="resultPlaceholder" placeholder="Encoded result will appear here..."></textarea>
            </div>
        </div>
    </div>

    <!-- ========== è§£ç é¢æ¿ ========== -->
    <div class="tab-panel" id="panel-decode">
        <div class="card">
            <div class="mode-switch">
                <button class="mode-btn active" data-decode-mode="component">decodeURIComponent</button>
                <button class="mode-btn" data-decode-mode="uri">decodeURI</button>
            </div>
            <div class="batch-toggle">
                <label class="toggle-switch">
                    <input type="checkbox" id="decodeBatch">
                    <span class="toggle-slider"></span>
                </label>
                <span class="toggle-label" data-i18n="batchMode">Batch Mode (line by line)</span>
            </div>
            <label data-i18n="inputLabel">Input</label>
            <textarea id="decodeInput" data-i18n-placeholder="decodePlaceholder" placeholder="Enter URL-encoded text to decode..."></textarea>
            <div class="error-msg" id="decodeError"></div>
            <div class="btn-row">
                <button class="btn btn-secondary" onclick="APP.clearField('decodeInput','decodeOutput')" data-i18n="btnClear">Clear</button>
                <button class="btn btn-secondary" onclick="APP.swapTab('encode','decodeOutput')" data-i18n="btnSendToEncode">Send to Encode</button>
            </div>
        </div>
        <div class="card">
            <label data-i18n="outputLabel">Output</label>
            <div class="result-area">
                <button class="copy-btn" onclick="APP.copyResult('decodeOutput', this)" data-i18n="btnCopy">Copy</button>
                <textarea id="decodeOutput" readonly data-i18n-placeholder="resultPlaceholder" placeholder="Decoded result will appear here..."></textarea>
            </div>
        </div>
    </div>

    <!-- ========== URL è§£æé¢æ¿ ========== -->
    <div class="tab-panel" id="panel-parser">
        <div class="card">
            <label data-i18n="urlInputLabel">URL</label>
            <input type="text" id="parserInput" data-i18n-placeholder="parserPlaceholder" placeholder="Enter a full URL to parse, e.g. https://example.com/path?key=value#hash">
            <div class="error-msg" id="parserError"></div>
            <div class="btn-row">
                <button class="btn btn-secondary" onclick="APP.clearParser()" data-i18n="btnClear">Clear</button>
                <button class="btn btn-primary" onclick="APP.parseURL()" data-i18n="btnParse">Parse URL</button>
            </div>
        </div>

        <div class="card" id="parserResultCard" style="display:none;">
            <label data-i18n="urlComponents">URL Components</label>
            <table class="parse-table">
                <tbody>
                    <tr><th data-i18n="compProtocol">Protocol</th><td id="comp-protocol">-</td></tr>
                    <tr><th data-i18n="compHost">Host</th><td id="comp-host">-</td></tr>
                    <tr><th data-i18n="compPort">Port</th><td id="comp-port">-</td></tr>
                    <tr><th data-i18n="compPath">Path</th><td id="comp-path">-</td></tr>
                    <tr><th data-i18n="compQuery">Query String</th><td id="comp-query">-</td></tr>
                    <tr><th data-i18n="compHash">Hash</th><td id="comp-hash">-</td></tr>
                </tbody>
            </table>

            <div class="params-section">
                <h3 data-i18n="queryParams">Query Parameters</h3>
                <table class="params-table" id="paramsTable">
                    <thead>
                        <tr>
                            <th data-i18n="paramKey">Key</th>
                            <th data-i18n="paramValue">Value</th>
                            <th data-i18n="paramAction">Action</th>
                        </tr>
                    </thead>
                    <tbody id="paramsBody"></tbody>
                </table>
                <div class="empty-state" id="noParams" data-i18n="noParams">No query parameters</div>
                <button class="add-param-btn" onclick="APP.addParam()" data-i18n="btnAddParam">+ Add Parameter</button>
            </div>

            <div class="built-url-area">
                <div class="built-url-label" data-i18n="builtUrl">Built URL</div>
                <div class="built-url-text" id="builtUrl">-</div>
                <button class="copy-btn" style="top:8px;right:8px;" onclick="APP.copyBuiltUrl(this)" data-i18n="btnCopy">Copy</button>
            </div>
        </div>
    </div>
</div>

<!-- ==================== åŠŸèƒ½ç‰¹ç‚¹ ==================== -->
<section class="features-section">
    <h2 data-i18n="featuresTitle">Key Features</h2>
    <div class="features-grid">
        <div class="feature-card">
            <div class="feature-icon">ğŸ”—</div>
            <h3 data-i18n="featureEncodeTitle">Encode & Decode</h3>
            <p data-i18n="featureEncodeDesc">Supports both encodeURI and encodeURIComponent encoding modes for different use cases.</p>
        </div>
        <div class="feature-card">
            <div class="feature-icon">ğŸ“‹</div>
            <h3 data-i18n="featureBatchTitle">Batch Processing</h3>
            <p data-i18n="featureBatchDesc">Batch line-by-line encoding and decoding â€” process multiple strings at once.</p>
        </div>
        <div class="feature-card">
            <div class="feature-icon">ğŸ”</div>
            <h3 data-i18n="featureParserTitle">URL Parser</h3>
            <p data-i18n="featureParserDesc">Fully parse all URL components and display them visually in a structured breakdown.</p>
        </div>
        <div class="feature-card">
            <div class="feature-icon">âœï¸</div>
            <h3 data-i18n="featureEditorTitle">Parameter Editor</h3>
            <p data-i18n="featureEditorDesc">Interactively edit URL query parameters and rebuild the URL in real time.</p>
        </div>
    </div>
</section>

<!-- ==================== FAQ æ‰‹é£ç´ ==================== -->
<section class="faq-section">
    <h2 data-i18n="faqTitle">Frequently Asked Questions</h2>
    <div class="faq-list">
        <div class="faq-item">
            <div class="faq-question">
                <span data-i18n="faqQ1">What is URL encoding (percent encoding)?</span>
                <span class="faq-arrow">â–¼</span>
            </div>
            <div class="faq-answer">
                <div class="faq-answer-inner" data-i18n="faqA1">URL encoding, also known as percent-encoding, is a mechanism for encoding information in a URI. Special characters are replaced with a percent sign (%) followed by two hexadecimal digits representing the character's ASCII value. For example, a space becomes %20 and an ampersand (&) becomes %26. This ensures URLs are transmitted correctly over the Internet.</div>
            </div>
        </div>
        <div class="faq-item">
            <div class="faq-question">
                <span data-i18n="faqQ2">What's the difference between encodeURI and encodeURIComponent?</span>
                <span class="faq-arrow">â–¼</span>
            </div>
            <div class="faq-answer">
                <div class="faq-answer-inner" data-i18n="faqA2">encodeURI encodes a complete URI but preserves URL structure characters like ://?#[]@!$&'()*+,;=. It is used when you want to encode a full URL while keeping it valid. encodeURIComponent encodes all special characters including URL structure characters, making it suitable for encoding individual query parameter values or path segments.</div>
            </div>
        </div>
        <div class="faq-item">
            <div class="faq-question">
                <span data-i18n="faqQ3">When do I need URL encoding?</span>
                <span class="faq-arrow">â–¼</span>
            </div>
            <div class="faq-answer">
                <div class="faq-answer-inner" data-i18n="faqA3">URL encoding is needed when passing special characters in URL query parameters, form data, API requests, or any context where characters like spaces, ampersands, equals signs, or non-ASCII characters (such as Chinese, Japanese, or emoji) appear in a URL. Without encoding, these characters may break the URL or be misinterpreted.</div>
            </div>
        </div>
        <div class="faq-item">
            <div class="faq-question">
                <span data-i18n="faqQ4">Can I process multiple URLs at once?</span>
                <span class="faq-arrow">â–¼</span>
            </div>
            <div class="faq-answer">
                <div class="faq-answer-inner" data-i18n="faqA4">Yes! This tool supports batch mode. Simply enable the "Batch Mode" toggle and enter one string per line. Each line will be encoded or decoded independently, making it easy to process multiple values at once without repeating the operation.</div>
            </div>
        </div>
        <div class="faq-item">
            <div class="faq-question">
                <span data-i18n="faqQ5">Is this tool free and safe?</span>
                <span class="faq-arrow">â–¼</span>
            </div>
            <div class="faq-answer">
                <div class="faq-answer-inner" data-i18n="faqA5">Yes, this tool is completely free with no usage limits. All processing happens entirely in your browser using JavaScript â€” no data is ever sent to any server. Your URLs and data remain 100% private and secure on your device.</div>
            </div>
        </div>
    </div>
</section>

<!-- ==================== ç›¸å…³å·¥å…·æ¨è ==================== -->
<section class="related-section">
    <h2 data-i18n="relatedTitle">Related Tools</h2>
    <div class="related-grid">
        <a href="base64-tool.html" class="related-card">
            <div class="related-icon">ğŸ”£</div>
            <h3 data-i18n="relatedBase64">Base64 Encoder / Decoder</h3>
        </a>
        <a href="crypto-tools.html" class="related-card">
            <div class="related-icon">ğŸ›¡ï¸</div>
            <h3 data-i18n="relatedCrypto">Crypto & Encoding Toolkit</h3>
        </a>
        <a href="json-viewer.html" class="related-card">
            <div class="related-icon">ğŸ“Š</div>
            <h3 data-i18n="relatedJson">JSON Viewer</h3>
        </a>
        <a href="password-generator.html" class="related-card">
            <div class="related-icon">ğŸ”</div>
            <h3 data-i18n="relatedPassword">Password Generator</h3>
        </a>
    </div>
</section>

<div class="toast" id="toast"></div>

<script>
(function() {
    'use strict';

    // ==================== å›½é™…åŒ– ====================
    const I18N = {
        en: {
            backHome: '\u2190 Back to Toolbox',
            pageTitle: 'URL Encoder / Decoder',
            pageDesc: 'Encode, decode, and parse URLs online \u2014 fast, free, and private.',
            tabEncode: 'Encode',
            tabDecode: 'Decode',
            tabParser: 'URL Parser',
            batchMode: 'Batch Mode (line by line)',
            inputLabel: 'Input',
            outputLabel: 'Output',
            urlInputLabel: 'URL',
            encodePlaceholder: 'Enter text to encode...',
            decodePlaceholder: 'Enter URL-encoded text to decode...',
            resultPlaceholder: 'Result will appear here...',
            parserPlaceholder: 'Enter a full URL to parse, e.g. https://example.com/path?key=value#hash',
            btnClear: 'Clear',
            btnCopy: 'Copy',
            btnCopied: 'Copied!',
            btnParse: 'Parse URL',
            btnSendToDecode: 'Send to Decode',
            btnSendToEncode: 'Send to Encode',
            btnAddParam: '+ Add Parameter',
            urlComponents: 'URL Components',
            compProtocol: 'Protocol',
            compHost: 'Host',
            compPort: 'Port',
            compPath: 'Path',
            compQuery: 'Query String',
            compHash: 'Hash',
            queryParams: 'Query Parameters',
            paramKey: 'Key',
            paramValue: 'Value',
            paramAction: 'Action',
            paramDelete: 'Delete',
            noParams: 'No query parameters',
            builtUrl: 'Built URL',
            errInvalidUrl: 'Invalid URL. Please enter a valid URL starting with http:// or https://',
            errEncode: 'Encoding error: ',
            errDecode: 'Decoding error: ',
            toastCopied: 'Copied to clipboard!',
            featuresTitle: 'Key Features',
            featureEncodeTitle: 'Encode & Decode',
            featureEncodeDesc: 'Supports both encodeURI and encodeURIComponent encoding modes for different use cases.',
            featureBatchTitle: 'Batch Processing',
            featureBatchDesc: 'Batch line-by-line encoding and decoding â€” process multiple strings at once.',
            featureParserTitle: 'URL Parser',
            featureParserDesc: 'Fully parse all URL components and display them visually in a structured breakdown.',
            featureEditorTitle: 'Parameter Editor',
            featureEditorDesc: 'Interactively edit URL query parameters and rebuild the URL in real time.',
            faqTitle: 'Frequently Asked Questions',
            faqQ1: 'What is URL encoding (percent encoding)?',
            faqA1: 'URL encoding, also known as percent-encoding, is a mechanism for encoding information in a URI. Special characters are replaced with a percent sign (%) followed by two hexadecimal digits representing the character\'s ASCII value. For example, a space becomes %20 and an ampersand (&) becomes %26. This ensures URLs are transmitted correctly over the Internet.',
            faqQ2: 'What\'s the difference between encodeURI and encodeURIComponent?',
            faqA2: 'encodeURI encodes a complete URI but preserves URL structure characters like ://?#[]@!$&\'()*+,;=. It is used when you want to encode a full URL while keeping it valid. encodeURIComponent encodes all special characters including URL structure characters, making it suitable for encoding individual query parameter values or path segments.',
            faqQ3: 'When do I need URL encoding?',
            faqA3: 'URL encoding is needed when passing special characters in URL query parameters, form data, API requests, or any context where characters like spaces, ampersands, equals signs, or non-ASCII characters (such as Chinese, Japanese, or emoji) appear in a URL. Without encoding, these characters may break the URL or be misinterpreted.',
            faqQ4: 'Can I process multiple URLs at once?',
            faqA4: 'Yes! This tool supports batch mode. Simply enable the "Batch Mode" toggle and enter one string per line. Each line will be encoded or decoded independently, making it easy to process multiple values at once without repeating the operation.',
            faqQ5: 'Is this tool free and safe?',
            faqA5: 'Yes, this tool is completely free with no usage limits. All processing happens entirely in your browser using JavaScript â€” no data is ever sent to any server. Your URLs and data remain 100% private and secure on your device.',
            relatedTitle: 'Related Tools',
            relatedBase64: 'Base64 Encoder / Decoder',
            relatedCrypto: 'Crypto & Encoding Toolkit',
            relatedJson: 'JSON Viewer',
            relatedPassword: 'Password Generator',
            langName: '\ud83c\uddfa\ud83c\uddf8 English'
        },
        'zh-CN': {
            backHome: '\u2190 \u8fd4\u56de\u5de5\u5177\u7bb1',
            pageTitle: 'URL \u7f16\u89e3\u7801\u5de5\u5177',
            pageDesc: '\u5728\u7ebf\u7f16\u7801\u3001\u89e3\u7801\u548c\u89e3\u6790 URL \u2014 \u5feb\u901f\u3001\u514d\u8d39\u3001\u9690\u79c1\u5b89\u5168\u3002',
            tabEncode: '\u7f16\u7801',
            tabDecode: '\u89e3\u7801',
            tabParser: 'URL \u89e3\u6790',
            batchMode: '\u6279\u91cf\u6a21\u5f0f\uff08\u9010\u884c\u5904\u7406\uff09',
            inputLabel: '\u8f93\u5165',
            outputLabel: '\u8f93\u51fa',
            urlInputLabel: 'URL \u5730\u5740',
            encodePlaceholder: '\u8f93\u5165\u8981\u7f16\u7801\u7684\u6587\u672c...',
            decodePlaceholder: '\u8f93\u5165\u8981\u89e3\u7801\u7684 URL \u7f16\u7801\u6587\u672c...',
            resultPlaceholder: '\u7ed3\u679c\u5c06\u5728\u6b64\u5904\u663e\u793a...',
            parserPlaceholder: '\u8f93\u5165\u5b8c\u6574 URL\uff0c\u4f8b\u5982 https://example.com/path?key=value#hash',
            btnClear: '\u6e05\u7a7a',
            btnCopy: '\u590d\u5236',
            btnCopied: '\u5df2\u590d\u5236!',
            btnParse: '\u89e3\u6790 URL',
            btnSendToDecode: '\u53d1\u9001\u5230\u89e3\u7801',
            btnSendToEncode: '\u53d1\u9001\u5230\u7f16\u7801',
            btnAddParam: '+ \u6dfb\u52a0\u53c2\u6570',
            urlComponents: 'URL \u7ec4\u6210\u90e8\u5206',
            compProtocol: '\u534f\u8bae',
            compHost: '\u4e3b\u673a',
            compPort: '\u7aef\u53e3',
            compPath: '\u8def\u5f84',
            compQuery: '\u67e5\u8be2\u5b57\u7b26\u4e32',
            compHash: '\u54c8\u5e0c\u503c',
            queryParams: '\u67e5\u8be2\u53c2\u6570',
            paramKey: '\u952e',
            paramValue: '\u503c',
            paramAction: '\u64cd\u4f5c',
            paramDelete: '\u5220\u9664',
            noParams: '\u6ca1\u6709\u67e5\u8be2\u53c2\u6570',
            builtUrl: '\u6784\u5efa\u7684 URL',
            errInvalidUrl: '\u65e0\u6548\u7684 URL\u3002\u8bf7\u8f93\u5165\u4ee5 http:// \u6216 https:// \u5f00\u5934\u7684\u6709\u6548 URL',
            errEncode: '\u7f16\u7801\u9519\u8bef\uff1a',
            errDecode: '\u89e3\u7801\u9519\u8bef\uff1a',
            toastCopied: '\u5df2\u590d\u5236\u5230\u526a\u8d34\u677f\uff01',
            featuresTitle: 'æ ¸å¿ƒåŠŸèƒ½',
            featureEncodeTitle: 'ç¼–ç  & è§£ç ',
            featureEncodeDesc: 'æ”¯æŒ encodeURI å’Œ encodeURIComponent ä¸¤ç§ç¼–ç æ¨¡å¼ï¼Œé€‚ç”¨äºä¸åŒä½¿ç”¨åœºæ™¯ã€‚',
            featureBatchTitle: 'æ‰¹é‡å¤„ç†',
            featureBatchDesc: 'æ‰¹é‡é€è¡Œç¼–è§£ç ï¼Œä¸€æ¬¡å¤„ç†å¤šä¸ªå­—ç¬¦ä¸²ï¼Œé«˜æ•ˆä¾¿æ·ã€‚',
            featureParserTitle: 'URL è§£æå™¨',
            featureParserDesc: 'å®Œæ•´è§£æ URL å„ç»„æˆéƒ¨åˆ†ï¼Œä»¥ç»“æ„åŒ–æ–¹å¼å¯è§†åŒ–å±•ç¤ºã€‚',
            featureEditorTitle: 'å‚æ•°ç¼–è¾‘å™¨',
            featureEditorDesc: 'äº¤äº’å¼ç¼–è¾‘ URL æŸ¥è¯¢å‚æ•°ï¼Œå®æ—¶é‡å»º URL åœ°å€ã€‚',
            faqTitle: 'å¸¸è§é—®é¢˜',
            faqQ1: 'ä»€ä¹ˆæ˜¯ URL ç¼–ç ï¼ˆç™¾åˆ†å·ç¼–ç ï¼‰ï¼Ÿ',
            faqA1: 'URL ç¼–ç ï¼Œä¹Ÿç§°ä¸ºç™¾åˆ†å·ç¼–ç ï¼Œæ˜¯ä¸€ç§åœ¨ URI ä¸­ç¼–ç ä¿¡æ¯çš„æœºåˆ¶ã€‚ç‰¹æ®Šå­—ç¬¦ä¼šè¢«æ›¿æ¢ä¸ºç™¾åˆ†å·ï¼ˆ%ï¼‰åè·Ÿä¸¤ä½åå…­è¿›åˆ¶æ•°å­—ï¼Œè¡¨ç¤ºè¯¥å­—ç¬¦çš„ ASCII å€¼ã€‚ä¾‹å¦‚ï¼Œç©ºæ ¼å˜æˆ %20ï¼Œ& ç¬¦å·å˜æˆ %26ã€‚è¿™ç¡®ä¿äº† URL èƒ½åœ¨äº’è”ç½‘ä¸Šæ­£ç¡®ä¼ è¾“ã€‚',
            faqQ2: 'encodeURI å’Œ encodeURIComponent æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ',
            faqA2: 'encodeURI ç¼–ç å®Œæ•´çš„ URIï¼Œä½†ä¼šä¿ç•™ URL ç»“æ„å­—ç¬¦å¦‚ ://?#[]@!$&\'()*+,;=ã€‚å½“ä½ éœ€è¦ç¼–ç ä¸€ä¸ªå®Œæ•´çš„ URL åŒæ—¶ä¿æŒå…¶æœ‰æ•ˆæ€§æ—¶ä½¿ç”¨å®ƒã€‚encodeURIComponent ä¼šç¼–ç æ‰€æœ‰ç‰¹æ®Šå­—ç¬¦ï¼ŒåŒ…æ‹¬ URL ç»“æ„å­—ç¬¦ï¼Œé€‚åˆç”¨äºç¼–ç å•ä¸ªæŸ¥è¯¢å‚æ•°å€¼æˆ–è·¯å¾„ç‰‡æ®µã€‚',
            faqQ3: 'ä»€ä¹ˆæ—¶å€™éœ€è¦ URL ç¼–ç ï¼Ÿ',
            faqA3: 'å½“åœ¨ URL æŸ¥è¯¢å‚æ•°ã€è¡¨å•æ•°æ®ã€API è¯·æ±‚ä¸­ä¼ é€’ç‰¹æ®Šå­—ç¬¦æ—¶ï¼Œæˆ–è€…å½“ç©ºæ ¼ã€& ç¬¦å·ã€ç­‰å·ã€é ASCII å­—ç¬¦ï¼ˆå¦‚ä¸­æ–‡ã€æ—¥æ–‡æˆ–è¡¨æƒ…ç¬¦å·ï¼‰å‡ºç°åœ¨ URL ä¸­æ—¶ï¼Œéƒ½éœ€è¦è¿›è¡Œ URL ç¼–ç ã€‚å¦‚æœä¸ç¼–ç ï¼Œè¿™äº›å­—ç¬¦å¯èƒ½ä¼šç ´å URL æˆ–è¢«é”™è¯¯è§£æã€‚',
            faqQ4: 'å¯ä»¥ä¸€æ¬¡å¤„ç†å¤šä¸ª URL å—ï¼Ÿ',
            faqA4: 'å¯ä»¥ï¼æœ¬å·¥å…·æ”¯æŒæ‰¹é‡æ¨¡å¼ã€‚åªéœ€å¼€å¯"æ‰¹é‡æ¨¡å¼"å¼€å…³ï¼Œæ¯è¡Œè¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚æ¯è¡Œä¼šè¢«ç‹¬ç«‹ç¼–ç æˆ–è§£ç ï¼Œæ–¹ä¾¿ä¸€æ¬¡å¤„ç†å¤šä¸ªå€¼ï¼Œæ— éœ€é‡å¤æ“ä½œã€‚',
            faqQ5: 'è¿™ä¸ªå·¥å…·å…è´¹å®‰å…¨å—ï¼Ÿ',
            faqA5: 'æ˜¯çš„ï¼Œæœ¬å·¥å…·å®Œå…¨å…è´¹ï¼Œæ²¡æœ‰ä½¿ç”¨æ¬¡æ•°é™åˆ¶ã€‚æ‰€æœ‰å¤„ç†å®Œå…¨åœ¨æµè§ˆå™¨ä¸­é€šè¿‡ JavaScript å®Œæˆï¼Œä¸ä¼šå‘ä»»ä½•æœåŠ¡å™¨å‘é€æ•°æ®ã€‚æ‚¨çš„ URL å’Œæ•°æ®åœ¨æ‚¨çš„è®¾å¤‡ä¸Š 100% ç§å¯†å®‰å…¨ã€‚',
            relatedTitle: 'ç›¸å…³å·¥å…·',
            relatedBase64: 'Base64 ç¼–ç  / è§£ç ',
            relatedCrypto: 'åŠ å¯†ä¸ç¼–ç å·¥å…·ç®±',
            relatedJson: 'JSON æŸ¥çœ‹å™¨',
            relatedPassword: 'å¯†ç ç”Ÿæˆå™¨',
            langName: '\ud83c\udde8\ud83c\uddf3 \u4e2d\u6587'
        },
        fr: {
            backHome: '\u2190 Retour \u00e0 la bo\u00eete \u00e0 outils',
            pageTitle: 'Encodeur / D\u00e9codeur URL',
            pageDesc: 'Encodez, d\u00e9codez et analysez les URL en ligne \u2014 rapide, gratuit et priv\u00e9.',
            tabEncode: 'Encoder',
            tabDecode: 'D\u00e9coder',
            tabParser: 'Analyseur URL',
            batchMode: 'Mode batch (ligne par ligne)',
            inputLabel: 'Entr\u00e9e',
            outputLabel: 'Sortie',
            urlInputLabel: 'URL',
            encodePlaceholder: 'Entrez le texte \u00e0 encoder...',
            decodePlaceholder: 'Entrez le texte encod\u00e9 \u00e0 d\u00e9coder...',
            resultPlaceholder: 'Le r\u00e9sultat appara\u00eetra ici...',
            parserPlaceholder: 'Entrez une URL compl\u00e8te, ex. https://example.com/path?key=value#hash',
            btnClear: 'Effacer',
            btnCopy: 'Copier',
            btnCopied: 'Copi\u00e9 !',
            btnParse: 'Analyser l\'URL',
            btnSendToDecode: 'Envoyer au d\u00e9codeur',
            btnSendToEncode: 'Envoyer \u00e0 l\'encodeur',
            btnAddParam: '+ Ajouter un param\u00e8tre',
            urlComponents: 'Composants de l\'URL',
            compProtocol: 'Protocole',
            compHost: 'H\u00f4te',
            compPort: 'Port',
            compPath: 'Chemin',
            compQuery: 'Cha\u00eene de requ\u00eate',
            compHash: 'Hash',
            queryParams: 'Param\u00e8tres de requ\u00eate',
            paramKey: 'Cl\u00e9',
            paramValue: 'Valeur',
            paramAction: 'Action',
            paramDelete: 'Supprimer',
            noParams: 'Aucun param\u00e8tre de requ\u00eate',
            builtUrl: 'URL construite',
            errInvalidUrl: 'URL invalide. Veuillez entrer une URL valide commen\u00e7ant par http:// ou https://',
            errEncode: 'Erreur d\'encodage : ',
            errDecode: 'Erreur de d\u00e9codage : ',
            toastCopied: 'Copi\u00e9 dans le presse-papiers !',
            featuresTitle: 'Fonctionnalit\u00e9s cl\u00e9s',
            featureEncodeTitle: 'Encoder & D\u00e9coder',
            featureEncodeDesc: 'Prend en charge les modes encodeURI et encodeURIComponent pour diff\u00e9rents cas d\'utilisation.',
            featureBatchTitle: 'Traitement par lots',
            featureBatchDesc: 'Encodage et d\u00e9codage ligne par ligne â€” traitez plusieurs cha\u00eenes en une seule fois.',
            featureParserTitle: 'Analyseur d\'URL',
            featureParserDesc: 'Analyse compl\u00e8te de tous les composants d\'une URL avec affichage structur\u00e9.',
            featureEditorTitle: '\u00c9diteur de param\u00e8tres',
            featureEditorDesc: 'Modifiez interactivement les param\u00e8tres de requ\u00eate et reconstruisez l\'URL en temps r\u00e9el.',
            faqTitle: 'Questions fr\u00e9quentes',
            faqQ1: 'Qu\'est-ce que l\'encodage URL (encodage pourcent) ?',
            faqA1: 'L\'encodage URL, \u00e9galement appel\u00e9 encodage pourcent, est un m\u00e9canisme d\'encodage des informations dans un URI. Les caract\u00e8res sp\u00e9ciaux sont remplac\u00e9s par un signe pourcent (%) suivi de deux chiffres hexad\u00e9cimaux repr\u00e9sentant la valeur ASCII du caract\u00e8re. Par exemple, un espace devient %20 et une esperluette (&) devient %26.',
            faqQ2: 'Quelle est la diff\u00e9rence entre encodeURI et encodeURIComponent ?',
            faqA2: 'encodeURI encode un URI complet mais pr\u00e9serve les caract\u00e8res de structure d\'URL comme ://?#[]@!$&\'()*+,;=. encodeURIComponent encode tous les caract\u00e8res sp\u00e9ciaux, y compris les caract\u00e8res de structure, ce qui le rend adapt\u00e9 \u00e0 l\'encodage des valeurs de param\u00e8tres individuels.',
            faqQ3: 'Quand ai-je besoin de l\'encodage URL ?',
            faqA3: 'L\'encodage URL est n\u00e9cessaire lors du passage de caract\u00e8res sp\u00e9ciaux dans les param\u00e8tres de requ\u00eate, les donn\u00e9es de formulaire, les requ\u00eates API, ou tout contexte o\u00f9 des caract\u00e8res non-ASCII apparaissent dans une URL.',
            faqQ4: 'Puis-je traiter plusieurs URL \u00e0 la fois ?',
            faqA4: 'Oui ! Cet outil prend en charge le mode batch. Activez simplement le bouton "Mode batch" et entrez une cha\u00eene par ligne. Chaque ligne sera encod\u00e9e ou d\u00e9cod\u00e9e ind\u00e9pendamment.',
            faqQ5: 'Cet outil est-il gratuit et s\u00fbr ?',
            faqA5: 'Oui, cet outil est enti\u00e8rement gratuit et sans limite d\'utilisation. Tout le traitement se fait dans votre navigateur via JavaScript â€” aucune donn\u00e9e n\'est envoy\u00e9e \u00e0 un serveur. Vos donn\u00e9es restent 100% priv\u00e9es.',
            relatedTitle: 'Outils connexes',
            relatedBase64: 'Encodeur / D\u00e9codeur Base64',
            relatedCrypto: 'Outils de cryptage et d\'encodage',
            relatedJson: 'Visualiseur JSON',
            relatedPassword: 'G\u00e9n\u00e9rateur de mots de passe',
            langName: '\ud83c\uddeb\ud83c\uddf7 Fran\u00e7ais'
        },
        es: {
            backHome: '\u2190 Volver a la caja de herramientas',
            pageTitle: 'Codificador / Decodificador URL',
            pageDesc: 'Codifica, decodifica y analiza URLs en l\u00ednea \u2014 r\u00e1pido, gratuito y privado.',
            tabEncode: 'Codificar',
            tabDecode: 'Decodificar',
            tabParser: 'Analizador URL',
            batchMode: 'Modo por lotes (l\u00ednea por l\u00ednea)',
            inputLabel: 'Entrada',
            outputLabel: 'Salida',
            urlInputLabel: 'URL',
            encodePlaceholder: 'Ingrese el texto a codificar...',
            decodePlaceholder: 'Ingrese el texto codificado a decodificar...',
            resultPlaceholder: 'El resultado aparecer\u00e1 aqu\u00ed...',
            parserPlaceholder: 'Ingrese una URL completa, ej. https://example.com/path?key=value#hash',
            btnClear: 'Limpiar',
            btnCopy: 'Copiar',
            btnCopied: '\u00a1Copiado!',
            btnParse: 'Analizar URL',
            btnSendToDecode: 'Enviar a decodificar',
            btnSendToEncode: 'Enviar a codificar',
            btnAddParam: '+ A\u00f1adir par\u00e1metro',
            urlComponents: 'Componentes de la URL',
            compProtocol: 'Protocolo',
            compHost: 'Host',
            compPort: 'Puerto',
            compPath: 'Ruta',
            compQuery: 'Cadena de consulta',
            compHash: 'Hash',
            queryParams: 'Par\u00e1metros de consulta',
            paramKey: 'Clave',
            paramValue: 'Valor',
            paramAction: 'Acci\u00f3n',
            paramDelete: 'Eliminar',
            noParams: 'Sin par\u00e1metros de consulta',
            builtUrl: 'URL construida',
            errInvalidUrl: 'URL inv\u00e1lida. Ingrese una URL v\u00e1lida que comience con http:// o https://',
            errEncode: 'Error de codificaci\u00f3n: ',
            errDecode: 'Error de decodificaci\u00f3n: ',
            toastCopied: '\u00a1Copiado al portapapeles!',
            featuresTitle: 'Caracter\u00edsticas principales',
            featureEncodeTitle: 'Codificar y Decodificar',
            featureEncodeDesc: 'Compatible con los modos encodeURI y encodeURIComponent para diferentes casos de uso.',
            featureBatchTitle: 'Procesamiento por lotes',
            featureBatchDesc: 'Codificaci\u00f3n y decodificaci\u00f3n l\u00ednea por l\u00ednea â€” procesa m\u00faltiples cadenas a la vez.',
            featureParserTitle: 'Analizador de URL',
            featureParserDesc: 'Analiza completamente todos los componentes de una URL y los muestra de forma estructurada.',
            featureEditorTitle: 'Editor de par\u00e1metros',
            featureEditorDesc: 'Edita interactivamente los par\u00e1metros de consulta de la URL y reconstr\u00fayela en tiempo real.',
            faqTitle: 'Preguntas frecuentes',
            faqQ1: '\u00bfQu\u00e9 es la codificaci\u00f3n URL (codificaci\u00f3n porcentual)?',
            faqA1: 'La codificaci\u00f3n URL, tambi\u00e9n conocida como codificaci\u00f3n porcentual, es un mecanismo para codificar informaci\u00f3n en un URI. Los caracteres especiales se reemplazan con un signo de porcentaje (%) seguido de dos d\u00edgitos hexadecimales que representan el valor ASCII del car\u00e1cter. Por ejemplo, un espacio se convierte en %20 y un ampersand (&) en %26.',
            faqQ2: '\u00bfCu\u00e1l es la diferencia entre encodeURI y encodeURIComponent?',
            faqA2: 'encodeURI codifica un URI completo pero preserva los caracteres de estructura de URL como ://?#[]@!$&\'()*+,;=. encodeURIComponent codifica todos los caracteres especiales, incluyendo los de estructura, lo que lo hace adecuado para codificar valores de par\u00e1metros de consulta individuales.',
            faqQ3: '\u00bfCu\u00e1ndo necesito codificaci\u00f3n URL?',
            faqA3: 'La codificaci\u00f3n URL es necesaria al pasar caracteres especiales en par\u00e1metros de consulta, datos de formularios, solicitudes de API, o cualquier contexto donde caracteres no-ASCII aparezcan en una URL.',
            faqQ4: '\u00bfPuedo procesar m\u00faltiples URLs a la vez?',
            faqA4: '\u00a1S\u00ed! Esta herramienta admite el modo por lotes. Simplemente active el bot\u00f3n "Modo por lotes" e ingrese una cadena por l\u00ednea. Cada l\u00ednea se codificar\u00e1 o decodificar\u00e1 de forma independiente.',
            faqQ5: '\u00bfEsta herramienta es gratuita y segura?',
            faqA5: 'S\u00ed, esta herramienta es completamente gratuita y sin l\u00edmites de uso. Todo el procesamiento se realiza en tu navegador mediante JavaScript â€” ning\u00fan dato se env\u00eda a ning\u00fan servidor. Tus datos permanecen 100% privados y seguros.',
            relatedTitle: 'Herramientas relacionadas',
            relatedBase64: 'Codificador / Decodificador Base64',
            relatedCrypto: 'Herramientas de cifrado y codificaci\u00f3n',
            relatedJson: 'Visor JSON',
            relatedPassword: 'Generador de contrase\u00f1as',
            langName: '\ud83c\uddea\ud83c\uddf8 Espa\u00f1ol'
        }
    };

    let currentLang = localStorage.getItem('urlenc_lang') || 'en';
    let encodeMode = 'component'; // component | uri
    let decodeMode = 'component';
    let parsedUrlObj = null;

    // ==================== å›½é™…åŒ–åº”ç”¨ ====================
    function t(key) {
        return (I18N[currentLang] && I18N[currentLang][key]) || I18N.en[key] || key;
    }

    function applyI18N() {
        // data-i18n æ–‡æœ¬å†…å®¹
        document.querySelectorAll('[data-i18n]').forEach(function(el) {
            var key = el.getAttribute('data-i18n');
            if (key && t(key)) {
                el.textContent = t(key);
            }
        });
        // data-i18n-placeholder
        document.querySelectorAll('[data-i18n-placeholder]').forEach(function(el) {
            var key = el.getAttribute('data-i18n-placeholder');
            if (key && t(key)) {
                el.placeholder = t(key);
            }
        });
        // æ›´æ–°è¯­è¨€åˆ‡æ¢å™¨æ˜¾ç¤º
        var langCurrent = document.getElementById('langCurrent');
        if (langCurrent) {
            langCurrent.textContent = I18N[currentLang] ? I18N[currentLang].langName : '\ud83c\uddfa\ud83c\uddf8 English';
        }
        // æ›´æ–°å‚æ•°è¡¨æ ¼ä¸­çš„åˆ é™¤æŒ‰é’®
        document.querySelectorAll('.param-action-btn').forEach(function(btn) {
            btn.textContent = t('paramDelete');
        });
    }

    function setLang(lang) {
        currentLang = lang;
        localStorage.setItem('urlenc_lang', lang);
        applyI18N();
        document.getElementById('langDropdown').classList.remove('active');
    }

    // ==================== Tab åˆ‡æ¢ ====================
    function switchTab(tab) {
        document.querySelectorAll('.tab-btn').forEach(function(btn) {
            btn.classList.toggle('active', btn.getAttribute('data-tab') === tab);
        });
        document.querySelectorAll('.tab-panel').forEach(function(panel) {
            panel.classList.toggle('active', panel.id === 'panel-' + tab);
        });
    }

    // ==================== ç¼–ç  ====================
    function doEncode() {
        var input = document.getElementById('encodeInput').value;
        var output = document.getElementById('encodeOutput');
        var errorEl = document.getElementById('encodeError');
        errorEl.classList.remove('show');
        errorEl.textContent = '';

        if (!input) {
            output.value = '';
            return;
        }

        var isBatch = document.getElementById('encodeBatch').checked;
        try {
            if (isBatch) {
                var lines = input.split('\n');
                output.value = lines.map(function(line) {
                    return encodeMode === 'component' ? encodeURIComponent(line) : encodeURI(line);
                }).join('\n');
            } else {
                output.value = encodeMode === 'component' ? encodeURIComponent(input) : encodeURI(input);
            }
        } catch (e) {
            errorEl.textContent = t('errEncode') + e.message;
            errorEl.classList.add('show');
            output.value = '';
        }
    }

    // ==================== è§£ç  ====================
    function doDecode() {
        var input = document.getElementById('decodeInput').value;
        var output = document.getElementById('decodeOutput');
        var errorEl = document.getElementById('decodeError');
        errorEl.classList.remove('show');
        errorEl.textContent = '';

        if (!input) {
            output.value = '';
            return;
        }

        var isBatch = document.getElementById('decodeBatch').checked;
        try {
            if (isBatch) {
                var lines = input.split('\n');
                output.value = lines.map(function(line) {
                    return decodeMode === 'component' ? decodeURIComponent(line) : decodeURI(line);
                }).join('\n');
            } else {
                output.value = decodeMode === 'component' ? decodeURIComponent(input) : decodeURI(input);
            }
        } catch (e) {
            errorEl.textContent = t('errDecode') + e.message;
            errorEl.classList.add('show');
            output.value = '';
        }
    }

    // ==================== URL è§£æ ====================
    function parseURL() {
        var input = document.getElementById('parserInput').value.trim();
        var errorEl = document.getElementById('parserError');
        var resultCard = document.getElementById('parserResultCard');
        errorEl.classList.remove('show');
        errorEl.textContent = '';

        if (!input) {
            resultCard.style.display = 'none';
            return;
        }

        try {
            parsedUrlObj = new URL(input);
        } catch (e) {
            errorEl.textContent = t('errInvalidUrl');
            errorEl.classList.add('show');
            resultCard.style.display = 'none';
            return;
        }

        resultCard.style.display = 'block';

        document.getElementById('comp-protocol').textContent = parsedUrlObj.protocol || '-';
        document.getElementById('comp-host').textContent = parsedUrlObj.hostname || '-';
        document.getElementById('comp-port').textContent = parsedUrlObj.port || t('compPort') === 'Port' ? (parsedUrlObj.port || 'default') : (parsedUrlObj.port || 'default');
        document.getElementById('comp-path').textContent = parsedUrlObj.pathname || '/';
        document.getElementById('comp-query').textContent = parsedUrlObj.search || '-';
        document.getElementById('comp-hash').textContent = parsedUrlObj.hash || '-';

        renderParams();
    }

    function renderParams() {
        var tbody = document.getElementById('paramsBody');
        var noParams = document.getElementById('noParams');
        tbody.innerHTML = '';

        if (!parsedUrlObj) {
            noParams.style.display = 'block';
            return;
        }

        var params = Array.from(parsedUrlObj.searchParams.entries());
        if (params.length === 0) {
            noParams.style.display = 'block';
        } else {
            noParams.style.display = 'none';
            params.forEach(function(pair, idx) {
                var tr = document.createElement('tr');
                tr.innerHTML =
                    '<td><input type="text" value="' + escapeAttr(pair[0]) + '" data-param-idx="' + idx + '" data-param-field="key"></td>' +
                    '<td><input type="text" value="' + escapeAttr(pair[1]) + '" data-param-idx="' + idx + '" data-param-field="value"></td>' +
                    '<td><button class="param-action-btn" data-param-idx="' + idx + '">' + t('paramDelete') + '</button></td>';
                tbody.appendChild(tr);
            });

            // ç»‘å®šäº‹ä»¶
            tbody.querySelectorAll('input').forEach(function(inp) {
                inp.addEventListener('input', function() {
                    rebuildUrlFromParams();
                });
            });
            tbody.querySelectorAll('.param-action-btn').forEach(function(btn) {
                btn.addEventListener('click', function() {
                    deleteParam(parseInt(btn.getAttribute('data-param-idx')));
                });
            });
        }

        rebuildUrlFromParams();
    }

    function rebuildUrlFromParams() {
        if (!parsedUrlObj) return;
        var tbody = document.getElementById('paramsBody');
        var rows = tbody.querySelectorAll('tr');
        var newSearch = new URLSearchParams();
        rows.forEach(function(row) {
            var keyInput = row.querySelector('[data-param-field="key"]');
            var valInput = row.querySelector('[data-param-field="value"]');
            if (keyInput && valInput && keyInput.value) {
                newSearch.append(keyInput.value, valInput.value);
            }
        });

        var builtStr = parsedUrlObj.protocol + '//' + parsedUrlObj.hostname;
        if (parsedUrlObj.port) builtStr += ':' + parsedUrlObj.port;
        builtStr += parsedUrlObj.pathname;
        var qs = newSearch.toString();
        if (qs) builtStr += '?' + qs;
        if (parsedUrlObj.hash) builtStr += parsedUrlObj.hash;

        document.getElementById('builtUrl').textContent = builtStr;
    }

    function deleteParam(idx) {
        var tbody = document.getElementById('paramsBody');
        var rows = tbody.querySelectorAll('tr');
        if (rows[idx]) {
            rows[idx].remove();
            rebuildUrlFromParams();
            // æ£€æŸ¥æ˜¯å¦è¿˜æœ‰å‚æ•°
            if (tbody.querySelectorAll('tr').length === 0) {
                document.getElementById('noParams').style.display = 'block';
            }
        }
    }

    function addParam() {
        var tbody = document.getElementById('paramsBody');
        document.getElementById('noParams').style.display = 'none';
        var idx = tbody.querySelectorAll('tr').length;
        var tr = document.createElement('tr');
        tr.innerHTML =
            '<td><input type="text" value="" data-param-idx="' + idx + '" data-param-field="key" placeholder="key"></td>' +
            '<td><input type="text" value="" data-param-idx="' + idx + '" data-param-field="value" placeholder="value"></td>' +
            '<td><button class="param-action-btn" data-param-idx="' + idx + '">' + t('paramDelete') + '</button></td>';
        tbody.appendChild(tr);

        tr.querySelectorAll('input').forEach(function(inp) {
            inp.addEventListener('input', function() {
                rebuildUrlFromParams();
            });
        });
        tr.querySelector('.param-action-btn').addEventListener('click', function() {
            tr.remove();
            rebuildUrlFromParams();
            if (tbody.querySelectorAll('tr').length === 0) {
                document.getElementById('noParams').style.display = 'block';
            }
        });

        // å¦‚æœæ²¡æœ‰ parsedUrlObjï¼Œåˆ›å»ºä¸€ä¸ªåŸºç¡€çš„
        if (!parsedUrlObj) {
            try {
                parsedUrlObj = new URL('https://example.com/');
            } catch(e) {}
        }
        rebuildUrlFromParams();
    }

    // ==================== å·¥å…·å‡½æ•° ====================
    function escapeAttr(str) {
        return str.replace(/&/g, '&amp;').replace(/"/g, '&quot;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
    }

    function copyToClipboard(text, btnEl) {
        navigator.clipboard.writeText(text).then(function() {
            if (btnEl) {
                var origText = btnEl.textContent;
                btnEl.textContent = t('btnCopied');
                btnEl.classList.add('copied');
                setTimeout(function() {
                    btnEl.textContent = t('btnCopy');
                    btnEl.classList.remove('copied');
                }, 1500);
            }
            showToast(t('toastCopied'));
        }).catch(function() {
            // å›é€€æ–¹æ¡ˆ
            var ta = document.createElement('textarea');
            ta.value = text;
            ta.style.position = 'fixed';
            ta.style.opacity = '0';
            document.body.appendChild(ta);
            ta.select();
            document.execCommand('copy');
            document.body.removeChild(ta);
            if (btnEl) {
                var origText = btnEl.textContent;
                btnEl.textContent = t('btnCopied');
                btnEl.classList.add('copied');
                setTimeout(function() {
                    btnEl.textContent = t('btnCopy');
                    btnEl.classList.remove('copied');
                }, 1500);
            }
            showToast(t('toastCopied'));
        });
    }

    function showToast(msg) {
        var toast = document.getElementById('toast');
        toast.textContent = msg;
        toast.classList.add('show');
        setTimeout(function() {
            toast.classList.remove('show');
        }, 2000);
    }

    // ==================== äº‹ä»¶ç»‘å®š ====================
    function init() {
        // è¯­è¨€åˆ‡æ¢
        document.getElementById('langDropdown').addEventListener('click', function(e) {
            e.stopPropagation();
            this.classList.toggle('active');
        });
        document.querySelectorAll('.lang-btn').forEach(function(btn) {
            btn.addEventListener('click', function(e) {
                e.stopPropagation();
                setLang(this.getAttribute('data-lang'));
            });
        });
        document.addEventListener('click', function() {
            document.getElementById('langDropdown').classList.remove('active');
        });

        // Tab åˆ‡æ¢
        document.querySelectorAll('.tab-btn').forEach(function(btn) {
            btn.addEventListener('click', function() {
                switchTab(this.getAttribute('data-tab'));
            });
        });

        // ç¼–ç æ¨¡å¼åˆ‡æ¢
        document.querySelectorAll('[data-encode-mode]').forEach(function(btn) {
            btn.addEventListener('click', function() {
                encodeMode = this.getAttribute('data-encode-mode');
                document.querySelectorAll('[data-encode-mode]').forEach(function(b) {
                    b.classList.toggle('active', b.getAttribute('data-encode-mode') === encodeMode);
                });
                doEncode();
            });
        });

        // è§£ç æ¨¡å¼åˆ‡æ¢
        document.querySelectorAll('[data-decode-mode]').forEach(function(btn) {
            btn.addEventListener('click', function() {
                decodeMode = this.getAttribute('data-decode-mode');
                document.querySelectorAll('[data-decode-mode]').forEach(function(b) {
                    b.classList.toggle('active', b.getAttribute('data-decode-mode') === decodeMode);
                });
                doDecode();
            });
        });

        // å®æ—¶ç¼–ç 
        document.getElementById('encodeInput').addEventListener('input', doEncode);
        document.getElementById('encodeBatch').addEventListener('change', doEncode);

        // å®æ—¶è§£ç 
        document.getElementById('decodeInput').addEventListener('input', doDecode);
        document.getElementById('decodeBatch').addEventListener('change', doDecode);

        // URL è§£æå™¨å®æ—¶è§¦å‘
        document.getElementById('parserInput').addEventListener('input', function() {
            var val = this.value.trim();
            if (val) {
                parseURL();
            } else {
                document.getElementById('parserResultCard').style.display = 'none';
            }
        });

        // FAQ æ‰‹é£ç´äº¤äº’
        document.querySelectorAll('.faq-question').forEach(function(question) {
            question.addEventListener('click', function() {
                var item = this.parentElement;
                var isActive = item.classList.contains('active');
                // å…³é—­æ‰€æœ‰å…¶ä»– FAQ é¡¹
                document.querySelectorAll('.faq-item').forEach(function(faq) {
                    faq.classList.remove('active');
                });
                // åˆ‡æ¢å½“å‰é¡¹
                if (!isActive) {
                    item.classList.add('active');
                }
            });
        });

        // åº”ç”¨è¯­è¨€
        applyI18N();
    }

    // ==================== æš´éœ²å…¬å…± API ====================
    window.APP = {
        copyResult: function(textareaId, btnEl) {
            var text = document.getElementById(textareaId).value;
            if (text) copyToClipboard(text, btnEl);
        },
        copyBuiltUrl: function(btnEl) {
            var text = document.getElementById('builtUrl').textContent;
            if (text && text !== '-') copyToClipboard(text, btnEl);
        },
        clearField: function(inputId, outputId) {
            document.getElementById(inputId).value = '';
            document.getElementById(outputId).value = '';
            // æ¸…é™¤é”™è¯¯ä¿¡æ¯
            var panel = document.getElementById(inputId).closest('.tab-panel');
            if (panel) {
                var err = panel.querySelector('.error-msg');
                if (err) { err.classList.remove('show'); err.textContent = ''; }
            }
        },
        clearParser: function() {
            document.getElementById('parserInput').value = '';
            document.getElementById('parserResultCard').style.display = 'none';
            document.getElementById('parserError').classList.remove('show');
            document.getElementById('parserError').textContent = '';
            parsedUrlObj = null;
        },
        swapTab: function(targetTab, sourceOutputId) {
            var text = document.getElementById(sourceOutputId).value;
            switchTab(targetTab);
            if (targetTab === 'decode') {
                document.getElementById('decodeInput').value = text;
                doDecode();
            } else if (targetTab === 'encode') {
                document.getElementById('encodeInput').value = text;
                doEncode();
            }
        },
        parseURL: parseURL,
        addParam: addParam
    };

    // åˆå§‹åŒ–
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', init);
    } else {
        init();
    }
})();
</script>
</body>
</html>
