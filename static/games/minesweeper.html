<!doctype html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>æ‰«é›·</title><link rel="stylesheet" href="/games/common.css"><style>.wrap{max-width:560px}.board{display:grid;grid-template-columns:repeat(9,1fr);gap:4px}.cell{height:44px;background:#1f2937;border-radius:6px;display:flex;align-items:center;justify-content:center;font-weight:700;user-select:none;touch-action:manipulation}.open{background:#e2e8f0;color:#0f172a}.bomb{background:#ef4444}.flag{background:#334155}</style></head><body><div class="wrap"><div class="top"><h2>æ‰«é›· 9x9</h2><a href="/games/">è¿”å›</a></div><div class="info"><div>åœ°é›·ï¼š<b id="m">10</b></div><div>å‰©ä½™æœªå¼€ï¼š<b id="left">81</b></div><button id="r">é‡å¼€</button></div><div id="bd" class="board"></div></div><script>const N=9,B=10,bd=document.getElementById('bd');let g=[];function init(){g=Array.from({length:N*N},(_,i)=>({b:false,o:false,f:false,n:0}));let k=0;while(k<B){const i=Math.floor(Math.random()*N*N);if(!g[i].b){g[i].b=true;k++}}for(let i=0;i<N*N;i++){if(g[i].b)continue;const r=Math.floor(i/N),c=i%N;let n=0;for(let dr=-1;dr<=1;dr++)for(let dc=-1;dc<=1;dc++){if(!dr&&!dc)continue;const rr=r+dr,cc=c+dc;if(rr>=0&&rr<N&&cc>=0&&cc<N&&g[rr*N+cc].b)n++}g[i].n=n}render()}function open(i){const t=g[i];if(t.o||t.f)return;if(t.b){t.o=true;render(true);alert('è¸©é›·äº†');return}const q=[i];while(q.length){const j=q.pop(),a=g[j];if(a.o||a.f)continue;a.o=true;if(a.n===0){const r=Math.floor(j/N),c=j%N;for(let dr=-1;dr<=1;dr++)for(let dc=-1;dc<=1;dc++){const rr=r+dr,cc=c+dc;if(rr>=0&&rr<N&&cc>=0&&cc<N)q.push(rr*N+cc)}}}render(false);if(g.filter(v=>!v.o).length===B){alert('é€šå…³ï¼')}}function flag(i){if(g[i].o)return;g[i].f=!g[i].f;render()}function render(showBomb=false){bd.innerHTML='';let unopened=0;g.forEach((v,i)=>{if(!v.o)unopened++;const d=document.createElement('div');d.className='cell'+(v.o?' open':'')+(v.f?' flag':'')+(showBomb&&v.b?' bomb':'');d.textContent=v.f?'ğŸš©':(v.o?(v.b?'ğŸ’£':(v.n||'')):'');d.oncontextmenu=(e)=>{e.preventDefault();flag(i)};d.onclick=()=>open(i);bd.appendChild(d)});left.textContent=unopened}r.onclick=init;init();</script></body></html>