<!doctype html><html lang="zh-CN"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>贪吃蛇</title><style>body{margin:0;background:#0f172a;color:#e2e8f0;font-family:system-ui}.wrap{max-width:520px;margin:20px auto;padding:0 12px}canvas{background:#020617;border:1px solid #334155;border-radius:8px;display:block}button,a{background:#0ea5e9;color:#fff;border:0;border-radius:8px;padding:8px 12px;text-decoration:none} .top{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}</style></head><body><div class="wrap"><div class="top"><h2>贪吃蛇</h2><a href="/games/">返回</a></div><p>分数：<span id="score">0</span>（方向键控制）</p><canvas id="c" width="480" height="480"></canvas><p><button id="restart">重新开始</button></p></div><script>const c=document.getElementById('c'),ctx=c.getContext('2d');const n=24,sz=20;let snake,dir,food,score,timer;function init(){snake=[{x:10,y:10}];dir={x:1,y:0};food={x:5,y:5};score=0;document.getElementById('score').textContent=score;clearInterval(timer);timer=setInterval(step,120)}function rnd(){return Math.floor(Math.random()*n)}function placeFood(){do{food={x:rnd(),y:rnd()}}while(snake.some(s=>s.x===food.x&&s.y===food.y))}function step(){const h={x:snake[0].x+dir.x,y:snake[0].y+dir.y};if(h.x<0||h.y<0||h.x>=n||h.y>=n||snake.some(s=>s.x===h.x&&s.y===h.y)){alert('游戏结束，得分：'+score);return init()}snake.unshift(h);if(h.x===food.x&&h.y===food.y){score++;document.getElementById('score').textContent=score;placeFood()}else snake.pop();draw()}function draw(){ctx.clearRect(0,0,480,480);ctx.fillStyle='#22c55e';snake.forEach(s=>ctx.fillRect(s.x*sz+1,s.y*sz+1,sz-2,sz-2));ctx.fillStyle='#ef4444';ctx.fillRect(food.x*sz+2,food.y*sz+2,sz-4,sz-4)}window.addEventListener('keydown',e=>{if(e.key==='ArrowUp'&&dir.y!==1)dir={x:0,y:-1};if(e.key==='ArrowDown'&&dir.y!==-1)dir={x:0,y:1};if(e.key==='ArrowLeft'&&dir.x!==1)dir={x:-1,y:0};if(e.key==='ArrowRight'&&dir.x!==-1)dir={x:1,y:0}});document.getElementById('restart').onclick=init;init();</script></body></html>